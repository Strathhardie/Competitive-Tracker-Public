(function(){var d=window.jQuery;
var c=new Date;
c.setFullYear(c.getFullYear()+5);
d(".nav-primary .secondary-links .language .language-switcher").on("click",function(){var e="header";
b(e)
});
d("footer .lower-links .language-switcher").on("click",function(){var e="footer";
b(e)
});
d("#langSwitcher .languageswitcherlist .languages a").on("click",function(){if(d(this).attr("data-localepath").indexOf("/fr/")!==-1||d(this).attr("lang")=="fr"){var e="fr_CA";
Cookies.set("langselected",e,{expires:c});
a(e)
}else{if(d(this).attr("data-localepath").indexOf("/en/")!==-1||d(this).attr("lang")=="en"){if(d(this).attr("data-localepath").indexOf("/uspublic/")!==-1||d(this).attr("href").indexOf("/us.cibc.com/")!==-1){var e="en_US";
a(e)
}else{var e="en_CA";
Cookies.set("langselected",e,{expires:c});
a(e)
}}}});
d("#langSwitcher .languageswitcherlist .other-langs ul.o-langs a").on("click",function(){var e="";
if(d(this).attr("lang")=="zh-Hans"){e="zh_CA"
}else{if(d(this).attr("lang")=="zh-Hant"){e="zt_CA"
}else{if(d(this).attr("lang")=="ar"){e="ar_CA"
}else{if(d(this).attr("lang")=="ko"){e="ko_CA"
}else{if(d(this).attr("lang")=="pa"){e="pa_CA"
}}}}}a(e)
});
function b(e){window.digitalData.interaction=window.digitalData.interaction||{};
window.digitalData.events.pageView=false;
window.digitalData.events.siteInteraction=true;
if(typeof window.digitalData.events.advertisingImpression!=="undefined"){window.digitalData.events.advertisingImpression=false
}window.digitalData.interaction.name="languageselector:open:"+e;
if(typeof _satellite!=="undefined"){_satellite.track("track")
}}function a(e){window.digitalData.interaction=window.digitalData.interaction||{};
window.digitalData.events.pageView=false;
window.digitalData.events.siteInteraction=true;
if(typeof window.digitalData.events.advertisingImpression!=="undefined"){window.digitalData.events.advertisingImpression=false
}window.digitalData.interaction.name="languageselector:click:"+e;
if(typeof _satellite!=="undefined"){_satellite.track("track")
}}d("#langSwitcher .inner-wrapper a.button").on("click",function(){if(d(this).attr("href").indexOf("/fr/")===-1){var e="en_CA";
a(e)
}else{var e="fr_CA";
a(e)
}})
}());
/*!
 * JavaScript Cookie v2.0.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(a)
}else{if(typeof exports==="object"){module.exports=a()
}else{var c=window.Cookies;
var b=window.Cookies=a();
b.noConflict=function(){window.Cookies=c;
return b
}
}}}(function(){function b(){var f=0;
var c={};
for(;
f<arguments.length;
f++){var d=arguments[f];
for(var e in d){c[e]=d[e]
}}return c
}function a(d){function c(o,n,k){var r;
if(arguments.length>1){k=b({path:"/"},c.defaults,k);
if(typeof k.expires==="number"){var h=new Date();
h.setMilliseconds(h.getMilliseconds()+k.expires*86400000);
k.expires=h
}try{r=JSON.stringify(n);
if(/^[\{\[]/.test(r)){n=r
}}catch(m){}n=encodeURIComponent(String(n));
n=n.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);
o=encodeURIComponent(String(o));
o=o.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);
o=o.replace(/[\(\)]/g,escape);
return(document.cookie=[o,"=",n,k.expires&&"; expires="+k.expires.toUTCString(),k.path&&"; path="+k.path,k.domain&&"; domain="+k.domain,k.secure?"; secure":""].join(""))
}if(!o){r={}
}var q=document.cookie?document.cookie.split("; "):[];
var p=/(%[0-9A-Z]{2})+/g;
var l=0;
for(;
l<q.length;
l++){var j=q[l].split("=");
var f=j[0].replace(p,decodeURIComponent);
var g=j.slice(1).join("=");
if(g.charAt(0)==='"'){g=g.slice(1,-1)
}try{g=d&&d(g,f)||g.replace(p,decodeURIComponent);
if(this.json){try{g=JSON.parse(g)
}catch(m){}}if(o===f){r=g;
break
}if(!o){r[f]=g
}}catch(m){}}return r
}c.get=c.set=c;
c.getJSON=function(){return c.apply({json:true},[].slice.call(arguments))
};
c.defaults={};
c.remove=function(f,e){c(f,"",b(e,{expires:-1}))
};
c.withConverter=a;
return c
}return a()
}));
/*!
 * hoverIntent v1.8.0 // 2014.06.29 // jQuery v1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */
(function(a){a.fn.hoverIntent=function(m,d,h){var j={interval:100,sensitivity:6,timeout:0};
if(typeof m==="object"){j=a.extend(j,m)
}else{if(a.isFunction(d)){j=a.extend(j,{over:m,out:d,selector:h})
}else{j=a.extend(j,{over:m,out:m,selector:d})
}}var l,k,g,f;
var e=function(n){l=n.pageX;
k=n.pageY
};
var c=function(o,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);
if(Math.sqrt((g-l)*(g-l)+(f-k)*(f-k))<j.sensitivity){a(n).off("mousemove.hoverIntent",e);
n.hoverIntent_s=true;
return j.over.apply(n,[o])
}else{g=l;
f=k;
n.hoverIntent_t=setTimeout(function(){c(o,n)
},j.interval)
}};
var i=function(o,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);
n.hoverIntent_s=false;
return j.out.apply(n,[o])
};
var b=function(p){var o=a.extend({},p);
var n=this;
if(n.hoverIntent_t){n.hoverIntent_t=clearTimeout(n.hoverIntent_t)
}if(p.type==="mouseenter"){g=o.pageX;
f=o.pageY;
a(n).on("mousemove.hoverIntent",e);
if(!n.hoverIntent_s){n.hoverIntent_t=setTimeout(function(){c(o,n)
},j.interval)
}}else{a(n).off("mousemove.hoverIntent",e);
if(n.hoverIntent_s){n.hoverIntent_t=setTimeout(function(){i(o,n)
},j.timeout)
}}};
return this.on({"mouseenter.hoverIntent":b,"mouseleave.hoverIntent":b},j.selector)
}
})(jQuery);
(function(E){var o=0,f=0,G=0,n=0,t="ontouchstart" in window,p="onorientationchange" in window,k=!1,F=!1,d=!1,A=!1,l=!1,z="pointer",c="pointer",a=[],h=[],q=[],i=[],v=[],j=[],r=[],y=[],u=[],C=[],x=[],D={showScrollbar:function(b,m){b.scrollbarHide&&E("."+m).css({opacity:b.scrollbarOpacity,filter:"alpha(opacity:"+100*b.scrollbarOpacity+")"})
},hideScrollbar:function(N,K,M,J,I,L,H,Q,e,O){if(N.scrollbar&&N.scrollbarHide){for(var P=M;
P<M+25;
P++){K[K.length]=D.hideScrollbarIntervalTimer(10*P,J[M],(M+24-P)/24,I,L,H,Q,e,O,N)
}}},hideScrollbarInterval:function(M,J,L,I,H,K,e,b,N){n=-1*M/u[b]*(H-K-e-I);
D.setSliderOffset("."+L,n);
E("."+L).css({opacity:N.scrollbarOpacity*J,filter:"alpha(opacity:"+100*N.scrollbarOpacity*J+")"})
},slowScrollHorizontalInterval:function(af,ac,ae,ab,aa,ad,m,b,e,B,S,H,w,M,Q,V,P,X,Y){if(Y.infiniteSlider){if(ae<=-1*u[V]){var U=E(af).width();
if(ae<=-1*C[V]){var R=-1*S[0];
E(ac).each(function(I){D.setSliderOffset(E(ac)[I],R+P);
I<H.length&&(H[I]=-1*R);
R+=Q[I]
});
ae+=-1*H[0];
y[V]=-1*H[0]+P;
u[V]=y[V]+U-ad;
r[V]=0
}else{var Z=0,T=D.getSliderOffset(E(ac[0]),"x");
E(ac).each(function(I){D.getSliderOffset(this,"x")<T&&(T=D.getSliderOffset(this,"x"),Z=I)
});
w=y[V]+U;
D.setSliderOffset(E(ac)[Z],w);
y[V]=-1*H[1]+P;
u[V]=y[V]+U-ad;
H.splice(0,1);
H.splice(H.length,0,-1*w+P);
r[V]++
}}if(ae>=-1*y[V]||0<=ae){U=E(af).width();
if(0<=ae){for(R=-1*S[0],E(ac).each(function(I){D.setSliderOffset(E(ac)[I],R+P);
I<H.length&&(H[I]=-1*R);
R+=Q[I]
}),ae-=-1*H[0],y[V]=-1*H[0]+P,u[V]=y[V]+U-ad,r[V]=M;
0<-1*H[0]-U+P;
){var W=0,L=D.getSliderOffset(E(ac[0]),"x");
E(ac).each(function(I){D.getSliderOffset(this,"x")>L&&(L=D.getSliderOffset(this,"x"),W=I)
});
w=y[V]-Q[W];
D.setSliderOffset(E(ac)[W],w);
H.splice(0,0,-1*w+P);
H.splice(H.length-1,1);
y[V]=-1*H[0]+P;
u[V]=y[V]+U-ad;
r[V]--;
v[V]++
}}0>ae&&(W=0,L=D.getSliderOffset(E(ac[0]),"x"),E(ac).each(function(I){D.getSliderOffset(this,"x")>L&&(L=D.getSliderOffset(this,"x"),W=I)
}),w=y[V]-Q[W],D.setSliderOffset(E(ac)[W],w),H.splice(0,0,-1*w+P),H.splice(H.length-1,1),y[V]=-1*H[0]+P,u[V]=y[V]+U-ad,r[V]--)
}}S=!1;
ad=D.calcActiveOffset(Y,ae,H,ad,r[V],M,B,V);
w=(ad+r[V]+M)%M;
Y.infiniteSlider?w!=j[V]&&(S=!0):ad!=v[V]&&(S=!0);
if(S&&(M=new D.args("change",Y,af,E(af).children(":eq("+w+")"),w,X),E(af).parent().data("args",M),""!=Y.onSlideChange)){Y.onSlideChange(M)
}v[V]=ad;
j[V]=w;
ae=Math.floor(ae);
D.setSliderOffset(af,ae);
Y.scrollbar&&(n=Math.floor((-1*ae-y[V]+P)/(u[V]-y[V]+P)*(m-b-aa)),af=aa-e,ae>=-1*y[V]+P?(af=aa-e- -1*n,D.setSliderOffset(E("."+ab),0)):(ae<=-1*u[V]+1&&(af=m-b-e-n),D.setSliderOffset(E("."+ab),n)),E("."+ab).css({width:af+"px"}))
},slowScrollHorizontal:function(al,ai,ak,ah,ag,aj,B,e,m,M,X,P,H,S,U,aa,T,ac,ad,Z,V){var af=D.getSliderOffset(al,"x");
aj=[];
var Y=0,ab=25/1024*e;
frictionCoefficient=V.frictionCoefficient;
elasticFrictionCoefficient=V.elasticFrictionCoefficient;
snapFrictionCoefficient=V.snapFrictionCoefficient;
ag>V.snapVelocityThreshold&&V.snapToChildren&&!ad?Y=1:ag<-1*V.snapVelocityThreshold&&(V.snapToChildren&&!ad)&&(Y=-1);
ag<-1*ab?ag=-1*ab:ag>ab&&(ag=ab);
E(al)[0]!==E(ac)[0]&&(Y*=-1,ag*=-2);
ac=r[U];
if(V.infiniteSlider){var R=y[U],ae=u[U]
}ad=[];
for(var ab=[],W=0;
W<H.length;
W++){ad[W]=H[W],W<ai.length&&(ab[W]=D.getSliderOffset(E(ai[W]),"x"))
}for(;
1<ag||-1>ag;
){ag*=frictionCoefficient;
af+=ag;
(af>-1*y[U]||af<-1*u[U])&&!V.infiniteSlider&&(ag*=elasticFrictionCoefficient,af+=ag);
if(V.infiniteSlider){if(af<=-1*ae){for(var ae=E(al).width(),w=0,b=ab[0],W=0;
W<ab.length;
W++){ab[W]<b&&(b=ab[W],w=W)
}W=R+ae;
ab[w]=W;
R=-1*ad[1]+Z;
ae=R+ae-e;
ad.splice(0,1);
ad.splice(ad.length,0,-1*W+Z);
ac++
}if(af>=-1*R){ae=E(al).width();
w=0;
b=ab[0];
for(W=0;
W<ab.length;
W++){ab[W]>b&&(b=ab[W],w=W)
}W=R-S[w];
ab[w]=W;
ad.splice(0,0,-1*W+Z);
ad.splice(ad.length-1,1);
R=-1*ad[0]+Z;
ae=R+ae-e;
ac--
}}aj[aj.length]=af
}ab=!1;
ag=D.calcActiveOffset(V,af,ad,e,ac,T,v[U],U);
R=(ag+ac+T)%T;
V.snapToChildren&&(V.infiniteSlider?R!=j[U]&&(ab=!0):ag!=v[U]&&(ab=!0),0>Y&&!ab?(ag++,ag>=H.length&&!V.infinteSlider&&(ag=H.length-1)):0<Y&&!ab&&(ag--,0>ag&&!V.infinteSlider&&(ag=0)));
if(V.snapToChildren||(af>-1*y[U]||af<-1*u[U])&&!V.infiniteSlider){(af>-1*y[U]||af<-1*u[U])&&!V.infiniteSlider?aj.splice(0,aj.length):(aj.splice(0.1*aj.length,aj.length),af=0<aj.length?aj[aj.length-1]:af);
for(;
af<ad[ag]-0.5||af>ad[ag]+0.5;
){af=(af-ad[ag])*snapFrictionCoefficient+ad[ag],aj[aj.length]=af
}aj[aj.length]=ad[ag]
}Y=1;
0!=aj.length%2&&(Y=0);
for(af=0;
af<ak.length;
af++){clearTimeout(ak[af])
}ac=(ag+ac+T)%T;
R=0;
for(af=Y;
af<aj.length;
af+=2){if(af==Y||1<Math.abs(aj[af]-R)||af>=aj.length-2){R=aj[af],ak[ak.length]=D.slowScrollHorizontalIntervalTimer(10*af,al,ai,aj[af],ah,B,e,m,M,X,ag,P,H,aa,T,S,U,Z,ac,V)
}}R=(ag+r[U]+T)%T;
""!=V.onSlideComplete&&1<aj.length&&(ak[ak.length]=D.onSlideCompleteTimer(10*(af+1),V,al,E(al).children(":eq("+R+")"),ac,U));
i[U]=ak;
D.hideScrollbar(V,ak,af,aj,ah,B,e,M,X,U)
},onSlideComplete:function(b,w,B,m,e){B=new D.args("complete",b,E(w),B,m,m);
E(w).parent().data("args",B);
if(""!=b.onSlideComplete){b.onSlideComplete(B)
}},getSliderOffset:function(b,B){var H=0;
B="x"==B?4:5;
if(!k||F||d){H=parseInt(E(b).css("left"),10)
}else{for(var H=["-webkit-transform","-moz-transform","transform"],w,m=0;
m<H.length;
m++){if(void 0!=E(b).css(H[m])&&0<E(b).css(H[m]).length){w=E(b).css(H[m]).split(",");
break
}}H=void 0==w[B]?0:parseInt(w[B],10)
}return H
},setSliderOffset:function(b,m){!k||F||d?E(b).css({left:m+"px"}):E(b).css({webkitTransform:"matrix(1,0,0,1,"+m+",0)",MozTransform:"matrix(1,0,0,1,"+m+",0)",transform:"matrix(1,0,0,1,"+m+",0)"})
},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(z="-webkit-grab",c="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(l=!0,z="move",c="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?A=F=!0:null!=navigator.userAgent.match("MSIE 8")?A=d=!0:null!=navigator.userAgent.match("MSIE 9")&&(A=!0)
},has3DTransform:function(){var b=!1,m=E("<div />").css({webkitTransform:"matrix(1,1,1,1,1,1)",MozTransform:"matrix(1,1,1,1,1,1)",transform:"matrix(1,1,1,1,1,1)"});
""==m.attr("style")?b=!1:l&&!t&&21<=parseInt(navigator.userAgent.split("/")[3],10)?b=!1:void 0!=m.attr("style")&&(b=!0);
return b
},getSlideNumber:function(m,w,B){return(m-r[w]+B)%B
},calcActiveOffset:function(M,J,L,I,H,K,B,O){H=!1;
M=[];
var N;
J>L[0]&&(N=0);
J<L[L.length-1]&&(N=K-1);
for(K=0;
K<L.length;
K++){L[K]<=J&&L[K]>J-I&&(H||L[K]==J||(M[M.length]=L[K-1]),M[M.length]=L[K],H=!0)
}0==M.length&&(M[0]=L[L.length-1]);
for(K=H=0;
K<M.length;
K++){B=Math.abs(J-M[K]),B<I&&(H=M[K],I=B)
}for(K=0;
K<L.length;
K++){H==L[K]&&(N=K)
}return N
},changeSlide:function(ac,Z,ab,Y,X,aa,V,O,b,w,M,B,e,H,K,R,I,T){D.autoSlidePause(H);
for(var U=0;
U<Y.length;
U++){clearTimeout(Y[U])
}var Q=Math.ceil(T.autoSlideTransTimer/10)+1,L=D.getSliderOffset(Z,"x"),W=B[ac],W=W-L,P=ac-(v[H]+r[H]+R)%R;
if(T.infiniteSlider){ac=(ac-r[H]+2*R)%R;
U=!1;
0==ac&&2==R&&(ac=R,B[ac]=B[ac-1]-E(ab).eq(0).outerWidth(!0),U=!0);
var W=B[ac],W=W-L,S=[B[ac]-E(Z).width(),B[ac]+E(Z).width()];
U&&B.splice(B.length-1,1);
for(U=0;
U<S.length;
U++){Math.abs(S[U]-L)<Math.abs(W)&&(W=S[U]-L)
}0>W&&-1==P?W+=E(Z).width():0<W&&1==P&&(W-=E(Z).width())
}P=[];
D.showScrollbar(T,X);
for(U=0;
U<=Q;
U++){S=U,S/=Q,S--,S=L+W*(Math.pow(S,5)+1),P[P.length]=S
}Q=(ac+r[H]+R)%R;
for(U=L=0;
U<P.length;
U++){if(0==U||1<Math.abs(P[U]-L)||U>=P.length-2){L=P[U],Y[U]=D.slowScrollHorizontalIntervalTimer(10*(U+1),Z,ab,P[U],X,aa,V,O,b,w,ac,M,B,K,R,e,H,I,Q,T)
}0==U&&""!=T.onSlideStart&&(W=(v[H]+r[H]+R)%R,T.onSlideStart(new D.args("start",T,Z,E(Z).children(":eq("+W+")"),W,ac)))
}L=!1;
T.infiniteSlider?Q!=j[H]&&(L=!0):ac!=v[H]&&(L=!0);
L&&""!=T.onSlideComplete&&(Y[Y.length]=D.onSlideCompleteTimer(10*(U+1),T,Z,E(Z).children(":eq("+Q+")"),Q,H));
i[H]=Y;
D.hideScrollbar(T,Y,U,P,X,aa,V,b,w,H);
D.autoSlide(Z,ab,Y,X,aa,V,O,b,w,M,B,e,H,K,R,I,T)
},autoSlide:function(Q,I,O,H,B,L,w,W,K,S,V,P,M,R,T,e,U){if(!h[M].autoSlide){return !1
}D.autoSlidePause(M);
a[M]=setTimeout(function(){!U.infiniteSlider&&v[M]>V.length-1&&(v[M]-=T);
D.changeSlide((v[M]+r[M]+V.length+1)%V.length,Q,I,O,H,B,L,w,W,K,S,V,P,M,R,T,e,U);
D.autoSlide(Q,I,O,H,B,L,w,W,K,S,V,P,M,R,T,e,U)
},U.autoSlideTimer+U.autoSlideTransTimer)
},autoSlidePause:function(e){clearTimeout(a[e])
},isUnselectable:function(b,m){return""!=m.unselectableSelector&&1==E(b).closest(m.unselectableSelector).size()?!0:!1
},slowScrollHorizontalIntervalTimer:function(Z,W,Y,V,U,X,T,N,J,P,M,H,e,I,L,Q,K,R,S,O){return setTimeout(function(){D.slowScrollHorizontalInterval(W,Y,V,U,X,T,N,J,P,M,H,e,I,L,Q,K,R,S,O)
},Z)
},onSlideCompleteTimer:function(e,B,I,w,m,H){return setTimeout(function(){D.onSlideComplete(B,I,w,m,H)
},e)
},hideScrollbarIntervalTimer:function(N,K,M,J,I,L,H,P,O,e){return setTimeout(function(){D.hideScrollbarInterval(K,M,J,I,L,H,P,O,e)
},N)
},args:function(b,w,H,m,e,B){this.prevSlideNumber=void 0==E(H).parent().data("args")?void 0:E(H).parent().data("args").prevSlideNumber;
this.prevSlideObject=void 0==E(H).parent().data("args")?void 0:E(H).parent().data("args").prevSlideObject;
this.targetSlideNumber=B+1;
this.targetSlideObject=E(H).children(":eq("+B+")");
this.slideChanged=!1;
"load"==b?this.targetSlideObject=this.targetSlideNumber=void 0:"start"==b?this.targetSlideObject=this.targetSlideNumber=void 0:"change"==b?(this.slideChanged=!0,this.prevSlideNumber=void 0==E(H).parent().data("args")?w.startAtSlide:E(H).parent().data("args").currentSlideNumber,this.prevSlideObject=E(H).children(":eq("+this.prevSlideNumber+")")):"complete"==b&&(this.slideChanged=E(H).parent().data("args").slideChanged);
this.settings=w;
this.data=E(H).parent().data("iosslider");
this.sliderObject=H;
this.sliderContainerObject=E(H).parent();
this.currentSlideObject=m;
this.currentSlideNumber=e+1;
this.currentSliderOffset=-1*D.getSliderOffset(H,"x")
},preventDrag:function(e){e.preventDefault()
},preventClick:function(e){e.stopImmediatePropagation();
return !1
},enableClick:function(){return !0
}};
D.setBrowserInfo();
var g={init:function(b,e){k=D.has3DTransform();
var m=E.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,tabToAdvance:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5000,autoSlideTransTimer:750,autoSlideHoverPause:!0,infiniteSlider:!1,snapVelocityThreshold:5,slideStartVelocityThreshold:0,horizontalSlideLockThreshold:5,verticalSlideLockThreshold:3,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSliderResize:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},b);
void 0==e&&(e=this);
return E(e).each(function(aU){function aS(){D.autoSlidePause(aT);
az=E(ap).find("a");
aw=E(ap).find("[onclick]");
ay=E(ap).find("*");
E(aP).css("width","");
E(aP).css("height","");
E(ap).css("width","");
ar=E(ap).children().not("script").get();
av=[];
aj=[];
m.responsiveSlides&&E(ar).css("width","");
u[aT]=0;
aQ=[];
aM=E(aP).parent().width();
aL=E(aP).outerWidth(!0);
m.responsiveSlideContainer&&(aL=E(aP).outerWidth(!0)>aM?aM:E(aP).outerWidth(!0));
E(aP).css({position:m.stageCSS.position,top:m.stageCSS.top,left:m.stageCSS.left,overflow:m.stageCSS.overflow,zIndex:m.stageCSS.zIndex,webkitPerspective:1000,webkitBackfaceVisibility:"hidden",msTouchAction:"pan-y",width:aL});
E(m.unselectableSelector).css({cursor:"default"});
for(var J=0;
J<ar.length;
J++){av[J]=E(ar[J]).width();
aj[J]=E(ar[J]).outerWidth(!0);
var K=aj[J];
m.responsiveSlides&&(aj[J]>aL?(K=aL+-1*(aj[J]-av[J]),av[J]=K,aj[J]=aL):K=av[J],E(ar[J]).css({width:K}));
E(ar[J]).css({webkitBackfaceVisibility:"hidden",overflow:"hidden",position:"absolute"});
aQ[J]=-1*u[aT];
u[aT]=u[aT]+K+(aj[J]-av[J])
}m.snapSlideCenter&&(aO=0.5*(aL-aj[0]),m.responsiveSlides&&aj[0]>aL&&(aO=0));
C[aT]=2*u[aT];
for(J=0;
J<ar.length;
J++){D.setSliderOffset(E(ar[J]),-1*aQ[J]+u[aT]+aO),aQ[J]-=u[aT]
}if(!m.infiniteSlider&&!m.snapSlideCenter){for(J=0;
J<aQ.length&&!(aQ[J]<=-1*(2*u[aT]-aL));
J++){B=J
}aQ.splice(B+1,aQ.length);
aQ[aQ.length]=-1*(2*u[aT]-aL)
}for(J=0;
J<aQ.length;
J++){aq[J]=aQ[J]
}am&&(m.startAtSlide=h[aT].startAtSlide>aQ.length?aQ.length:h[aT].startAtSlide,m.infiniteSlider?(m.startAtSlide=(h[aT].startAtSlide-1+an)%an,v[aT]=h[aT].startAtSlide):(m.startAtSlide=0>h[aT].startAtSlide-1?aQ.length-1:h[aT].startAtSlide,v[aT]=h[aT].startAtSlide-1),j[aT]=v[aT]);
y[aT]=u[aT]+aO;
E(ap).css({position:"relative",cursor:z,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:u[aT]+"px"});
ad=u[aT];
u[aT]=2*u[aT]-aL+2*aO;
(W=ad<aL||0==aL?!0:!1)&&E(ap).css({cursor:"default"});
ao=E(aP).parent().outerHeight(!0);
aI=E(aP).height();
m.responsiveSlideContainer&&(aI=aI>ao?ao:aI);
E(aP).css({height:aI});
D.setSliderOffset(ap,aQ[v[aT]]);
if(m.infiniteSlider&&!W){J=D.getSliderOffset(E(ap),"x");
for(K=-1*((r[aT]+an)%an);
0>K;
){var M=0,I=D.getSliderOffset(E(ar[0]),"x");
E(ar).each(function(N){D.getSliderOffset(this,"x")<I&&(I=D.getSliderOffset(this,"x"),M=N)
});
var H=y[aT]+ad;
D.setSliderOffset(E(ar)[M],H);
y[aT]=-1*aQ[1]+aO;
u[aT]=y[aT]+ad-aL;
aQ.splice(0,1);
aQ.splice(aQ.length,0,-1*H+aO);
K++
}for(;
0<-1*aQ[0]-ad+aO&&m.snapSlideCenter&&am;
){var Q=0,P=D.getSliderOffset(E(ar[0]),"x");
E(ar).each(function(N){D.getSliderOffset(this,"x")>P&&(P=D.getSliderOffset(this,"x"),Q=N)
});
H=y[aT]-aj[Q];
D.setSliderOffset(E(ar)[Q],H);
aQ.splice(0,0,-1*H+aO);
aQ.splice(aQ.length-1,1);
y[aT]=-1*aQ[0]+aO;
u[aT]=y[aT]+ad-aL;
r[aT]--;
v[aT]++
}for(;
J<=-1*u[aT];
){M=0,I=D.getSliderOffset(E(ar[0]),"x"),E(ar).each(function(N){D.getSliderOffset(this,"x")<I&&(I=D.getSliderOffset(this,"x"),M=N)
}),H=y[aT]+ad,D.setSliderOffset(E(ar)[M],H),y[aT]=-1*aQ[1]+aO,u[aT]=y[aT]+ad-aL,aQ.splice(0,1),aQ.splice(aQ.length,0,-1*H+aO),r[aT]++,v[aT]--
}}D.setSliderOffset(ap,aQ[v[aT]]);
m.desktopClickDrag||E(ap).css({cursor:"default"});
m.scrollbar&&(E("."+al).css({margin:m.scrollbarMargin,overflow:"hidden",display:"none"}),E("."+al+" ."+aK).css({border:m.scrollbarBorder}),aR=parseInt(E("."+al).css("marginLeft"))+parseInt(E("."+al).css("marginRight")),at=parseInt(E("."+al+" ."+aK).css("borderLeftWidth"),10)+parseInt(E("."+al+" ."+aK).css("borderRightWidth"),10),aF=""!=m.scrollbarContainer?E(m.scrollbarContainer).width():aL,aG=aL/ad*(aF-aR),m.scrollbarHide||(X=m.scrollbarOpacity),E("."+al).css({position:"absolute",left:0,width:aF-aR+"px",margin:m.scrollbarMargin}),"top"==m.scrollbarLocation?E("."+al).css("top","0"):E("."+al).css("bottom","0"),E("."+al+" ."+aK).css({borderRadius:m.scrollbarBorderRadius,background:m.scrollbarBackground,height:m.scrollbarHeight,width:aG-at+"px",minWidth:m.scrollbarHeight,border:m.scrollbarBorder,webkitPerspective:1000,webkitBackfaceVisibility:"hidden",position:"relative",opacity:X,filter:"alpha(opacity:"+100*X+")",boxShadow:m.scrollbarShadow}),D.setSliderOffset(E("."+al+" ."+aK),Math.floor((-1*aQ[v[aT]]-y[aT]+aO)/(u[aT]-y[aT]+aO)*(aF-aR-aG))),E("."+al).css({display:"block"}),aD=E("."+al+" ."+aK),aC=E("."+al));
m.scrollbarDrag&&!W&&E("."+al+" ."+aK).css({cursor:z});
m.infiniteSlider&&(ac=(u[aT]+aL)/3);
""!=m.navSlideSelector&&E(m.navSlideSelector).each(function(N){E(this).css({cursor:"pointer"});
E(this).unbind(ag).bind(ag,function(O){"touchstart"==O.type?E(this).unbind("click.iosSliderEvent"):E(this).unbind("touchstart.iosSliderEvent");
ag=O.type+".iosSliderEvent";
D.changeSlide(N,ap,ar,ak,aK,aG,aL,aF,aR,at,aq,aQ,aj,aT,ac,an,aO,m)
})
});
""!=m.navPrevSelector&&(E(m.navPrevSelector).css({cursor:"pointer"}),E(m.navPrevSelector).unbind(ag).bind(ag,function(N){"touchstart"==N.type?E(this).unbind("click.iosSliderEvent"):E(this).unbind("touchstart.iosSliderEvent");
ag=N.type+".iosSliderEvent";
N=(v[aT]+r[aT]+an)%an;
(0<N||m.infiniteSlider)&&D.changeSlide(N-1,ap,ar,ak,aK,aG,aL,aF,aR,at,aq,aQ,aj,aT,ac,an,aO,m)
}));
""!=m.navNextSelector&&(E(m.navNextSelector).css({cursor:"pointer"}),E(m.navNextSelector).unbind(ag).bind(ag,function(N){"touchstart"==N.type?E(this).unbind("click.iosSliderEvent"):E(this).unbind("touchstart.iosSliderEvent");
ag=N.type+".iosSliderEvent";
N=(v[aT]+r[aT]+an)%an;
(N<aQ.length-1||m.infiniteSlider)&&D.changeSlide(N+1,ap,ar,ak,aK,aG,aL,aF,aR,at,aq,aQ,aj,aT,ac,an,aO,m)
}));
m.autoSlide&&!W&&""!=m.autoSlideToggleSelector&&(E(m.autoSlideToggleSelector).css({cursor:"pointer"}),E(m.autoSlideToggleSelector).unbind(ag).bind(ag,function(N){"touchstart"==N.type?E(this).unbind("click.iosSliderEvent"):E(this).unbind("touchstart.iosSliderEvent");
ag=N.type+".iosSliderEvent";
ae?(D.autoSlide(ap,ar,ak,aK,aG,aL,aF,aR,at,aq,aQ,aj,aT,ac,an,aO,m),ae=!1,E(m.autoSlideToggleSelector).removeClass("on")):(D.autoSlidePause(aT),ae=!0,E(m.autoSlideToggleSelector).addClass("on"))
}));
D.autoSlide(ap,ar,ak,aK,aG,aL,aF,aR,at,aq,aQ,aj,aT,ac,an,aO,m);
E(aP).bind("mouseleave.iosSliderEvent",function(){D.autoSlide(ap,ar,ak,aK,aG,aL,aF,aR,at,aq,aQ,aj,aT,ac,an,aO,m)
});
E(aP).bind("touchend.iosSliderEvent",function(){D.autoSlide(ap,ar,ak,aK,aG,aL,aF,aR,at,aq,aQ,aj,aT,ac,an,aO,m)
});
m.autoSlidePauseHover&&E(aP).bind("mouseenter.iosSliderEvent",function(){D.autoSlidePause(aT)
});
E(aP).data("iosslider",{obj:aH,settings:m,scrollerNode:ap,slideNodes:ar,numberOfSlides:an,centeredSlideOffset:aO,sliderNumber:aT,originalOffsets:aq,childrenOffsets:aQ,sliderMax:u[aT],scrollbarClass:aK,scrollbarWidth:aG,scrollbarStageWidth:aF,stageWidth:aL,scrollMargin:aR,scrollBorder:at,infiniteSliderOffset:r[aT],infiniteSliderWidth:ac,slideNodeOuterWidths:aj});
am=!1;
return !0
}o++;
var aT=o,ak=[];
h[aT]=m;
y[aT]=0;
u[aT]=0;
var ah=[0,0],ai=[0,0],al="scrollbarBlock"+o,aK="scrollbar"+o,aD,aC,aF,aG,aM,ao,aO=0,aP=E(this),aL,aI,aR,at,au,am=!0;
aU=-1;
var aQ,aq=[],X=0,af=0,w=0,ap=E(this).children(":first-child"),ar,av,aj,an=E(ap).children().not("script").size(),ab=!1,B=0,aN=!1,aa=void 0,ac;
r[aT]=0;
var W=!1,ae=!1;
q[aT]=!1;
var L,aJ=!1,T=!1,ag="touchstart.iosSliderEvent click.iosSliderEvent",ad,az,aw,ay;
x[aT]=!1;
i[aT]=[];
m.scrollbarDrag&&(m.scrollbar=!0,m.scrollbarHide=!1);
var aH=E(this);
if(void 0!=aH.data("iosslider")){return !0
}E(this).find("img").bind("dragstart.iosSliderEvent",function(H){H.preventDefault()
});
m.infiniteSlider&&(m.scrollbar=!1);
m.infiniteSlider&&1==an&&(m.infiniteSlider=!1);
m.scrollbar&&(""!=m.scrollbarContainer?E(m.scrollbarContainer).append("<div class = '"+al+"'><div class = '"+aK+"'></div></div>"):E(ap).parent().append("<div class = '"+al+"'><div class = '"+aK+"'></div></div>"));
if(!aS()){return !0
}E(this).find("a").bind("mousedown",D.preventDrag);
E(this).find("[onclick]").bind("click",D.preventDrag).each(function(){E(this).data("onclick",this.onclick)
});
aU=D.calcActiveOffset(m,D.getSliderOffset(E(ap),"x"),aQ,aL,r[aT],an,void 0,aT);
aU=(aU+r[aT]+an)%an;
aU=new D.args("load",m,ap,E(ap).children(":eq("+aU+")"),aU,aU);
E(aP).data("args",aU);
if(""!=m.onSliderLoaded){m.onSliderLoaded(aU)
}if(h[aT].responsiveSlides||h[aT].responsiveSlideContainer){aU=p?"orientationchange":"resize",E(window).bind(aU+".iosSliderEvent-"+aT,function(){if(!aS()){return !0
}var H=E(aP).data("args");
if(""!=m.onSliderResize){m.onSliderResize(H)
}})
}!m.keyboardControls&&!m.tabToAdvance||W||E(document).bind("keydown.iosSliderEvent",function(H){F||d||(H=H.originalEvent);
if(37==H.keyCode&&m.keyboardControls){H.preventDefault(),H=(v[aT]+r[aT]+an)%an,(0<H||m.infiniteSlider)&&D.changeSlide(H-1,ap,ar,ak,aK,aG,aL,aF,aR,at,aq,aQ,aj,aT,ac,an,aO,m)
}else{if(39==H.keyCode&&m.keyboardControls||9==H.keyCode&&m.tabToAdvance){H.preventDefault(),H=(v[aT]+r[aT]+an)%an,(H<aQ.length-1||m.infiniteSlider)&&D.changeSlide(H+1,ap,ar,ak,aK,aG,aL,aF,aR,at,aq,aQ,aj,aT,ac,an,aO,m)
}}});
if(t||m.desktopClickDrag){var aB=!1,aE=E(ap),ax=E(ap),aA=!1;
m.scrollbarDrag&&(aE=aE.add(aD),ax=ax.add(aC));
E(aE).bind("mousedown.iosSliderEvent touchstart.iosSliderEvent",function(H){if(aB){return !0
}aB=!0;
"touchstart"==H.type?E(ax).unbind("mousedown.iosSliderEvent"):E(ax).unbind("touchstart.iosSliderEvent");
if(x[aT]||W||(aA=D.isUnselectable(H.target,m))){return ab=aB=!1,!0
}L=E(this)[0]===E(aD)[0]?aD:ap;
F||d||(H=H.originalEvent);
D.autoSlidePause(aT);
ay.unbind(".disableClick");
if("touchstart"==H.type){eventX=H.touches[0].pageX,eventY=H.touches[0].pageY
}else{if(window.getSelection){window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges()
}else{if(document.selection){if(d){try{document.selection.empty()
}catch(I){}}else{document.selection.empty()
}}}eventX=H.pageX;
eventY=H.pageY;
aN=!0;
aa=ap;
E(this).css({cursor:c})
}ah=[0,0];
ai=[0,0];
f=0;
ab=!1;
for(H=0;
H<ak.length;
H++){clearTimeout(ak[H])
}H=D.getSliderOffset(ap,"x");
H>-1*y[aT]+aO+ad?(H=-1*y[aT]+aO+ad,D.setSliderOffset(E("."+aK),H),E("."+aK).css({width:aG-at+"px"})):H<-1*u[aT]&&(D.setSliderOffset(E("."+aK),aF-aR-aG),E("."+aK).css({width:aG-at+"px"}));
H=E(this)[0]===E(aD)[0]?y[aT]:0;
af=-1*(D.getSliderOffset(this,"x")-eventX-H);
D.getSliderOffset(this,"y");
ah[1]=eventX;
ai[1]=eventY;
T=!1
});
E(ax).bind("touchmove.iosSliderEvent mousemove.iosSliderEvent",function(aX){F||d||(aX=aX.originalEvent);
if(x[aT]||W||aA){return !0
}var Y=0;
if("touchmove"==aX.type){eventX=aX.touches[0].pageX,eventY=aX.touches[0].pageY
}else{if(window.getSelection){window.getSelection().empty||window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges()
}else{if(document.selection){if(d){try{document.selection.empty()
}catch(Q){}}else{document.selection.empty()
}}}eventX=aX.pageX;
eventY=aX.pageY;
if(!aN||!A&&("undefined"!=typeof aX.webkitMovementX||"undefined"!=typeof aX.webkitMovementY)&&0===aX.webkitMovementY&&0===aX.webkitMovementX){return !0
}}ah[0]=ah[1];
ah[1]=eventX;
f=(ah[1]-ah[0])/2;
ai[0]=ai[1];
ai[1]=eventY;
G=(ai[1]-ai[0])/2;
if(!ab){var V=(v[aT]+r[aT]+an)%an,V=new D.args("start",m,ap,E(ap).children(":eq("+V+")"),V,void 0);
E(aP).data("args",V);
if(""!=m.onSlideStart){m.onSlideStart(V)
}}(G>m.verticalSlideLockThreshold||G<-1*m.verticalSlideLockThreshold)&&("touchmove"==aX.type&&!ab)&&(aJ=!0);
(f>m.horizontalSlideLockThreshold||f<-1*m.horizontalSlideLockThreshold)&&"touchmove"==aX.type&&aX.preventDefault();
if(f>m.slideStartVelocityThreshold||f<-1*m.slideStartVelocityThreshold){ab=!0
}if(ab&&!aJ){var V=D.getSliderOffset(ap,"x"),H=E(L)[0]===E(aD)[0]?y[aT]:aO,a0=E(L)[0]===E(aD)[0]?(y[aT]-u[aT]-aO)/(scrollbarStageHeight-aR-scrollbarHeight):1,Z=E(L)[0]===E(aD)[0]?m.scrollbarElasticPullResistance:m.elasticPullResistance,aZ=m.snapSlideCenter&&E(L)[0]===E(aD)[0]?0:aO,aW=m.snapSlideCenter&&E(L)[0]===E(aD)[0]?aO:0;
"touchmove"==aX.type&&(w!=aX.touches.length&&(af=-1*V+eventX),w=aX.touches.length);
if(m.infiniteSlider){if(V<=-1*u[aT]){var aY=E(ap).width();
if(V<=-1*C[aT]){var aV=-1*aq[0];
E(ar).each(function(I){D.setSliderOffset(E(ar)[I],aV+aO);
I<aQ.length&&(aQ[I]=-1*aV);
aV+=aj[I]
});
af-=-1*aQ[0];
y[aT]=-1*aQ[0]+aO;
u[aT]=y[aT]+aY-aL;
r[aT]=0
}else{var N=0,M=D.getSliderOffset(E(ar[0]),"x");
E(ar).each(function(I){D.getSliderOffset(this,"x")<M&&(M=D.getSliderOffset(this,"x"),N=I)
});
Z=y[aT]+aY;
D.setSliderOffset(E(ar)[N],Z);
y[aT]=-1*aQ[1]+aO;
u[aT]=y[aT]+aY-aL;
aQ.splice(0,1);
aQ.splice(aQ.length,0,-1*Z+aO);
r[aT]++
}}if(V>=-1*y[aT]||0<=V){if(aY=E(ap).width(),0<=V){for(aV=-1*aq[0],E(ar).each(function(I){D.setSliderOffset(E(ar)[I],aV+aO);
I<aQ.length&&(aQ[I]=-1*aV);
aV+=aj[I]
}),af+=-1*aQ[0],y[aT]=-1*aQ[0]+aO,u[aT]=y[aT]+aY-aL,r[aT]=an;
0<-1*aQ[0]-aY+aO;
){var U=0,O=D.getSliderOffset(E(ar[0]),"x");
E(ar).each(function(I){D.getSliderOffset(this,"x")>O&&(O=D.getSliderOffset(this,"x"),U=I)
});
Z=y[aT]-aj[U];
D.setSliderOffset(E(ar)[U],Z);
aQ.splice(0,0,-1*Z+aO);
aQ.splice(aQ.length-1,1);
y[aT]=-1*aQ[0]+aO;
u[aT]=y[aT]+aY-aL;
r[aT]--;
v[aT]++
}}else{U=0,O=D.getSliderOffset(E(ar[0]),"x"),E(ar).each(function(I){D.getSliderOffset(this,"x")>O&&(O=D.getSliderOffset(this,"x"),U=I)
}),Z=y[aT]-aj[U],D.setSliderOffset(E(ar)[U],Z),aQ.splice(0,0,-1*Z+aO),aQ.splice(aQ.length-1,1),y[aT]=-1*aQ[0]+aO,u[aT]=y[aT]+aY-aL,r[aT]--
}}}else{aY=E(ap).width(),V>-1*y[aT]+aO&&(Y=-1*(y[aT]+-1*(af-H-eventX+aZ)*a0-H)*Z/a0),V<-1*u[aT]&&(Y=-1*(u[aT]+aW+-1*(af-H-eventX)*a0-H)*Z/a0)
}D.setSliderOffset(ap,-1*(af-H-eventX-Y)*a0-H+aW);
m.scrollbar&&(D.showScrollbar(m,aK),n=Math.floor((af-eventX-Y-y[aT]+aZ)/(u[aT]-y[aT]+aO)*(aF-aR-aG)*a0),V=aG,0>=n?(V=aG-at- -1*n,D.setSliderOffset(E("."+aK),0),E("."+aK).css({width:V+"px"})):n>=aF-aR-at-aG?(V=aF-aR-at-n,D.setSliderOffset(E("."+aK),n),E("."+aK).css({width:V+"px"})):D.setSliderOffset(E("."+aK),n));
"touchmove"==aX.type&&(au=aX.touches[0].pageX);
aX=!1;
Y=D.calcActiveOffset(m,-1*(af-eventX-Y),aQ,aL,r[aT],an,void 0,aT);
V=(Y+r[aT]+an)%an;
m.infiniteSlider?V!=j[aT]&&(aX=!0):Y!=v[aT]&&(aX=!0);
if(aX&&(v[aT]=Y,j[aT]=V,T=!0,V=new D.args("change",m,ap,E(ap).children(":eq("+V+")"),V,V),E(aP).data("args",V),""!=m.onSlideChange)){m.onSlideChange(V)
}}aB=!1
});
aU=E(window);
if(d||F){aU=E(document)
}E(aE).bind("touchend.iosSliderEvent",function(H){H=H.originalEvent;
if(x[aT]||W||aA){return !0
}if(0!=H.touches.length){for(var I=0;
I<H.touches.length;
I++){H.touches[I].pageX==au&&D.slowScrollHorizontal(ap,ar,ak,aK,f,G,aG,aL,aF,aR,at,aq,aQ,aj,aT,ac,an,L,T,aO,m)
}}else{D.slowScrollHorizontal(ap,ar,ak,aK,f,G,aG,aL,aF,aR,at,aq,aQ,aj,aT,ac,an,L,T,aO,m)
}aB=aJ=!1
});
E(aU).bind("mouseup.iosSliderEvent-"+aT,function(H){ab?az.unbind("click.disableClick").bind("click.disableClick",D.preventClick):az.unbind("click.disableClick").bind("click.disableClick",D.enableClick);
aw.each(function(){this.onclick=function(I){if(ab){return !1
}E(this).data("onclick").call(this,I||window.event)
}
});
1.8<=parseFloat(E().jquery)?ay.each(function(){var I=E._data(this,"events");
if(void 0!=I&&void 0!=I.click&&"iosSliderEvent"!=I.click[0].namespace){if(!ab){return !1
}E(this).one("click.disableClick",D.preventClick);
var I=E._data(this,"events").click,J=I.pop();
I.splice(0,0,J)
}}):1.6<=parseFloat(E().jquery)&&ay.each(function(){var I=E(this).data("events");
if(void 0!=I&&void 0!=I.click&&"iosSliderEvent"!=I.click[0].namespace){if(!ab){return !1
}E(this).one("click.disableClick",D.preventClick);
var I=E(this).data("events").click,J=I.pop();
I.splice(0,0,J)
}});
if(!q[aT]){if(W){return !0
}E(aE).css({cursor:z});
aN=!1;
if(void 0==aa){return !0
}D.slowScrollHorizontal(aa,ar,ak,aK,f,G,aG,aL,aF,aR,at,aq,aQ,aj,aT,ac,an,L,T,aO,m);
aa=void 0
}aB=aJ=!1
})
}})
},destroy:function(b,e){void 0==e&&(e=this);
return E(e).each(function(){var B=E(this),w=B.data("iosslider");
if(void 0==w){return !1
}void 0==b&&(b=!0);
D.autoSlidePause(w.sliderNumber);
q[w.sliderNumber]=!0;
E(window).unbind(".iosSliderEvent-"+w.sliderNumber);
E(document).unbind(".iosSliderEvent-"+w.sliderNumber);
E(document).unbind("keydown.iosSliderEvent");
E(this).unbind(".iosSliderEvent");
E(this).children(":first-child").unbind(".iosSliderEvent");
E(this).children(":first-child").children().unbind(".iosSliderEvent");
b&&(E(this).attr("style",""),E(this).children(":first-child").attr("style",""),E(this).children(":first-child").children().attr("style",""),E(w.settings.navSlideSelector).attr("style",""),E(w.settings.navPrevSelector).attr("style",""),E(w.settings.navNextSelector).attr("style",""),E(w.settings.autoSlideToggleSelector).attr("style",""),E(w.settings.unselectableSelector).attr("style",""));
w.settings.scrollbar&&E(".scrollbarBlock"+w.sliderNumber).remove();
for(var w=i[w.sliderNumber],m=0;
m<w.length;
m++){clearTimeout(w[m])
}B.removeData("iosslider");
B.removeData("args")
})
},update:function(b){void 0==b&&(b=this);
return E(b).each(function(){var e=E(this),m=e.data("iosslider");
if(void 0==m){return !1
}m.settings.startAtSlide=e.data("args").currentSlideNumber;
g.destroy(!1,this);
1!=m.numberOfSlides&&m.settings.infiniteSlider&&(m.settings.startAtSlide=(v[m.sliderNumber]+1+r[m.sliderNumber]+m.numberOfSlides)%m.numberOfSlides);
g.init(m.settings,this);
e=new D.args("update",m.settings,m.scrollerNode,E(m.scrollerNode).children(":eq("+(m.settings.startAtSlide-1)+")"),m.settings.startAtSlide-1,m.settings.startAtSlide-1);
E(m.stageNode).data("args",e);
if(""!=m.settings.onSliderUpdate){m.settings.onSliderUpdate(e)
}})
},addSlide:function(b,m){return this.each(function(){var w=E(this),e=w.data("iosslider");
if(void 0==e){return !1
}0==E(e.scrollerNode).children().size()?(E(e.scrollerNode).append(b),w.data("args").currentSlideNumber=1):e.settings.infiniteSlider?(1==m?E(e.scrollerNode).children(":eq(0)").before(b):E(e.scrollerNode).children(":eq("+(m-2)+")").after(b),-1>r[e.sliderNumber]&&v[e.sliderNumber]--,w.data("args").currentSlideNumber>=m&&v[e.sliderNumber]++):(m<=e.numberOfSlides?E(e.scrollerNode).children(":eq("+(m-1)+")").before(b):E(e.scrollerNode).children(":eq("+(m-2)+")").after(b),w.data("args").currentSlideNumber>=m&&w.data("args").currentSlideNumber++);
w.data("iosslider").numberOfSlides++;
g.update(this)
})
},removeSlide:function(b){return this.each(function(){var m=E(this).data("iosslider");
if(void 0==m){return !1
}E(m.scrollerNode).children(":eq("+(b-1)+")").remove();
v[m.sliderNumber]>b-1&&v[m.sliderNumber]--;
g.update(this)
})
},goToSlide:function(b,e){void 0==e&&(e=this);
return E(e).each(function(){var m=E(this).data("iosslider");
if(void 0==m){return !1
}b=b>m.childrenOffsets.length?m.childrenOffsets.length-1:b-1;
D.changeSlide(b,E(m.scrollerNode),E(m.slideNodes),i[m.sliderNumber],m.scrollbarClass,m.scrollbarWidth,m.stageWidth,m.scrollbarStageWidth,m.scrollMargin,m.scrollBorder,m.originalOffsets,m.childrenOffsets,m.slideNodeOuterWidths,m.sliderNumber,m.infiniteSliderWidth,m.numberOfSlides,m.centeredSlideOffset,m.settings);
v[m.sliderNumber]=b
})
},prevSlide:function(){return this.each(function(){var b=E(this).data("iosslider");
if(void 0==b){return !1
}var e=(v[b.sliderNumber]+r[b.sliderNumber]+b.numberOfSlides)%b.numberOfSlides;
(0<e||b.settings.infiniteSlider)&&D.changeSlide(e-1,E(b.scrollerNode),E(b.slideNodes),i[b.sliderNumber],b.scrollbarClass,b.scrollbarWidth,b.stageWidth,b.scrollbarStageWidth,b.scrollMargin,b.scrollBorder,b.originalOffsets,b.childrenOffsets,b.slideNodeOuterWidths,b.sliderNumber,b.infiniteSliderWidth,b.numberOfSlides,b.centeredSlideOffset,b.settings);
v[b.sliderNumber]=e
})
},nextSlide:function(){return this.each(function(){var b=E(this).data("iosslider");
if(void 0==b){return !1
}var e=(v[b.sliderNumber]+r[b.sliderNumber]+b.numberOfSlides)%b.numberOfSlides;
(e<b.childrenOffsets.length-1||b.settings.infiniteSlider)&&D.changeSlide(e+1,E(b.scrollerNode),E(b.slideNodes),i[b.sliderNumber],b.scrollbarClass,b.scrollbarWidth,b.stageWidth,b.scrollbarStageWidth,b.scrollMargin,b.scrollBorder,b.originalOffsets,b.childrenOffsets,b.slideNodeOuterWidths,b.sliderNumber,b.infiniteSliderWidth,b.numberOfSlides,b.centeredSlideOffset,b.settings);
v[b.sliderNumber]=e
})
},lock:function(){return this.each(function(){var b=E(this).data("iosslider");
if(void 0==b){return !1
}x[b.sliderNumber]=!0
})
},unlock:function(){return this.each(function(){var b=E(this).data("iosslider");
if(void 0==b){return !1
}x[b.sliderNumber]=!1
})
},getData:function(){return this.each(function(){var b=E(this).data("iosslider");
return void 0==b?!1:b
})
},autoSlidePause:function(){return this.each(function(){var b=E(this).data("iosslider");
if(void 0==b){return !1
}h[b.sliderNumber].autoSlide=!1;
D.autoSlidePause(b.sliderNumber);
return b
})
},autoSlidePlay:function(){return this.each(function(){var b=E(this).data("iosslider");
if(void 0==b){return !1
}h[b.sliderNumber].autoSlide=!0;
D.autoSlide(E(b.scrollerNode),E(b.slideNodes),i[b.sliderNumber],b.scrollbarClass,b.scrollbarWidth,b.stageWidth,b.scrollbarStageWidth,b.scrollMargin,b.scrollBorder,b.originalOffsets,b.childrenOffsets,b.slideNodeOuterWidths,b.sliderNumber,b.infiniteSliderWidth,b.numberOfSlides,b.centeredSlideOffset,b.settings);
return b
})
}};
E.fn.iosSlider=function(b){if(g[b]){return g[b].apply(this,Array.prototype.slice.call(arguments,1))
}if("object"!==typeof b&&b){E.error("invalid method call!")
}else{return g.init.apply(this,arguments)
}}
})(jQuery);
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)
}else{if(typeof exports!=="undefined"){module.exports=a(require("jquery"))
}else{a(jQuery)
}}}(function(a){var b=window.Slick||{};
b=(function(){var c=0;
function d(h,j){var g=this,e,i,f;
g.defaults={accessibility:true,adaptiveHeight:false,appendArrows:a(h),appendDots:a(h),arrows:true,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',autoplay:false,autoplaySpeed:3000,centerMode:false,centerPadding:"50px",cssEase:"ease",customPaging:function(l,k){return'<button type="button" data-role="none">'+(k+1)+"</button>"
},dots:false,dotsClass:"slick-dots",draggable:true,easing:"linear",edgeFriction:0.35,fade:false,focusOnSelect:false,infinite:true,initialSlide:0,lazyLoad:"ondemand",mobileFirst:false,pauseOnHover:true,pauseOnDotsHover:false,respondTo:"window",responsive:null,rows:1,rtl:false,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:true,swipeToSlide:false,touchMove:true,touchThreshold:5,useCSS:true,variableWidth:false,vertical:false,verticalSwiping:false,waitForAnimate:true,zIndex:1000};
g.initials={animating:false,dragging:false,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:false,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:false,unslicked:false};
a.extend(g,g.initials);
g.activeBreakpoint=null;
g.animType=null;
g.animProp=null;
g.breakpoints=[];
g.breakpointSettings=[];
g.cssTransitions=false;
g.hidden="hidden";
g.paused=false;
g.positionProp=null;
g.respondTo=null;
g.rowCount=1;
g.shouldClick=true;
g.$slider=a(h);
g.$slidesCache=null;
g.transformType=null;
g.transitionType=null;
g.visibilityChange="visibilitychange";
g.windowWidth=0;
g.windowTimer=null;
e=a(h).data("slick")||{};
g.options=a.extend({},g.defaults,e,j);
g.currentSlide=g.options.initialSlide;
g.originalSettings=g.options;
i=g.options.responsive||null;
if(i&&i.length>-1){g.respondTo=g.options.respondTo||"window";
for(f in i){if(i.hasOwnProperty(f)){g.breakpoints.push(i[f].breakpoint);
g.breakpointSettings[i[f].breakpoint]=i[f].settings
}}g.breakpoints.sort(function(l,k){if(g.options.mobileFirst===true){return l-k
}else{return k-l
}})
}if(typeof document.mozHidden!=="undefined"){g.hidden="mozHidden";
g.visibilityChange="mozvisibilitychange"
}else{if(typeof document.webkitHidden!=="undefined"){g.hidden="webkitHidden";
g.visibilityChange="webkitvisibilitychange"
}}g.autoPlay=a.proxy(g.autoPlay,g);
g.autoPlayClear=a.proxy(g.autoPlayClear,g);
g.changeSlide=a.proxy(g.changeSlide,g);
g.clickHandler=a.proxy(g.clickHandler,g);
g.selectHandler=a.proxy(g.selectHandler,g);
g.setPosition=a.proxy(g.setPosition,g);
g.swipeHandler=a.proxy(g.swipeHandler,g);
g.dragHandler=a.proxy(g.dragHandler,g);
g.keyHandler=a.proxy(g.keyHandler,g);
g.autoPlayIterator=a.proxy(g.autoPlayIterator,g);
g.instanceUid=c++;
g.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;
g.init(true);
g.checkResponsive(true)
}return d
}());
b.prototype.addSlide=b.prototype.slickAdd=function(c,e,f){var d=this;
if(typeof(e)==="boolean"){f=e;
e=null
}else{if(e<0||(e>=d.slideCount)){return false
}}d.unload();
if(typeof(e)==="number"){if(e===0&&d.$slides.length===0){a(c).appendTo(d.$slideTrack)
}else{if(f){a(c).insertBefore(d.$slides.eq(e))
}else{a(c).insertAfter(d.$slides.eq(e))
}}}else{if(f===true){a(c).prependTo(d.$slideTrack)
}else{a(c).appendTo(d.$slideTrack)
}}d.$slides=d.$slideTrack.children(this.options.slide);
d.$slideTrack.children(this.options.slide).detach();
d.$slideTrack.append(d.$slides);
d.$slides.each(function(g,h){a(h).attr("data-slick-index",g)
});
d.$slidesCache=d.$slides;
d.reinit()
};
b.prototype.animateHeight=function(){var d=this;
if(d.options.slidesToShow===1&&d.options.adaptiveHeight===true&&d.options.vertical===false){var c=d.$slides.eq(d.currentSlide).outerHeight(true);
d.$list.animate({height:c},d.options.speed)
}};
b.prototype.animateSlide=function(f,e){var d={},c=this;
c.animateHeight();
if(c.options.rtl===true&&c.options.vertical===false){f=-f
}if(c.transformsEnabled===false){if(c.options.vertical===false){c.$slideTrack.animate({left:f},c.options.speed,c.options.easing,e)
}else{c.$slideTrack.animate({top:f},c.options.speed,c.options.easing,e)
}}else{if(c.cssTransitions===false){if(c.options.rtl===true){c.currentLeft=-(c.currentLeft)
}a({animStart:c.currentLeft}).animate({animStart:f},{duration:c.options.speed,easing:c.options.easing,step:function(g){g=Math.ceil(g);
if(c.options.vertical===false){d[c.animType]="translate("+g+"px, 0px)";
c.$slideTrack.css(d)
}else{d[c.animType]="translate(0px,"+g+"px)";
c.$slideTrack.css(d)
}},complete:function(){if(e){e.call()
}}})
}else{c.applyTransition();
f=Math.ceil(f);
if(c.options.vertical===false){d[c.animType]="translate3d("+f+"px, 0px, 0px)"
}else{d[c.animType]="translate3d(0px,"+f+"px, 0px)"
}c.$slideTrack.css(d);
if(e){setTimeout(function(){c.disableTransition();
e.call()
},c.options.speed)
}}}};
b.prototype.asNavFor=function(e){var d=this,c=d.options.asNavFor;
if(c&&c!==null){c=a(c).not(d.$slider)
}if(c!==null&&typeof c==="object"){c.each(function(){var f=a(this).slick("getSlick");
if(!f.unslicked){f.slideHandler(e,true)
}})
}};
b.prototype.applyTransition=function(c){var d=this,e={};
if(d.options.fade===false){e[d.transitionType]=d.transformType+" "+d.options.speed+"ms "+d.options.cssEase
}else{e[d.transitionType]="opacity "+d.options.speed+"ms "+d.options.cssEase
}if(d.options.fade===false){d.$slideTrack.css(e)
}else{d.$slides.eq(c).css(e)
}};
b.prototype.autoPlay=function(){var c=this;
if(c.autoPlayTimer){clearInterval(c.autoPlayTimer)
}if(c.slideCount>c.options.slidesToShow&&c.paused!==true){c.autoPlayTimer=setInterval(c.autoPlayIterator,c.options.autoplaySpeed)
}};
b.prototype.autoPlayClear=function(){var c=this;
if(c.autoPlayTimer){clearInterval(c.autoPlayTimer)
}};
b.prototype.autoPlayIterator=function(){var c=this;
if(c.options.infinite===false){if(c.direction===1){if((c.currentSlide+1)===c.slideCount-1){c.direction=0
}c.slideHandler(c.currentSlide+c.options.slidesToScroll)
}else{if((c.currentSlide-1===0)){c.direction=1
}c.slideHandler(c.currentSlide-c.options.slidesToScroll)
}}else{c.slideHandler(c.currentSlide+c.options.slidesToScroll)
}};
b.prototype.buildArrows=function(){var c=this;
if(c.options.arrows===true&&c.slideCount>c.options.slidesToShow){c.$prevArrow=a(c.options.prevArrow);
c.$nextArrow=a(c.options.nextArrow);
if(c.htmlExpr.test(c.options.prevArrow)){c.$prevArrow.appendTo(c.options.appendArrows)
}if(c.htmlExpr.test(c.options.nextArrow)){c.$nextArrow.appendTo(c.options.appendArrows)
}if(c.options.infinite!==true){c.$prevArrow.addClass("slick-disabled")
}}};
b.prototype.buildDots=function(){var d=this,e,c;
if(d.options.dots===true&&d.slideCount>d.options.slidesToShow){c='<ul class="'+d.options.dotsClass+'">';
for(e=0;
e<=d.getDotCount();
e+=1){c+="<li>"+d.options.customPaging.call(this,d,e)+"</li>"
}c+="</ul>";
d.$dots=a(c).appendTo(d.options.appendDots);
d.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")
}};
b.prototype.buildOut=function(){var c=this;
c.$slides=c.$slider.children(":not(.slick-cloned)").addClass("slick-slide");
c.slideCount=c.$slides.length;
c.$slides.each(function(d,e){a(e).attr("data-slick-index",d).data("originalStyling",a(e).attr("style")||"")
});
c.$slidesCache=c.$slides;
c.$slider.addClass("slick-slider");
c.$slideTrack=(c.slideCount===0)?a('<div class="slick-track"/>').appendTo(c.$slider):c.$slides.wrapAll('<div class="slick-track"/>').parent();
c.$list=c.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent();
c.$slideTrack.css("opacity",0);
if(c.options.centerMode===true||c.options.swipeToSlide===true){c.options.slidesToScroll=1
}a("img[data-lazy]",c.$slider).not("[src]").addClass("slick-loading");
c.setupInfinite();
c.buildArrows();
c.buildDots();
c.updateDots();
if(c.options.accessibility===true){c.$list.prop("tabIndex",0)
}c.setSlideClasses(typeof c.currentSlide==="number"?c.currentSlide:0);
if(c.options.draggable===true){c.$list.addClass("draggable")
}};
b.prototype.buildRows=function(){var m=this,l,k,i,d,j,h,e;
d=document.createDocumentFragment();
h=m.$slider.children();
if(m.options.rows>1){e=m.options.slidesPerRow*m.options.rows;
j=Math.ceil(h.length/e);
for(l=0;
l<j;
l++){var f=document.createElement("div");
for(k=0;
k<m.options.rows;
k++){var n=document.createElement("div");
for(i=0;
i<m.options.slidesPerRow;
i++){var g=(l*e+((k*m.options.slidesPerRow)+i));
if(h.get(g)){n.appendChild(h.get(g))
}}f.appendChild(n)
}d.appendChild(f)
}m.$slider.html(d);
m.$slider.children().children().children().css({width:(100/m.options.slidesPerRow)+"%",display:"inline-block"})
}};
b.prototype.checkResponsive=function(e){var d=this,c,i,h,j=false;
var g=d.$slider.width();
var f=window.innerWidth||a(window).width();
if(d.respondTo==="window"){h=f
}else{if(d.respondTo==="slider"){h=g
}else{if(d.respondTo==="min"){h=Math.min(f,g)
}}}if(d.originalSettings.responsive&&d.originalSettings.responsive.length>-1&&d.originalSettings.responsive!==null){i=null;
for(c in d.breakpoints){if(d.breakpoints.hasOwnProperty(c)){if(d.originalSettings.mobileFirst===false){if(h<d.breakpoints[c]){i=d.breakpoints[c]
}}else{if(h>d.breakpoints[c]){i=d.breakpoints[c]
}}}}if(i!==null){if(d.activeBreakpoint!==null){if(i!==d.activeBreakpoint){d.activeBreakpoint=i;
if(d.breakpointSettings[i]==="unslick"){d.unslick(i)
}else{d.options=a.extend({},d.originalSettings,d.breakpointSettings[i]);
if(e===true){d.currentSlide=d.options.initialSlide
}d.refresh(e)
}j=i
}}else{d.activeBreakpoint=i;
if(d.breakpointSettings[i]==="unslick"){d.unslick(i)
}else{d.options=a.extend({},d.originalSettings,d.breakpointSettings[i]);
if(e===true){d.currentSlide=d.options.initialSlide
}d.refresh(e)
}j=i
}}else{if(d.activeBreakpoint!==null){d.activeBreakpoint=null;
d.options=d.originalSettings;
if(e===true){d.currentSlide=d.options.initialSlide
}d.refresh(e);
j=i
}}if(!e&&j!==false){d.$slider.trigger("breakpoint",[d,j])
}}};
b.prototype.changeSlide=function(g,j){var e=this,c=a(g.target),i,f,h;
if(c.is("a")){g.preventDefault()
}if(!c.is("li")){c=c.closest("li")
}h=(e.slideCount%e.options.slidesToScroll!==0);
i=h?0:(e.slideCount-e.currentSlide)%e.options.slidesToScroll;
switch(g.data.message){case"previous":f=i===0?e.options.slidesToScroll:e.options.slidesToShow-i;
if(e.slideCount>e.options.slidesToShow){e.slideHandler(e.currentSlide-f,false,j)
}break;
case"next":f=i===0?e.options.slidesToScroll:i;
if(e.slideCount>e.options.slidesToShow){e.slideHandler(e.currentSlide+f,false,j)
}break;
case"index":var d=g.data.index===0?0:g.data.index||c.index()*e.options.slidesToScroll;
e.slideHandler(e.checkNavigable(d),false,j);
c.children().trigger("focus");
break;
default:return
}};
b.prototype.checkNavigable=function(d){var c=this,e,f;
e=c.getNavigableIndexes();
f=0;
if(d>e[e.length-1]){d=e[e.length-1]
}else{for(var g in e){if(d<e[g]){d=f;
break
}f=e[g]
}}return d
};
b.prototype.cleanUpEvents=function(){var c=this;
if(c.options.dots&&c.$dots!==null){a("li",c.$dots).off("click.slick",c.changeSlide);
if(c.options.pauseOnDotsHover===true&&c.options.autoplay===true){a("li",c.$dots).off("mouseenter.slick",a.proxy(c.setPaused,c,true)).off("mouseleave.slick",a.proxy(c.setPaused,c,false))
}}if(c.options.arrows===true&&c.slideCount>c.options.slidesToShow){c.$prevArrow&&c.$prevArrow.off("click.slick",c.changeSlide);
c.$nextArrow&&c.$nextArrow.off("click.slick",c.changeSlide)
}c.$list.off("touchstart.slick mousedown.slick",c.swipeHandler);
c.$list.off("touchmove.slick mousemove.slick",c.swipeHandler);
c.$list.off("touchend.slick mouseup.slick",c.swipeHandler);
c.$list.off("touchcancel.slick mouseleave.slick",c.swipeHandler);
c.$list.off("click.slick",c.clickHandler);
a(document).off(c.visibilityChange,c.visibility);
c.$list.off("mouseenter.slick",a.proxy(c.setPaused,c,true));
c.$list.off("mouseleave.slick",a.proxy(c.setPaused,c,false));
if(c.options.accessibility===true){c.$list.off("keydown.slick",c.keyHandler)
}if(c.options.focusOnSelect===true){a(c.$slideTrack).children().off("click.slick",c.selectHandler)
}a(window).off("orientationchange.slick.slick-"+c.instanceUid,c.orientationChange);
a(window).off("resize.slick.slick-"+c.instanceUid,c.resize);
a("[draggable!=true]",c.$slideTrack).off("dragstart",c.preventDefault);
a(window).off("load.slick.slick-"+c.instanceUid,c.setPosition);
a(document).off("ready.slick.slick-"+c.instanceUid,c.setPosition)
};
b.prototype.cleanUpRows=function(){var d=this,c;
if(d.options.rows>1){c=d.$slides.children().children();
c.removeAttr("style");
d.$slider.html(c)
}};
b.prototype.clickHandler=function(d){var c=this;
if(c.shouldClick===false){d.stopImmediatePropagation();
d.stopPropagation();
d.preventDefault()
}};
b.prototype.destroy=function(d){var c=this;
c.autoPlayClear();
c.touchObject={};
c.cleanUpEvents();
a(".slick-cloned",c.$slider).detach();
if(c.$dots){c.$dots.remove()
}if(c.$prevArrow&&(typeof c.options.prevArrow!=="object")){c.$prevArrow.remove()
}if(c.$nextArrow&&(typeof c.options.nextArrow!=="object")){c.$nextArrow.remove()
}if(c.$slides){c.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){a(this).attr("style",a(this).data("originalStyling"))
});
c.$slideTrack.children(this.options.slide).detach();
c.$slideTrack.detach();
c.$list.detach();
c.$slider.append(c.$slides)
}c.cleanUpRows();
c.$slider.removeClass("slick-slider");
c.$slider.removeClass("slick-initialized");
c.unslicked=true;
if(!d){c.$slider.trigger("destroy",[c])
}};
b.prototype.disableTransition=function(c){var d=this,e={};
e[d.transitionType]="";
if(d.options.fade===false){d.$slideTrack.css(e)
}else{d.$slides.eq(c).css(e)
}};
b.prototype.fadeSlide=function(d,e){var c=this;
if(c.cssTransitions===false){c.$slides.eq(d).css({zIndex:c.options.zIndex});
c.$slides.eq(d).animate({opacity:1},c.options.speed,c.options.easing,e)
}else{c.applyTransition(d);
c.$slides.eq(d).css({opacity:1,zIndex:c.options.zIndex});
if(e){setTimeout(function(){c.disableTransition(d);
e.call()
},c.options.speed)
}}};
b.prototype.fadeSlideOut=function(d){var c=this;
if(c.cssTransitions===false){c.$slides.eq(d).animate({opacity:0,zIndex:c.options.zIndex-2},c.options.speed,c.options.easing)
}else{c.applyTransition(d);
c.$slides.eq(d).css({opacity:0,zIndex:c.options.zIndex-2})
}};
b.prototype.filterSlides=b.prototype.slickFilter=function(d){var c=this;
if(d!==null){c.unload();
c.$slideTrack.children(this.options.slide).detach();
c.$slidesCache.filter(d).appendTo(c.$slideTrack);
c.reinit()
}};
b.prototype.getCurrent=b.prototype.slickCurrentSlide=function(){var c=this;
return c.currentSlide
};
b.prototype.getDotCount=function(){var d=this;
var f=0;
var c=0;
var e=0;
if(d.options.infinite===true){while(f<d.slideCount){++e;
f=c+d.options.slidesToShow;
c+=d.options.slidesToScroll<=d.options.slidesToShow?d.options.slidesToScroll:d.options.slidesToShow
}}else{if(d.options.centerMode===true){e=d.slideCount
}else{while(f<d.slideCount){++e;
f=c+d.options.slidesToShow;
c+=d.options.slidesToScroll<=d.options.slidesToShow?d.options.slidesToScroll:d.options.slidesToShow
}}}return e-1
};
b.prototype.getLeft=function(f){var d=this,h,e,c=0,g;
d.slideOffset=0;
e=d.$slides.first().outerHeight();
if(d.options.infinite===true){if(d.slideCount>d.options.slidesToShow){d.slideOffset=(d.slideWidth*d.options.slidesToShow)*-1;
c=(e*d.options.slidesToShow)*-1
}if(d.slideCount%d.options.slidesToScroll!==0){if(f+d.options.slidesToScroll>d.slideCount&&d.slideCount>d.options.slidesToShow){if(f>d.slideCount){d.slideOffset=((d.options.slidesToShow-(f-d.slideCount))*d.slideWidth)*-1;
c=((d.options.slidesToShow-(f-d.slideCount))*e)*-1
}else{d.slideOffset=((d.slideCount%d.options.slidesToScroll)*d.slideWidth)*-1;
c=((d.slideCount%d.options.slidesToScroll)*e)*-1
}}}}else{if(f+d.options.slidesToShow>d.slideCount){d.slideOffset=((f+d.options.slidesToShow)-d.slideCount)*d.slideWidth;
c=((f+d.options.slidesToShow)-d.slideCount)*e
}}if(d.slideCount<=d.options.slidesToShow){d.slideOffset=0;
c=0
}if(d.options.centerMode===true&&d.options.infinite===true){d.slideOffset+=d.slideWidth*Math.floor(d.options.slidesToShow/2)-d.slideWidth
}else{if(d.options.centerMode===true){d.slideOffset=0;
d.slideOffset+=d.slideWidth*Math.floor(d.options.slidesToShow/2)
}}if(d.options.vertical===false){h=((f*d.slideWidth)*-1)+d.slideOffset
}else{h=((f*e)*-1)+c
}if(d.options.variableWidth===true){if(d.slideCount<=d.options.slidesToShow||d.options.infinite===false){g=d.$slideTrack.children(".slick-slide").eq(f)
}else{g=d.$slideTrack.children(".slick-slide").eq(f+d.options.slidesToShow)
}h=g[0]?g[0].offsetLeft*-1:0;
if(d.options.centerMode===true){if(d.options.infinite===false){g=d.$slideTrack.children(".slick-slide").eq(f)
}else{g=d.$slideTrack.children(".slick-slide").eq(f+d.options.slidesToShow+1)
}h=g[0]?g[0].offsetLeft*-1:0;
h+=(d.$list.width()-g.outerWidth())/2
}}return h
};
b.prototype.getOption=b.prototype.slickGetOption=function(d){var c=this;
return c.options[d]
};
b.prototype.getNavigableIndexes=function(){var f=this,g=0,d=0,e=[],c;
if(f.options.infinite===false){c=f.slideCount
}else{g=f.options.slidesToScroll*-1;
d=f.options.slidesToScroll*-1;
c=f.slideCount*2
}while(g<c){e.push(g);
g=d+f.options.slidesToScroll;
d+=f.options.slidesToScroll<=f.options.slidesToShow?f.options.slidesToScroll:f.options.slidesToShow
}return e
};
b.prototype.getSlick=function(){return this
};
b.prototype.getSlideCount=function(){var e=this,d,f,c;
c=e.options.centerMode===true?e.slideWidth*Math.floor(e.options.slidesToShow/2):0;
if(e.options.swipeToSlide===true){e.$slideTrack.find(".slick-slide").each(function(h,g){if(g.offsetLeft-c+(a(g).outerWidth()/2)>(e.swipeLeft*-1)){f=g;
return false
}});
d=Math.abs(a(f).attr("data-slick-index")-e.currentSlide)||1;
return d
}else{return e.options.slidesToScroll
}};
b.prototype.goTo=b.prototype.slickGoTo=function(c,e){var d=this;
d.changeSlide({data:{message:"index",index:parseInt(c)}},e)
};
b.prototype.init=function(c){var d=this;
if(!a(d.$slider).hasClass("slick-initialized")){a(d.$slider).addClass("slick-initialized");
d.buildRows();
d.buildOut();
d.setProps();
d.startLoad();
d.loadSlider();
d.initializeEvents();
d.updateArrows();
d.updateDots()
}if(c){d.$slider.trigger("init",[d])
}};
b.prototype.initArrowEvents=function(){var c=this;
if(c.options.arrows===true&&c.slideCount>c.options.slidesToShow){c.$prevArrow.on("click.slick",{message:"previous"},c.changeSlide);
c.$nextArrow.on("click.slick",{message:"next"},c.changeSlide)
}};
b.prototype.initDotEvents=function(){var c=this;
if(c.options.dots===true&&c.slideCount>c.options.slidesToShow){a("li",c.$dots).on("click.slick",{message:"index"},c.changeSlide)
}if(c.options.dots===true&&c.options.pauseOnDotsHover===true&&c.options.autoplay===true){a("li",c.$dots).on("mouseenter.slick",a.proxy(c.setPaused,c,true)).on("mouseleave.slick",a.proxy(c.setPaused,c,false))
}};
b.prototype.initializeEvents=function(){var c=this;
c.initArrowEvents();
c.initDotEvents();
c.$list.on("touchstart.slick mousedown.slick",{action:"start"},c.swipeHandler);
c.$list.on("touchmove.slick mousemove.slick",{action:"move"},c.swipeHandler);
c.$list.on("touchend.slick mouseup.slick",{action:"end"},c.swipeHandler);
c.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},c.swipeHandler);
c.$list.on("click.slick",c.clickHandler);
a(document).on(c.visibilityChange,a.proxy(c.visibility,c));
c.$list.on("mouseenter.slick",a.proxy(c.setPaused,c,true));
c.$list.on("mouseleave.slick",a.proxy(c.setPaused,c,false));
if(c.options.accessibility===true){c.$list.on("keydown.slick",c.keyHandler)
}if(c.options.focusOnSelect===true){a(c.$slideTrack).children().on("click.slick",c.selectHandler)
}a(window).on("orientationchange.slick.slick-"+c.instanceUid,a.proxy(c.orientationChange,c));
a(window).on("resize.slick.slick-"+c.instanceUid,a.proxy(c.resize,c));
a("[draggable!=true]",c.$slideTrack).on("dragstart",c.preventDefault);
a(window).on("load.slick.slick-"+c.instanceUid,c.setPosition);
a(document).on("ready.slick.slick-"+c.instanceUid,c.setPosition)
};
b.prototype.initUI=function(){var c=this;
if(c.options.arrows===true&&c.slideCount>c.options.slidesToShow){c.$prevArrow.show();
c.$nextArrow.show()
}if(c.options.dots===true&&c.slideCount>c.options.slidesToShow){c.$dots.show()
}if(c.options.autoplay===true){c.autoPlay()
}};
b.prototype.keyHandler=function(d){var c=this;
if(d.keyCode===37&&c.options.accessibility===true){c.changeSlide({data:{message:"previous"}})
}else{if(d.keyCode===39&&c.options.accessibility===true){c.changeSlide({data:{message:"next"}})
}}};
b.prototype.lazyLoad=function(){var e=this,c,h,g,f;
function d(i){a("img[data-lazy]",i).each(function(){var k=a(this),l=a(this).attr("data-lazy"),j=document.createElement("img");
j.onload=function(){k.animate({opacity:0},100,function(){k.attr("src",l).animate({opacity:1},200,function(){k.removeAttr("data-lazy").removeClass("slick-loading")
})
})
};
j.src=l
})
}if(e.options.centerMode===true){if(e.options.infinite===true){g=e.currentSlide+(e.options.slidesToShow/2+1);
f=g+e.options.slidesToShow+2
}else{g=Math.max(0,e.currentSlide-(e.options.slidesToShow/2+1));
f=2+(e.options.slidesToShow/2+1)+e.currentSlide
}}else{g=e.options.infinite?e.options.slidesToShow+e.currentSlide:e.currentSlide;
f=g+e.options.slidesToShow;
if(e.options.fade===true){if(g>0){g--
}if(f<=e.slideCount){f++
}}}c=e.$slider.find(".slick-slide").slice(g,f);
d(c);
if(e.slideCount<=e.options.slidesToShow){h=e.$slider.find(".slick-slide");
d(h)
}else{if(e.currentSlide>=e.slideCount-e.options.slidesToShow){h=e.$slider.find(".slick-cloned").slice(0,e.options.slidesToShow);
d(h)
}else{if(e.currentSlide===0){h=e.$slider.find(".slick-cloned").slice(e.options.slidesToShow*-1);
d(h)
}}}};
b.prototype.loadSlider=function(){var c=this;
c.setPosition();
c.$slideTrack.css({opacity:1});
c.$slider.removeClass("slick-loading");
c.initUI();
if(c.options.lazyLoad==="progressive"){c.progressiveLazyLoad()
}};
b.prototype.next=b.prototype.slickNext=function(){var c=this;
c.changeSlide({data:{message:"next"}})
};
b.prototype.orientationChange=function(){var c=this;
c.checkResponsive();
c.setPosition()
};
b.prototype.pause=b.prototype.slickPause=function(){var c=this;
c.autoPlayClear();
c.paused=true
};
b.prototype.play=b.prototype.slickPlay=function(){var c=this;
c.paused=false;
c.autoPlay()
};
b.prototype.postSlide=function(d){var c=this;
c.$slider.trigger("afterChange",[c,d]);
c.animating=false;
c.setPosition();
c.swipeLeft=null;
if(c.options.autoplay===true&&c.paused===false){c.autoPlay()
}};
b.prototype.prev=b.prototype.slickPrev=function(){var c=this;
c.changeSlide({data:{message:"previous"}})
};
b.prototype.preventDefault=function(c){c.preventDefault()
};
b.prototype.progressiveLazyLoad=function(){var d=this,c,e;
c=a("img[data-lazy]",d.$slider).length;
if(c>0){e=a("img[data-lazy]",d.$slider).first();
e.attr("src",e.attr("data-lazy")).removeClass("slick-loading").load(function(){e.removeAttr("data-lazy");
d.progressiveLazyLoad();
if(d.options.adaptiveHeight===true){d.setPosition()
}}).error(function(){e.removeAttr("data-lazy");
d.progressiveLazyLoad()
})
}};
b.prototype.refresh=function(c){var d=this,e=d.currentSlide;
d.destroy(true);
a.extend(d,d.initials,{currentSlide:e});
d.init();
if(!c){d.changeSlide({data:{message:"index",index:e}},false)
}};
b.prototype.reinit=function(){var c=this;
c.$slides=c.$slideTrack.children(c.options.slide).addClass("slick-slide");
c.slideCount=c.$slides.length;
if(c.currentSlide>=c.slideCount&&c.currentSlide!==0){c.currentSlide=c.currentSlide-c.options.slidesToScroll
}if(c.slideCount<=c.options.slidesToShow){c.currentSlide=0
}c.setProps();
c.setupInfinite();
c.buildArrows();
c.updateArrows();
c.initArrowEvents();
c.buildDots();
c.updateDots();
c.initDotEvents();
if(c.options.focusOnSelect===true){a(c.$slideTrack).children().on("click.slick",c.selectHandler)
}c.setSlideClasses(0);
c.setPosition();
c.$slider.trigger("reInit",[c])
};
b.prototype.resize=function(){var c=this;
if(a(window).width()!==c.windowWidth){clearTimeout(c.windowDelay);
c.windowDelay=window.setTimeout(function(){c.windowWidth=a(window).width();
c.checkResponsive();
if(!c.unslicked){c.setPosition()
}},50)
}};
b.prototype.removeSlide=b.prototype.slickRemove=function(d,f,e){var c=this;
if(typeof(d)==="boolean"){f=d;
d=f===true?0:c.slideCount-1
}else{d=f===true?--d:d
}if(c.slideCount<1||d<0||d>c.slideCount-1){return false
}c.unload();
if(e===true){c.$slideTrack.children().remove()
}else{c.$slideTrack.children(this.options.slide).eq(d).remove()
}c.$slides=c.$slideTrack.children(this.options.slide);
c.$slideTrack.children(this.options.slide).detach();
c.$slideTrack.append(c.$slides);
c.$slidesCache=c.$slides;
c.reinit()
};
b.prototype.setCSS=function(d){var e=this,f={},c,g;
if(e.options.rtl===true){d=-d
}c=e.positionProp=="left"?Math.ceil(d)+"px":"0px";
g=e.positionProp=="top"?Math.ceil(d)+"px":"0px";
f[e.positionProp]=d;
if(e.transformsEnabled===false){e.$slideTrack.css(f)
}else{f={};
if(e.cssTransitions===false){f[e.animType]="translate("+c+", "+g+")";
e.$slideTrack.css(f)
}else{f[e.animType]="translate3d("+c+", "+g+", 0px)";
e.$slideTrack.css(f)
}}};
b.prototype.setDimensions=function(){var c=this;
if(c.options.vertical===false){if(c.options.centerMode===true){c.$list.css({padding:("0px "+c.options.centerPadding)})
}}else{c.$list.height(c.$slides.first().outerHeight(true)*c.options.slidesToShow);
if(c.options.centerMode===true){c.$list.css({padding:(c.options.centerPadding+" 0px")})
}}c.listWidth=c.$list.width();
c.listHeight=c.$list.height();
if(c.options.vertical===false&&c.options.variableWidth===false){c.slideWidth=Math.ceil(c.listWidth/c.options.slidesToShow);
c.$slideTrack.width(Math.ceil((c.slideWidth*c.$slideTrack.children(".slick-slide").length)))
}else{if(c.options.variableWidth===true){c.$slideTrack.width(5000*c.slideCount)
}else{c.slideWidth=Math.ceil(c.listWidth);
c.$slideTrack.height(Math.ceil((c.$slides.first().outerHeight(true)*c.$slideTrack.children(".slick-slide").length)))
}}var d=c.$slides.first().outerWidth(true)-c.$slides.first().width();
if(c.options.variableWidth===false){c.$slideTrack.children(".slick-slide").width(c.slideWidth-d)
}};
b.prototype.setFade=function(){var c=this,d;
c.$slides.each(function(e,f){d=(c.slideWidth*e)*-1;
if(c.options.rtl===true){a(f).css({position:"relative",right:d,top:0,zIndex:c.options.zIndex-2,opacity:0})
}else{a(f).css({position:"relative",left:d,top:0,zIndex:c.options.zIndex-2,opacity:0})
}});
c.$slides.eq(c.currentSlide).css({zIndex:c.options.zIndex-1,opacity:1})
};
b.prototype.setHeight=function(){var d=this;
if(d.options.slidesToShow===1&&d.options.adaptiveHeight===true&&d.options.vertical===false){var c=d.$slides.eq(d.currentSlide).outerHeight(true);
d.$list.css("height",c)
}};
b.prototype.setOption=b.prototype.slickSetOption=function(e,f,d){var c=this;
c.options[e]=f;
if(d===true){c.unload();
c.reinit()
}};
b.prototype.setPosition=function(){var c=this;
c.setDimensions();
c.setHeight();
if(c.options.fade===false){c.setCSS(c.getLeft(c.currentSlide))
}else{c.setFade()
}c.$slider.trigger("setPosition",[c])
};
b.prototype.setProps=function(){var d=this,c=document.body.style;
d.positionProp=d.options.vertical===true?"top":"left";
if(d.positionProp==="top"){d.$slider.addClass("slick-vertical")
}else{d.$slider.removeClass("slick-vertical")
}if(c.WebkitTransition!==undefined||c.MozTransition!==undefined||c.msTransition!==undefined){if(d.options.useCSS===true){d.cssTransitions=true
}}if(d.options.fade){if(typeof d.options.zIndex==="number"){if(d.options.zIndex<3){d.options.zIndex=3
}}else{d.options.zIndex=d.defaults.zIndex
}}if(c.OTransform!==undefined){d.animType="OTransform";
d.transformType="-o-transform";
d.transitionType="OTransition";
if(c.perspectiveProperty===undefined&&c.webkitPerspective===undefined){d.animType=false
}}if(c.MozTransform!==undefined){d.animType="MozTransform";
d.transformType="-moz-transform";
d.transitionType="MozTransition";
if(c.perspectiveProperty===undefined&&c.MozPerspective===undefined){d.animType=false
}}if(c.webkitTransform!==undefined){d.animType="webkitTransform";
d.transformType="-webkit-transform";
d.transitionType="webkitTransition";
if(c.perspectiveProperty===undefined&&c.webkitPerspective===undefined){d.animType=false
}}if(c.msTransform!==undefined){d.animType="msTransform";
d.transformType="-ms-transform";
d.transitionType="msTransition";
if(c.msTransform===undefined){d.animType=false
}}if(c.transform!==undefined&&d.animType!==false){d.animType="transform";
d.transformType="transform";
d.transitionType="transition"
}d.transformsEnabled=(d.animType!==null&&d.animType!==false)
};
b.prototype.setSlideClasses=function(f){var e=this,c,d,h,g;
d=e.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true");
e.$slides.eq(f).addClass("slick-current");
if(e.options.centerMode===true){c=Math.floor(e.options.slidesToShow/2);
if(e.options.infinite===true){if(f>=c&&f<=(e.slideCount-1)-c){e.$slides.slice(f-c,f+c+1).addClass("slick-active").attr("aria-hidden","false")
}else{h=e.options.slidesToShow+f;
d.slice(h-c+1,h+c+2).addClass("slick-active").attr("aria-hidden","false")
}if(f===0){d.eq(d.length-1-e.options.slidesToShow).addClass("slick-center")
}else{if(f===e.slideCount-1){d.eq(e.options.slidesToShow).addClass("slick-center")
}}}e.$slides.eq(f).addClass("slick-center")
}else{if(f>=0&&f<=(e.slideCount-e.options.slidesToShow)){e.$slides.slice(f,f+e.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")
}else{if(d.length<=e.options.slidesToShow){d.addClass("slick-active").attr("aria-hidden","false")
}else{g=e.slideCount%e.options.slidesToShow;
h=e.options.infinite===true?e.options.slidesToShow+f:f;
if(e.options.slidesToShow==e.options.slidesToScroll&&(e.slideCount-f)<e.options.slidesToShow){d.slice(h-(e.options.slidesToShow-g),h+g).addClass("slick-active").attr("aria-hidden","false")
}else{d.slice(h,h+e.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")
}}}}if(e.options.lazyLoad==="ondemand"){e.lazyLoad()
}};
b.prototype.setupInfinite=function(){var c=this,d,f,e;
if(c.options.fade===true){c.options.centerMode=false
}if(c.options.infinite===true&&c.options.fade===false){f=null;
if(c.slideCount>c.options.slidesToShow){if(c.options.centerMode===true){e=c.options.slidesToShow+1
}else{e=c.options.slidesToShow
}for(d=c.slideCount;
d>(c.slideCount-e);
d-=1){f=d-1;
a(c.$slides[f]).clone(true).attr("id","").attr("data-slick-index",f-c.slideCount).prependTo(c.$slideTrack).addClass("slick-cloned")
}for(d=0;
d<e;
d+=1){f=d;
a(c.$slides[f]).clone(true).attr("id","").attr("data-slick-index",f+c.slideCount).appendTo(c.$slideTrack).addClass("slick-cloned")
}c.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")
})
}}};
b.prototype.setPaused=function(d){var c=this;
if(c.options.autoplay===true&&c.options.pauseOnHover===true){c.paused=d;
if(!d){c.autoPlay()
}else{c.autoPlayClear()
}}};
b.prototype.selectHandler=function(f){var e=this;
var d=a(f.target).is(".slick-slide")?a(f.target):a(f.target).parents(".slick-slide");
var c=parseInt(d.attr("data-slick-index"));
if(!c){c=0
}if(e.slideCount<=e.options.slidesToShow){e.setSlideClasses(c);
e.asNavFor(c);
return
}e.slideHandler(c)
};
b.prototype.slideHandler=function(e,h,d){var c,k,g,i,f=null,j=this;
h=h||false;
if(j.animating===true&&j.options.waitForAnimate===true){return
}if(j.options.fade===true&&j.currentSlide===e){return
}if(j.slideCount<=j.options.slidesToShow){return
}if(h===false){j.asNavFor(e)
}c=e;
f=j.getLeft(c);
i=j.getLeft(j.currentSlide);
j.currentLeft=j.swipeLeft===null?i:j.swipeLeft;
if(j.options.infinite===false&&j.options.centerMode===false&&(e<0||e>j.getDotCount()*j.options.slidesToScroll)){if(j.options.fade===false){c=j.currentSlide;
if(d!==true){j.animateSlide(i,function(){j.postSlide(c)
})
}else{j.postSlide(c)
}}return
}else{if(j.options.infinite===false&&j.options.centerMode===true&&(e<0||e>(j.slideCount-j.options.slidesToScroll))){if(j.options.fade===false){c=j.currentSlide;
if(d!==true){j.animateSlide(i,function(){j.postSlide(c)
})
}else{j.postSlide(c)
}}return
}}if(j.options.autoplay===true){clearInterval(j.autoPlayTimer)
}if(c<0){if(j.slideCount%j.options.slidesToScroll!==0){k=j.slideCount-(j.slideCount%j.options.slidesToScroll)
}else{k=j.slideCount+c
}}else{if(c>=j.slideCount){if(j.slideCount%j.options.slidesToScroll!==0){k=0
}else{k=c-j.slideCount
}}else{k=c
}}j.animating=true;
j.$slider.trigger("beforeChange",[j,j.currentSlide,k]);
g=j.currentSlide;
j.currentSlide=k;
j.setSlideClasses(j.currentSlide);
j.updateDots();
j.updateArrows();
if(j.options.fade===true){if(d!==true){j.fadeSlideOut(g);
j.fadeSlide(k,function(){j.postSlide(k)
})
}else{j.postSlide(k)
}j.animateHeight();
return
}if(d!==true){j.animateSlide(f,function(){j.postSlide(k)
})
}else{j.postSlide(k)
}};
b.prototype.startLoad=function(){var c=this;
if(c.options.arrows===true&&c.slideCount>c.options.slidesToShow){c.$prevArrow.hide();
c.$nextArrow.hide()
}if(c.options.dots===true&&c.slideCount>c.options.slidesToShow){c.$dots.hide()
}c.$slider.addClass("slick-loading")
};
b.prototype.swipeDirection=function(){var c,f,e,g,d=this;
c=d.touchObject.startX-d.touchObject.curX;
f=d.touchObject.startY-d.touchObject.curY;
e=Math.atan2(f,c);
g=Math.round(e*180/Math.PI);
if(g<0){g=360-Math.abs(g)
}if((g<=45)&&(g>=0)){return(d.options.rtl===false?"left":"right")
}if((g<=360)&&(g>=315)){return(d.options.rtl===false?"left":"right")
}if((g>=135)&&(g<=225)){return(d.options.rtl===false?"right":"left")
}if(d.options.verticalSwiping===true){if((g>=35)&&(g<=135)){return"left"
}else{return"right"
}}return"vertical"
};
b.prototype.swipeEnd=function(e){var d=this,c;
d.dragging=false;
d.shouldClick=(d.touchObject.swipeLength>10)?false:true;
if(d.touchObject.curX===undefined){return false
}if(d.touchObject.edgeHit===true){d.$slider.trigger("edge",[d,d.swipeDirection()])
}if(d.touchObject.swipeLength>=d.touchObject.minSwipe){switch(d.swipeDirection()){case"left":c=d.options.swipeToSlide?d.checkNavigable(d.currentSlide+d.getSlideCount()):d.currentSlide+d.getSlideCount();
d.slideHandler(c);
d.currentDirection=0;
d.touchObject={};
d.$slider.trigger("swipe",[d,"left"]);
break;
case"right":c=d.options.swipeToSlide?d.checkNavigable(d.currentSlide-d.getSlideCount()):d.currentSlide-d.getSlideCount();
d.slideHandler(c);
d.currentDirection=1;
d.touchObject={};
d.$slider.trigger("swipe",[d,"right"]);
break
}}else{if(d.touchObject.startX!==d.touchObject.curX){d.slideHandler(d.currentSlide);
d.touchObject={}
}}};
b.prototype.swipeHandler=function(d){var c=this;
if((c.options.swipe===false)||("ontouchend" in document&&c.options.swipe===false)){return
}else{if(c.options.draggable===false&&d.type.indexOf("mouse")!==-1){return
}}c.touchObject.fingerCount=d.originalEvent&&d.originalEvent.touches!==undefined?d.originalEvent.touches.length:1;
c.touchObject.minSwipe=c.listWidth/c.options.touchThreshold;
if(c.options.verticalSwiping===true){c.touchObject.minSwipe=c.listHeight/c.options.touchThreshold
}switch(d.data.action){case"start":c.swipeStart(d);
break;
case"move":c.swipeMove(d);
break;
case"end":c.swipeEnd(d);
break
}};
b.prototype.swipeMove=function(f){var e=this,j=false,h,d,g,c,i;
i=f.originalEvent!==undefined?f.originalEvent.touches:null;
if(!e.dragging||i&&i.length!==1){return false
}h=e.getLeft(e.currentSlide);
e.touchObject.curX=i!==undefined?i[0].pageX:f.clientX;
e.touchObject.curY=i!==undefined?i[0].pageY:f.clientY;
e.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(e.touchObject.curX-e.touchObject.startX,2)));
if(e.options.verticalSwiping===true){e.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(e.touchObject.curY-e.touchObject.startY,2)))
}d=e.swipeDirection();
if(d==="vertical"){return
}if(f.originalEvent!==undefined&&e.touchObject.swipeLength>4){f.preventDefault()
}c=(e.options.rtl===false?1:-1)*(e.touchObject.curX>e.touchObject.startX?1:-1);
if(e.options.verticalSwiping===true){c=e.touchObject.curY>e.touchObject.startY?1:-1
}g=e.touchObject.swipeLength;
e.touchObject.edgeHit=false;
if(e.options.infinite===false){if((e.currentSlide===0&&d==="right")||(e.currentSlide>=e.getDotCount()&&d==="left")){g=e.touchObject.swipeLength*e.options.edgeFriction;
e.touchObject.edgeHit=true
}}if(e.options.vertical===false){e.swipeLeft=h+g*c
}else{e.swipeLeft=h+(g*(e.$list.height()/e.listWidth))*c
}if(e.options.verticalSwiping===true){e.swipeLeft=h+g*c
}if(e.options.fade===true||e.options.touchMove===false){return false
}if(e.animating===true){e.swipeLeft=null;
return false
}e.setCSS(e.swipeLeft)
};
b.prototype.swipeStart=function(d){var c=this,e;
if(c.touchObject.fingerCount!==1||c.slideCount<=c.options.slidesToShow){c.touchObject={};
return false
}if(d.originalEvent!==undefined&&d.originalEvent.touches!==undefined){e=d.originalEvent.touches[0]
}c.touchObject.startX=c.touchObject.curX=e!==undefined?e.pageX:d.clientX;
c.touchObject.startY=c.touchObject.curY=e!==undefined?e.pageY:d.clientY;
c.dragging=true
};
b.prototype.unfilterSlides=b.prototype.slickUnfilter=function(){var c=this;
if(c.$slidesCache!==null){c.unload();
c.$slideTrack.children(this.options.slide).detach();
c.$slidesCache.appendTo(c.$slideTrack);
c.reinit()
}};
b.prototype.unload=function(){var c=this;
a(".slick-cloned",c.$slider).remove();
if(c.$dots){c.$dots.remove()
}if(c.$prevArrow&&(typeof c.options.prevArrow!=="object")){c.$prevArrow.remove()
}if(c.$nextArrow&&(typeof c.options.nextArrow!=="object")){c.$nextArrow.remove()
}c.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")
};
b.prototype.unslick=function(d){var c=this;
c.$slider.trigger("unslick",[c,d]);
c.destroy()
};
b.prototype.updateArrows=function(){var d=this,c;
c=Math.floor(d.options.slidesToShow/2);
if(d.options.arrows===true&&d.options.infinite!==true&&d.slideCount>d.options.slidesToShow){d.$prevArrow.removeClass("slick-disabled");
d.$nextArrow.removeClass("slick-disabled");
if(d.currentSlide===0){d.$prevArrow.addClass("slick-disabled");
d.$nextArrow.removeClass("slick-disabled")
}else{if(d.currentSlide>=d.slideCount-d.options.slidesToShow&&d.options.centerMode===false){d.$nextArrow.addClass("slick-disabled");
d.$prevArrow.removeClass("slick-disabled")
}else{if(d.currentSlide>=d.slideCount-1&&d.options.centerMode===true){d.$nextArrow.addClass("slick-disabled");
d.$prevArrow.removeClass("slick-disabled")
}}}}};
b.prototype.updateDots=function(){var c=this;
if(c.$dots!==null){c.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true");
c.$dots.find("li").eq(Math.floor(c.currentSlide/c.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false")
}};
b.prototype.visibility=function(){var c=this;
if(document[c.hidden]){c.paused=true;
c.autoPlayClear()
}else{if(c.options.autoplay===true){c.paused=false;
c.autoPlay()
}}};
a.fn.slick=function(){var f=this,h=arguments[0],e=Array.prototype.slice.call(arguments,1),c=f.length,g=0,d;
for(g;
g<c;
g++){if(typeof h=="object"||typeof h=="undefined"){f[g].slick=new b(f[g],h)
}else{d=f[g].slick[h].apply(f[g].slick,e)
}if(typeof d!="undefined"){return d
}}return f
}
}));
$(function(){$(document).foundation({equalizer:{equalize_on_stack:true}})
});
function newCustStatusWindow(c){var d;
var b=window.innerWidth;
var e=window.innerHeight;
var a="width="+b+",height="+e+",directories=no,hotkeys=no,location=no,menubar=no,personalbar=no,resizable=yes,scrollbars=yes,status=yes,titlebar=no,toolbar=no";
d=window.open(c,"newWin1",a);
if(d===null||d===undefined){return
}d.focus()
}function trapModalFocus(){$(".reveal-modal").focus()
}$("body").on("open.fndtn.reveal","[data-reveal]",function(){$("body").css("overflow","hidden");
$("body").find(":not(.reveal-modal-paragraph *), :not(.reveal-modal)").not(":hidden").on("focus",trapModalFocus)
}).on("close.fndtn.reveal","[data-reveal]",function(){$("body").find(":not(.reveal-modal-paragraph *), :not(.reveal-modal)").not(":hidden").off("focus",trapModalFocus);
$("body").css("overflow","auto")
});
if(window.Handlebars){window.Handlebars.registerHelper("ifCond",function(d,a,c,b){switch(a){case"==":return(d==c)?b.fn(this):b.inverse(this);
case"===":return(d===c)?b.fn(this):b.inverse(this);
case"!=":return(d!=c)?b.fn(this):b.inverse(this);
case"<":return(d<c)?b.fn(this):b.inverse(this);
case"<=":return(d<=c)?b.fn(this):b.inverse(this);
case">":return(d>c)?b.fn(this):b.inverse(this);
case">=":return(d>=c)?b.fn(this):b.inverse(this);
case"&&":return(d&&c)?b.fn(this):b.inverse(this);
case"||":return(d||c)?b.fn(this):b.inverse(this);
default:return b.inverse(this)
}});
window.Handlebars.registerHelper("times",function(d,c){var a="";
for(var b=0;
b<d;
++b){a+=c.fn(b)
}return a
});
window.Handlebars.registerHelper("getRendition",function(b,a){switch(a){case"cq5dam.thumbnail.319.319":return b["cq5dam.thumbnail.319.319"]!==null?b["cq5dam.thumbnail.319.319"].replace(/jcr\:/,"_jcr_"):"";
case"cq5dam.web.767.767":return b["cq5dam.web.767.767"]!==null?b["cq5dam.web.767.767"].replace(/jcr\:/,"_jcr_"):"";
case"cq5dam.web.959.959":return b["cq5dam.web.959.959"]!==null?b["cq5dam.web.959.959"].replace(/jcr\:/,"_jcr_"):"";
case"cq5dam.web.1280.1280":return b["cq5dam.web.1280.1280"]!==null?b["cq5dam.web.1280.1280"].replace(/jcr\:/,"_jcr_"):"";
case"cq5dam.web.2000.2000":return b["cq5dam.web.2000.2000"]!==null?b["cq5dam.web.2000.2000"].replace(/jcr\:/,"_jcr_"):"";
default:return b["cq5dam.web.767.767"]!==null?b["cq5dam.web.767.767"].replace(/jcr\:/,"_jcr_"):""
}})
}(function(){$(function(){var g=$("#langSwitcher");
var a=g.find(".mobile-trigger");
var d=g.find(".other-langs.o-langs");
var h="USER_LANGUAGE";
var f=Cookies.get(h);
var e=150;
function c(){d.slideToggle();
var i=$(this).find((".icon"));
var j=g.find(".mobile-trigger").attr("aria-expanded");
i.toggleClass("icon-arrow-up");
a.attr("aria-expanded",function(l,k){return k=="false"?"true":"false"
})
}a.click(function(){c()
});
a.on("keydown",function(i){if(i.which==13||i.which==32){c()
}});
var b=g.find("ul.languages li a").filter("[data-cookie]");
b.click(function(){var i=$(this).attr("data-cookie");
Cookies.set(h,i,{expires:e})
})
})
})();
(function(){$(function(){var c=navigator.userAgent||navigator.vendor||window.opera;
if(/windows phone/i.test(c)){$("body").addClass("windows-mobile")
}else{if(/android/i.test(c)){$("body").addClass("android")
}else{if(/iPad|iPhone|iPod/.test(c)&&!window.MSStream){$("body").addClass("ios")
}else{if(/BB10|BlackBerry/i.test(c)){$("body").addClass("blackberry")
}}}}a();
function a(){$("body.android .hide-for-android, body.ios .hide-for-ios, body.blackberry .hide-for-blackberry, body.windows-mobile .hide-for-windows-mobile").each(function(){b(this)
})
}function b(d){if($(d).parent().hasClass("margins-padding")){$(d).parent().hide()
}else{$(d).parent().parent(".margins-padding").hide()
}}})
})();
(function(c){var b=$(".banner");
if(b.length>0){function a(f,e){e=e?e+" ":"";
$(f).on("before-height-change.fndth.equalizer",function(){var g=$(this).find(e+"[data-equalizer-watch]");
g.hasClass("equalized")&&g.removeClass("equalized")
});
$(f).on("after-height-change.fndtn.equalizer",function(){var g=$(this).find(e+"[data-equalizer-watch]");
g.hasClass("equalized")||g.addClass("equalized")
})
}var d=$('.layoutcontainer [data-equalizer="equalizebanner"]');
$(".banner",d).each(function(e,f){$(f).hasClass("flexible-padding")||$(f).addClass("flexible-padding");
$(f).find(".row[data-equalizer]").removeAttr("data-equalizer").removeAttr("data-equalizer-mq");
$(".columns[data-equalizer-watch]",f).attr("data-equalizer-watch","equalizebanner")
});
d.each(function(e,f){a(f,".banner")
});
$("[data-equalizer]",b).each(function(e,f){a(f)
})
}})(window);
(function(){var b=window.jQuery;
var a=b('.news-ticker[data-comp="carousel"]');
b(".news-ticker-content",a).slick({nextArrow:'<button class="carousel-control right icon-arrow-right"></button>',prevArrow:'<button class="carousel-control left icon-arrow-left"></button>',fade:!!a.hasClass("fade"),autoplay:true,autoplaySpeed:7000,speed:250});
b(".news-ticker-content .slick-list").removeAttr("aria-live");
b(".news-ticker-content",a).focusout(function(c){b(".news-ticker-content .slick-list").removeAttr("aria-live")
});
b(".news-ticker-content",a).focusin(function(c){b(".news-ticker-content .slick-list").attr("aria-live","polite")
});
b(".news-ticker-content",a).keypress(function(c){if(c.which===32){c.preventDefault();
if(this.slick.paused){this.slick.play()
}else{this.slick.pause()
}}})
}());
(function(i){var j=$(".slickslider");
var b=document.getElementsByTagName("html")[0].getAttribute("lang")=="fr"?"fr":"en";
j.slick();
$(i).resize(function(){j.slick("slickGoTo",0)
});
j.children(".slick-next").attr("title",j.data("slick-next"));
j.children(".slick-prev").attr("title",j.data("slick-prev"));
j.children(".slick-next").attr("aria-label",j.data("slick-next"));
j.children(".slick-prev").attr("aria-label",j.data("slick-prev"));
j.each(function(){if($(this).hasClass("equalizechildcomponents")){var m=$(this).data("equalizer");
$(this).find(".slickslide-inner").each(function(){var n=$(this).children().first();
if(n.hasClass("featurebannercontainer")||n.find(".featurebannercontainer").length||n.find(".featurebannerreference").length||n.find("adrotator").length){$(".banner",n).each(function(o,p){$(p).attr("data-equalizer-watch",m);
$(p).hasClass("flexible-padding")||$(p).addClass("flexible-padding");
$(p).find(".row[data-equalizer]").removeAttr("data-equalizer").removeAttr("data-equalizer-mq");
$(".columns[data-equalizer-watch]",p).attr("data-equalizer-watch",m)
})
}else{if(n.find(".callout").length||n.hasClass("callout")){$(".callout-inner",n).attr("data-equalizer-watch",m)
}else{if(n.hasClass("reference")){$(".cq-dd-paragraph > div > div",n).attr("data-equalizer-watch",m)
}else{n.children().first().attr("data-equalizer-watch",m)
}}}})
}$(this).on("setPosition",function(n){if($(n.target).find(".slick-active").length===$(n.target).find(".slick-slide").length){$(n.target).parent().prev(".carouselhelp").css("display","none");
$(n.target).find(".slickslide > .show-for-sr").css("display","none")
}else{$(n.target).parent().prev(".carouselhelp").css("display","block");
$(n.target).find(".slickslide > .show-for-sr").css("display","block")
}})
});
"use strict";
if(!$){$=i.jQuery
}var f=$('.carousel[data-comp="carousel"]'),h=false;
f.on("init",function(q){$(this).find("ul.slick-dots").append("<li class='play'><ul><li class='act'><a class='act'><span><i class='icon-pause'>");
$(this).attr("data-equalizer","");
if(!$(this).hasClass("inside-layout")){var p=$(q.target);
var o=p.height();
var n=p.find(".slick-dots").height();
var m=p.find(".slick-active");
p.children("button").css("top",-(o)+m.height()/2-n);
p.find(".slick-dots").css("bottom",o-m.height()+n);
if(p.hasClass("slick-dots-left-aligned")){p.find(".slick-dots").css("margin-left",$(".banner",p).closest(".row").css("margin-left")||$(".banner .row",p).css("margin-left"))
}}});
f.slick({dots:true,arrows:f.hasClass("inside-layout")?false:true,fade:!!f.hasClass("fade"),autoplay:true,autoplaySpeed:7000,speed:250,pauseOnHover:false});
f.children(".slick-next").attr("title",f.data("slick-next"));
f.children(".slick-prev").attr("title",f.data("slick-prev"));
f.children(".slick-next").attr("aria-label",f.data("slick-next"));
f.children(".slick-prev").attr("aria-label",f.data("slick-prev"));
f.on("click",function(m){if($(".slick-dots a",this).find(m.target).length>0){if(this.slick.paused){d(this);
$(this).off("mouseover");
setTimeout(function(){k(f)
},2000)
}else{l(this)
}}});
$(".carousel .slick-list").removeAttr("aria-live");
f.focusout(function(m){$(".carousel .slick-list").removeAttr("aria-live");
d(this)
});
f.focusin(function(m){$(".carousel .slick-list").attr("aria-live","polite");
l(this)
});
f.mouseover(function(m){l(this)
});
f.mouseleave(function(m){d(this)
});
f.keydown(function(m){if(m.which===32){m.preventDefault();
if(this.slick.paused){d(this);
$(this).off("mouseover");
setTimeout(function(){k(f)
},2000)
}else{l(this)
}}});
var c=$(".carousel.inherit").closest(".full-bleed");
if(c.length>0){c.addClass("carousel-target");
$(document).on("replace",".banner",function(q,n){var o=$(".transition.current",c),m=$(".transition.next",c),p;
o=(o.length<=0)?$('<div class="transition current">'):o;
m=(m.length<=0)?$('<div class="transition next">'):m;
$(".banner",f).each(function(){var r=$(this);
if(r.css("background-image")!="none"){r.data("background-image",r.css("background-image"))
}if(r.css("background-color")!="transparent"&&r.css("background-color")!="rgba(0, 0, 0, 0)"){r.data("background-color",r.css("background-color"))
}r.css({"background-color":"transparent","background-image":"none"})
});
if(!h){p={position:"absolute",width:"100%",height:"100%",top:0,left:0,"z-index":1,opacity:0,"background-size":"cover","background-repeat":"no-repeat","background-position":"center"};
o.css(p).prependTo(c);
m.css(p).prependTo(c);
h=true
}o.css({"background-image":($(".slick-current .banner",f).data("background-image")),"background-color":($(".slick-current .banner",f).data("background-color")),opacity:1});
m.css({opacity:0})
});
if($("html").hasClass("lt-ie9")){var a=$('<div class="transition current">'),g=$('<div class="transition next">'),e={position:"absolute",width:"100%",height:"100%",top:0,left:0,"z-index":1,opacity:0,"background-size":"cover","background-repeat":"no-repeat","background-position":"center"};
$(".banner",f).each(function(){var n=$(this),m=/\[?([a-zA-Z\.\/\-\d]+), ?\(large\)\]/i,o=m.exec(n.attr("data-interchange"));
n.data("background-image",o?"url("+o[1]+")":"");
n.data("background-color",n.css("background-color"));
n.css({"background-color":"transparent","background-image":"none"})
});
a.css(e).prependTo(c);
g.css(e).prependTo(c);
a.css({"background-image":($(".slick-current .banner",f).data("background-image")),"background-color":($(".slick-current .banner",f).data("background-color")),opacity:1});
g.css({opacity:0})
}f.on("beforeChange",function(r,n,u,t){var p=$(".banner",n.$slides[u]),o=$(".banner",n.$slides[t]),q=$(".transition.current",c),m=$(".transition.next",c);
q.css({"background-color":p.data("background-color"),"background-image":p.data("background-image"),opacity:1,"z-index":2});
m.css({"background-color":o.data("background-color"),"background-image":o.data("background-image"),opacity:0,"z-index":1});
q.animate({opacity:0},250,function(){$(this).css({"z-index":1})
});
m.animate({opacity:1},250,function(){$(this).css({"z-index":2})
})
})
}f.on("beforeChange",function(r,q,u,t){if(!$(this).hasClass("inside-layout")){var p=q.$slider;
var o=p.height();
var n=q.$dots.height();
var m=p.find(".slick-active");
if(q.$nextArrow){q.$nextArrow.css("top",-(o)+m.height()/2-n)
}if(q.$prevArrow){q.$prevArrow.css("top",-(o)+m.height()/2-n)
}q.$dots.css("bottom",o-m.height()+n);
if(p.hasClass("slick-dots-left-aligned")){p.find(".slick-dots").css("margin-left",$(".banner",q.$slides[t]).closest(".row").css("margin-left")||$(".banner .row",q.$slides[t]).css("margin-left"))
}}});
$(function(){if($(".carousel").length>0){$(i).on("resize",Foundation.utils.throttle(function(){$(document).foundation("equalizer","reflow")
},300))
}});
function d(m){m.slick.play();
$(m).find(".slick-dots .play .icon-play").addClass("icon-pause");
$(m).find(".slick-dots .play .icon-pause").removeClass("icon-play")
}function l(m){m.slick.pause();
$(m).find(".slick-dots .play .icon-pause").addClass("icon-play");
$(m).find(".slick-dots .play .icon-play").removeClass("icon-pause")
}function k(m){$(m).mouseover(function(n){l(this)
})
}})(window);
(function(a){$(function(){$("a.pop-up").click(function(){var c=this.getAttribute("href");
var d=this.getAttribute("width");
var b=this.getAttribute("height");
var e=newCustStatusWindow(c,d,b);
$(e).trigger("load",$(e));
$(e).unload(function(){$(e).trigger("unloaded",$(e))
});
return false
});
$(".search-button.right.button.primary.pop-up").click(function(){var e=$(".search-button.right.button.primary.pop-up").closest("form");
var c=e.attr("action");
var d=this.getAttribute("width");
var b=this.getAttribute("height");
var f=newCustStatusWindow(c+"?"+e.serialize(),d,b);
$(f).trigger("load",$(f));
$(f).unload(function(){$(f).trigger("unloaded",$(f))
});
return false
});
$("a.modal-link").click(function(f){var l=$(this);
f.preventDefault();
$(this).attr("data-reveal-id","default-modal");
var c=document.getElementById("closeiconalttext").value,h=document.getElementById("closeicontitletext").value,i=document.getElementById("hiddenmodaltext").value,k='<div id="default-modal" class="reveal-modal" data-reveal aria-describedby="default-modal-content" aria-hidden="true" role="dialog"><span class="show-for-sr">'+i+'</span><div class="reveal-modal-paragraph" id="default-modal-content"></div><a class="close-reveal-modal link-modal" tabindex="-1" role="button">&#215;</a></div>';
if($("body").append(k)){var j=$(this).attr("href");
if($(this).hasClass("modal-product-vertical")){_compareContainer=$(this).parents(".products-compare");
var b=_compareContainer.find(".products-compare-list .p-c-v.checked").map(function(){return this.id
});
var g=b.get().join(",");
j=_compareContainer.children(".resultPage").val()+"?"+g
}var d=$("#default-modal .reveal-modal-paragraph");
d.load(j+" .main-content",null,function(){$(k).trigger("load",$(k));
if($.trim(d.html())==""){d.html('<span class="icon-quick-tip color-global-1"></span> Nothing found at this location')
}a.services.RDS.onReady({success:function(e){this.updatePageRates()
}})
});
$("#default-modal .reveal-modal-paragraph").css("max-height",$(a).height()-50);
$(document).on("opened.fndtn.reveal","[data-reveal]",function(){var e=$("#default-modal.reveal-modal");
$(e).focus();
var m='<a class="modal-reset-link" href="#" onfocus="$(\'a.close-reveal-modal.link-modal\')[0].focus()"style="left:-10000px; position:absolute"aria-hidden="true">&nbsp;</a>';
if($(".modal-reset-link",$(this)).length===0){$(this).append(m)
}$("#default-modal .reveal-modal-paragraph .main-content").css("max-height",$(a).height()-120).css("overflow","auto");
$("a.close-reveal-modal").attr("title",h).attr("aria-label",c);
$(k).trigger("revealed",$(k));
$("a.close-reveal-modal",$(this)).on("keydown",function(n){if(n.which==13||n.which==32){$(this).trigger("click");
n.preventDefault()
}if(n.which===9&&!n.shiftKey){n.preventDefault();
$(e).find("select, input, textarea, button, a").first().focus()
}})
});
$(document).on("closed.fndtn.reveal","[data-reveal]",function(){$(k).trigger("closed",$(k));
$("#default-modal").remove();
l.focus()
})
}});
$('a[data-reveal-id="langSwitcher"]').click(function(b){$(document).on("opened.fndtn.reveal","[data-reveal]",function(){var c=$(this);
c.find("a.close-reveal-modal").focus();
c.focus(function(){c.find("a.close-reveal-modal").focus()
})
})
});
$(document).on("keydown",function(b){if(b.which==13||b.which==32){if($("a.close-reveal-modal:focus")[0]){b.preventDefault();
$("a.close-reveal-modal").trigger("click")
}}if(b.which===9&&b.shiftKey&&$(".reveal-modal").is(":focus")){b.preventDefault();
$("a.close-reveal-modal").focus()
}});
$("a.close-reveal-modal").on("touchstart",function(b){$("a.close-reveal-modal").trigger("click");
b.preventDefault()
})
})
})(window);
jQuery(document).ready(function(){if(window.location.href.indexOf("loggedOut=true")!=-1){$(".messaging-signoff").fadeIn()
}function a(){if(Cookies.get("messaging-marketing")){$(".messaging-marketing").fadeOut()
}else{$(".messaging-marketing").fadeIn()
}}$(".messaging-marketing .row .alert-box .close").click(function(b){b.preventDefault();
Cookies.set("messaging-marketing",true,{expires:30});
a()
});
a()
});
(function(){$(function(){if($("body.home .messaging-emergency").length>0){var e="/content/emergency-messages/messages.model.json";
var d=window.location.origin+e;
var c=$(".messaging-emergency");
var b=c.parent().attr("id");
var a=$("html").attr("lang");
$.ajax({type:"GET",url:d,async:false,cache:false,dataType:"json",success:function(f){if(f){if(f.messages&&f.messages.length>0){f.messages.forEach(function(g){if(b===g.id&&g.enabled){$(".alert-box",c).attr("aria-hidden",false);
$("span.message",c)[0].innerHTML=g[a];
c.removeClass("hide");
window.digitalData.infoMessage=window.digitalData.infoMessage||{};
window.digitalData.events.pageView=false;
window.digitalData.events.infoMessageView=true;
window.digitalData.infoMessage.ID=g.id;
window.digitalData.infoMessage.type="w";
if(typeof _satellite!=="undefined"){_satellite.track("track")
}}})
}}}})
}})
})();
/*!
Waypoints - 3.1.1
Copyright © 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
;
!function(){function b(d){if(!d){throw new Error("No options passed to Waypoint constructor")
}if(!d.element){throw new Error("No element option passed to Waypoint constructor")
}if(!d.handler){throw new Error("No handler option passed to Waypoint constructor")
}this.key="waypoint-"+c,this.options=b.Adapter.extend({},b.defaults,d),this.element=this.options.element,this.adapter=new b.Adapter(this.element),this.callback=d.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=b.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=b.Context.findOrCreateByElement(this.options.context),b.offsetAliases[this.options.offset]&&(this.options.offset=b.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),a[this.key]=this,c+=1
}var c=0,a={};
b.prototype.queueTrigger=function(d){this.group.queueTrigger(this,d)
},b.prototype.trigger=function(d){this.enabled&&this.callback&&this.callback.apply(this,d)
},b.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete a[this.key]
},b.prototype.disable=function(){return this.enabled=!1,this
},b.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this
},b.prototype.next=function(){return this.group.next(this)
},b.prototype.previous=function(){return this.group.previous(this)
},b.invokeAll=function(d){var g=[];
for(var h in a){g.push(a[h])
}for(var i=0,f=g.length;
f>i;
i++){g[i][d]()
}},b.destroyAll=function(){b.invokeAll("destroy")
},b.disableAll=function(){b.invokeAll("disable")
},b.enableAll=function(){b.invokeAll("enable")
},b.refreshAll=function(){b.Context.refreshAll()
},b.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight
},b.viewportWidth=function(){return document.documentElement.clientWidth
},b.adapters=[],b.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},b.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()
},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()
}},window.Waypoint=b
}(),function(){function b(e){window.setTimeout(e,1000/60)
}function d(e){this.element=e,this.Adapter=g.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+a,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,f[e.waypointContextKey]=this,a+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()
}var a=0,f={},g=window.Waypoint,c=window.onload;
d.prototype.add=function(h){var i=h.options.horizontal?"horizontal":"vertical";
this.waypoints[i][h.key]=h,this.refresh()
},d.prototype.checkEmpty=function(){var h=this.Adapter.isEmptyObject(this.waypoints.horizontal),i=this.Adapter.isEmptyObject(this.waypoints.vertical);
h&&i&&(this.adapter.off(".waypoints"),delete f[this.key])
},d.prototype.createThrottledResizeHandler=function(){function h(){i.handleResize(),i.didResize=!1
}var i=this;
this.adapter.on("resize.waypoints",function(){i.didResize||(i.didResize=!0,g.requestAnimationFrame(h))
})
},d.prototype.createThrottledScrollHandler=function(){function h(){i.handleScroll(),i.didScroll=!1
}var i=this;
this.adapter.on("scroll.waypoints",function(){(!i.didScroll||g.isTouch)&&(i.didScroll=!0,g.requestAnimationFrame(h))
})
},d.prototype.handleResize=function(){g.Context.refreshAll()
},d.prototype.handleScroll=function(){var C={},y={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};
for(var w in y){var m=y[w],q=m.newScroll>m.oldScroll,j=q?m.forward:m.backward;
for(var D in this.waypoints[w]){var A=this.waypoints[w][D],v=m.oldScroll<A.triggerPoint,x=m.newScroll>=A.triggerPoint,k=v&&x,B=!v&&!x;
(k||B)&&(A.queueTrigger(j),C[A.group.id]=A.group)
}}for(var z in C){C[z].flushTriggers()
}this.oldScroll={x:y.horizontal.newScroll,y:y.vertical.newScroll}
},d.prototype.innerHeight=function(){return this.element==this.element.window?g.viewportHeight():this.adapter.innerHeight()
},d.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()
},d.prototype.innerWidth=function(){return this.element==this.element.window?g.viewportWidth():this.adapter.innerWidth()
},d.prototype.destroy=function(){var j=[];
for(var k in this.waypoints){for(var h in this.waypoints[k]){j.push(this.waypoints[k][h])
}}for(var l=0,m=j.length;
m>l;
l++){j[l].destroy()
}},d.prototype.refresh=function(){var q,H=this.element==this.element.window,D=this.adapter.offset(),A={};
this.handleScroll(),q={horizontal:{contextOffset:H?0:D.left,contextScroll:H?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:H?0:D.top,contextScroll:H?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};
for(var B in q){var x=q[B];
for(var v in this.waypoints[B]){var K,C,E,z,m,J=this.waypoints[B][v],I=J.options.offset,G=J.triggerPoint,k=0,j=null==G;
J.element!==J.element.window&&(k=J.adapter.offset()[x.offsetProp]),"function"==typeof I?I=I.apply(J):"string"==typeof I&&(I=parseFloat(I),J.options.offset.indexOf("%")>-1&&(I=Math.ceil(x.contextDimension*I/100))),K=x.contextScroll-x.contextOffset,J.triggerPoint=k+K-I,C=G<x.oldScroll,E=J.triggerPoint>=x.oldScroll,z=C&&E,m=!C&&!E,!j&&z?(J.queueTrigger(x.backward),A[J.group.id]=J.group):!j&&m?(J.queueTrigger(x.forward),A[J.group.id]=J.group):j&&x.oldScroll>=J.triggerPoint&&(J.queueTrigger(x.forward),A[J.group.id]=J.group)
}}for(var F in A){A[F].flushTriggers()
}return this
},d.findOrCreateByElement=function(e){return d.findByElement(e)||new d(e)
},d.refreshAll=function(){for(var e in f){f[e].refresh()
}},d.findByElement=function(e){return f[e.waypointContextKey]
},window.onload=function(){c&&c(),d.refreshAll()
},g.requestAnimationFrame=function(j){var h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||b;
h.call(window,j)
},g.Context=d
}(),function(){function b(g,h){return g.triggerPoint-h.triggerPoint
}function c(g,h){return h.triggerPoint-g.triggerPoint
}function a(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),d[this.axis][this.name]=this
}var d={vertical:{},horizontal:{}},f=window.Waypoint;
a.prototype.add=function(e){this.waypoints.push(e)
},a.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}
},a.prototype.flushTriggers=function(){for(var g in this.triggerQueues){var k=this.triggerQueues[g],l="up"===g||"left"===g;
k.sort(l?c:b);
for(var j=0,h=k.length;
h>j;
j+=1){var e=k[j];
(e.options.continuous||j===k.length-1)&&e.trigger([g])
}}this.clearTriggerQueues()
},a.prototype.next=function(h){this.waypoints.sort(b);
var g=f.Adapter.inArray(h,this.waypoints),j=g===this.waypoints.length-1;
return j?null:this.waypoints[g+1]
},a.prototype.previous=function(h){this.waypoints.sort(b);
var g=f.Adapter.inArray(h,this.waypoints);
return g?this.waypoints[g-1]:null
},a.prototype.queueTrigger=function(g,h){this.triggerQueues[h].push(g)
},a.prototype.remove=function(g){var h=f.Adapter.inArray(g,this.waypoints);
h>-1&&this.waypoints.splice(h,1)
},a.prototype.first=function(){return this.waypoints[0]
},a.prototype.last=function(){return this.waypoints[this.waypoints.length-1]
},a.findOrCreate=function(e){return d[e.axis][e.name]||new a(e)
},f.Group=a
}(),function(){function b(d){this.$element=c(d)
}var c=window.jQuery,a=window.Waypoint;
c.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(f,d){b.prototype[d]=function(){var e=Array.prototype.slice.call(arguments);
return this.$element[d].apply(this.$element,e)
}
}),c.each(["extend","inArray","isEmptyObject"],function(d,e){b[e]=c[e]
}),a.adapters.push({name:"jquery",Adapter:b}),a.Adapter=b
}(),function(){function a(c){return function(){var d=[],e=arguments[0];
return c.isFunction(arguments[0])&&(e=c.extend({},arguments[1]),e.handler=arguments[0]),this.each(function(){var f=c.extend({},e,{element:this});
"string"==typeof f.context&&(f.context=c(this).closest(f.context)[0]),d.push(new b(f))
}),d
}
}var b=window.Waypoint;
window.jQuery&&(window.jQuery.fn.waypoint=a(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=a(window.Zepto))
}();
/*!
Waypoints Sticky Element Shortcut - 3.1.1
Copyright © 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
;
!function(){function b(d){this.options=c.extend({},a.defaults,b.defaults,d),this.element=this.options.element,this.$element=c(this.element),this.createWrapper(),this.createWaypoint()
}var c=window.jQuery,a=window.Waypoint;
b.prototype.createWaypoint=function(){var d=this.options.handler;
this.waypoint=new a(c.extend({},this.options,{element:this.wrapper,handler:c.proxy(function(h){var f=this.options.direction.indexOf(h)>-1,g=f?this.$element.outerHeight(!0):"";
this.$wrapper.height(g),this.$element.toggleClass(this.options.stuckClass,f),d&&d.call(this,h)
},this)}))
},b.prototype.createWrapper=function(){this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]
},b.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass).unwrap())
},b.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},a.Sticky=b
}();
(function(a){a(["jquery"],function(e){var b=e.scrollTo=function(g,f,h){return e(window).scrollTo(g,f,h)
};
b.defaults={axis:"xy",duration:0,limit:true};
function c(f){return !f.nodeName||e.inArray(f.nodeName.toLowerCase(),["iframe","#document","html","body"])!==-1
}e.fn.scrollTo=function(m,l,k){if(typeof l==="object"){k=l;
l=0
}if(typeof k==="function"){k={onAfter:k}
}if(m==="max"){m=9000000000
}k=e.extend({},b.defaults,k);
l=l||k.duration;
var i=k.queue&&k.axis.length>1;
if(i){l/=2
}k.offset=d(k.offset);
k.over=d(k.over);
return this.each(function(){if(m===null){return
}var q=c(this),o=q?this.contentWindow||window:this,j=e(o),n=m,f={},h;
switch(typeof n){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(n)){n=d(n);
break
}n=q?e(n):e(n,o);
if(!n.length){return
}case"object":if(n.is||n.style){h=(n=e(n)).offset()
}}var p=e.isFunction(k.offset)&&k.offset(o,n)||k.offset;
e.each(k.axis.split(""),function(w,u){var t=u==="x"?"Left":"Top",z=t.toLowerCase(),v="scroll"+t,x=j[v](),r=b.max(o,u);
if(h){f[v]=h[z]+(q?0:x-j.offset()[z]);
if(k.margin){f[v]-=parseInt(n.css("margin"+t),10)||0;
f[v]-=parseInt(n.css("border"+t+"Width"),10)||0
}f[v]+=p[z]||0;
if(k.over[z]){f[v]+=n[u==="x"?"width":"height"]()*k.over[z]
}}else{var y=n[z];
f[v]=y.slice&&y.slice(-1)==="%"?parseFloat(y)/100*r:y
}if(k.limit&&/^\d+$/.test(f[v])){f[v]=f[v]<=0?0:Math.min(f[v],r)
}if(!w&&k.axis.length>1){if(x===f[v]){f={}
}else{if(i){g(k.onAfterFirst);
f={}
}}}});
g(k.onAfter);
function g(t){var r=e.extend({},k,{queue:true,duration:l,complete:t&&function(){t.call(o,n,k)
}});
j.animate(f,r)
}})
};
b.max=function(i,h){var m=h==="x"?"Width":"Height",g="scroll"+m;
if(!c(i)){return i[g]-e(i)[m.toLowerCase()]()
}var l="client"+m,k=i.ownerDocument||i.document,j=k.documentElement,f=k.body;
return Math.max(j[g],f[g])-Math.min(j[l],f[l])
};
function d(f){return e.isFunction(f)||e.isPlainObject(f)?f:{top:f,left:f}
}e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(f){return e(f.elem)[f.prop]()
},set:function(h){var g=this.get(h);
if(h.options.interrupt&&h._last&&h._last!==g){return e(h.elem).stop()
}var f=Math.round(h.now);
if(g!==f){e(h.elem)[h.prop](f);
h._last=this.get(h)
}}};
return b
})
}(typeof define==="function"&&define.amd?define:function(d,c){if(typeof module!=="undefined"&&module.exports){module.exports=c(require("jquery"))
}else{c(jQuery)
}}));
(function(){$(function(){var b=$('nav[data-comp="stickynav"]'),i=b.filter(".large-up")[0],g=b.filter(".product-secondary-nav"),k=b.filter(".mobile-section-nav")[0],l=$(".sticky-nav-items ul a",i),h=$(".sticky-nav-items ul a",k),n=$.map(l,function(o){return $(""+o.getAttribute("href"))
}),f=$(".mobile-menu-cont"),a=$(".sticky-nav-anchor",k),e=$(".sticky-nav-anchor",k).text(),d=$(".breadcrumbs > li:last > a").text()||e,c=12;
function j(){if(i){new Waypoint.Sticky({element:i,stuckClass:"pinned"})
}}j();
$(n).waypoint(function(t){var u,p,o=$('a[href="'+this.element.selector+'"]',i),r=$('a[href="'+this.element.selector+'"]',k);
if(this.previous()&&t==="up"){var q=this.previous().previous()&&this.previous().key=="waypoint-0"?this.previous().previous():this.previous();
o=$('a[href="'+q.element.selector+'"]',i);
r=$('a[href="'+q.element.selector+'"]',k)
}u=o.parent();
l.parent().removeClass("active");
u.addClass("active");
p=r.parent();
h.parent().removeClass("active");
p.addClass("active");
if(t==="up"&&this.key=="waypoint-1"){p.removeClass("active");
a.attr("title",d).attr("aria-label",d).text(d)
}else{a.attr("title",r.text()).attr("aria-label",r.text()).text(r.clone().children().remove().end().text())
}},{offset:(function(){return($(i).height()>0?$(i).height()+c:a.outerHeight()+c)
})()});
$(window).on("resize",Foundation.utils.debounce(function(){if(i){$(i).removeClass("pinned").closest("div.sticky-wrapper").css("height","");
j()
}},200));
function m(){$(".mobile-section-nav > .wrapper").css({"max-height":0});
$(".mobile-section-nav.open > .wrapper").css({"max-height":($(window).height())-100+"px"});
$(".mobile-section-nav.mobile-section-nav.subnav-desktop > .wrapper").css({"max-height":1000})
}$(window).on("resize",function(o){m()
});
l.on("click",function(o){$.scrollTo($(this).attr("href"),{duration:1000,offset:{left:0,top:-($(i).height()+c-5)}});
return false
});
h.on("click",function(o){$.scrollTo($(this).attr("href"),{duration:1000,offset:{left:0,top:-(a.outerHeight()+c-5)}});
$(".mobile-section-nav:not(.hidedropdown)").toggleClass("open");
m();
return false
});
$(window).on("load resize orientationchange",function(){$('.mobile-section-nav[data-comp="stickynav"]').each(function(){if(!Foundation.utils.is_large_up()){$(this).parent().prevAll(".margins-padding, .mobile-section-nav").find(".mobile-section-nav").addBack(".mobile-section-nav").hide()
}else{$(this).parent().prevAll(".margins-padding, .mobile-section-nav").find(".mobile-section-nav").addBack(".mobile-section-nav").show();
$(".subnav-ctas").removeClass("hidden")
}});
$(".subnav-ctas").each(function(){var o=$(this).detach();
$(".subnav-cta-container").append(o)
})
});
$(".subnav-ctas .subnav-dropdown").click(function(o){o.preventDefault();
$(this).toggleClass("active");
$(this).parent("li").toggleClass("active");
$(this).next(".subnav-dropdown-cont").slideToggle("fast").attr("aria-expanded",function(q,p){return p=="true"?"false":"true"
})
});
$(".product-secondary-nav-title.mobile").click(function(p){p.preventDefault();
var q=$(this).parents(".product-secondary-nav");
var o=$(".product-secondary-nav-menu",q);
if(q.hasClass("expanded")){q.removeClass("expanded")
}else{q.addClass("expanded")
}o.slideToggle();
$(this).attr("aria-expanded",function(t,r){return r=="true"?"false":"true"
});
o.attr("aria-hidden",function(t,r){return r=="false"?"true":"false"
}).css("top",q.height());
$(this).children("span.icon").toggleClass("icon-arrow-down icon-arrow-up")
});
$("body").mousedown(function(p){p.stopPropagation();
var o=$(p.target);
if($(".product-secondary-nav-title.mobile").is(":visible")&&o.closest(".product-secondary-nav-title.mobile").length==0){$(".product-secondary-nav").removeClass("expanded");
$(".product-secondary-nav-menu").slideUp(400,function(){$(this).css("top",0)
}).attr("aria-hidden",true);
$(".product-secondary-nav-title.mobile span.icon").removeClass("icon-arrow-up").addClass("icon-arrow-down");
$(".product-secondary-nav-title.mobile").attr("aria-expanded",false)
}if($(".product-secondary-nav .subnav-dropdown-cont").is(":visible")&&o.closest(".product-secondary-nav .subnav-dropdown").length==0){p.preventDefault();
var q=$(".product-secondary-nav .subnav-dropdown",this);
q.toggleClass("active");
q.attr("aria-expanded",function(t,r){return r=="true"?"false":"true"
});
q.parent("li").toggleClass("active");
q.next(".subnav-dropdown-cont").slideToggle("fast")
}});
$(window).on("load scroll resize orientationchange",function(){if(Foundation.utils.is_large_up()){if(g[0]){scrollHeight=$(".secondarynav").offset().top
}g.each(function(){if($(window).scrollTop()>scrollHeight){$(this).addClass("pinned").css("top","0")
}else{$(this).removeClass("pinned").css("top","0")
}if($(this).hasClass("expanded")){$(this).removeClass("expanded");
$(".product-secondary-nav-title.mobile",this).attr("aria-expanded",false);
$(".product-secondary-nav-title.mobile span.icon",this).removeClass("icon-arrow-up").addClass("icon-arrow-down")
}$(".product-secondary-nav-menu",this).attr("aria-hidden",false).css({display:"inline-block",top:0})
})
}else{var o=0;
if(g[0]){scrollHeight=$(".secondarynav").offset().top
}if(g[0]&&$(".mobile-menu-cont:visible").length){o=$(".mobile-menu-cont:visible").height()
}g.each(function(){if($(window).scrollTop()>scrollHeight){$(this).addClass("pinned");
$(this).css("top",o)
}else{$(this).removeClass("pinned");
$(this).css("top","0")
}if($(".product-secondary-nav-title.mobile",this).attr("aria-expanded")==="false"){$(".product-secondary-nav-menu",this).attr("aria-hidden",true).css("display","none")
}})
}});
$(".product-secondary-nav .subnav-dropdown").click(function(o){o.preventDefault();
$(this).toggleClass("active");
$(this).parent("li").toggleClass("active");
$(this).attr("aria-expanded",function(q,p){return p=="true"?"false":"true"
});
$(this).next(".subnav-dropdown-cont").slideToggle("fast")
})
})
}());
(function(a){a.$(function(){$(".horizontal-compare-container input[type=checkbox]:checked").prop("checked",false);
a.$(".product-callout-horizontal-container .product-compare-checkbox .compare-checkbox").change(function(){a.$(this).parents(".product-callout-horizontal-container").toggleClass("checked");
b(a.$(this))
});
a.$(".outer-compare").click(function(h){h.preventDefault();
var d=a.$(this).attr("disabled");
if(typeof d!==typeof undefined&&d!==false){return false
}else{_compareContainer=a.$(this).parents(".horizontal-compare-container");
var c=_compareContainer.find(".product-callout-horizontal-container.checked").map(function(){return this.id
});
var g=c.get().join(",");
var f=_compareContainer.children(".resultPage").val()+"?"+g;
if(a.$(this).hasClass("_blank")){a.open(f,"newWindow")
}else{a.location=f
}}});
function b(f){var e=f.parents(".horizontal-compare-container");
var c=e.find(".product-callout-horizontal-container.checked").map(function(){return this.id
});
var d=c.length;
if(d<2){a.$(".button.outer-compare",e).attr("disabled","disabled")
}else{if(d>=2){a.$(".button.outer-compare",e).removeAttr("disabled");
if(d>=4){a.$(".product-callout-horizontal-container .product-compare-checkbox .compare-checkbox:not(:checked)",e).prop("disabled",true)
}else{a.$(".product-callout-horizontal-container .product-compare-checkbox .compare-checkbox:not(:checked)",e).prop("disabled",false)
}}}}})
})(window);
(function(){$(function(){$(".product-callout-horizontal-container .product-compare-checkbox .compare-checkbox").click(function(){$(this).parents().hasClass("product-callout-horizontal-container");
$(this).toggleClass("checked")
})
})
})();
(function(){var b=0,l=window.location.href,n=window.location.pathname,j=window.location.search,f="",d="fn",c="_s",h="_u",e=d+c,m=d+h,i=window.location.hash.replace("#",f),g=[],o="aria-label";
function k(r,q){return r.reduce(function(u,t){return u+(t===q)
},0)
}function p(){if(window.location.hash){window.history.replaceState(null,null,window.location.href.slice(0,window.location.href.lastIndexOf("#")))
}}$(function(){var z=$(".terms-navigation > a"),q=$(".terms-content-wrapper .content"),y=E(),D=$(".sticky-nav"),G=$("#mobile-header"),r=$("#cardCompareSticky"),B={},x=0,H=0,F=0,C=[],A=[],w=[],t=document.documentElement.getAttribute("lang"),v=$("a.termsandconditions-footnote-link").hide();
function E(){y=q.find("a[name], a[id]").not("footnote-unmarked");
if(z[0]&&y[0]){y.each(function(){if($(this).attr("name")){g.push($(this).attr("name"))
}else{g.push($(this).attr("id"))
}})
}return y
}if(D[0]){b+=D.outerHeight()
}if(G[0]){b+=G.outerHeight()
}if(r[0]){b+=r.outerHeight()
}z.click(function(N){N.preventDefault();
var J=$(this).parent(),O=$(this).parents(".terms-wrapper")[0],M=$(this).find(".termsArrow"),K=$(".terms-content-inner-wrapper > .content"),I=$(".terms-header-wrapper",O),L=$('a[name="'+i+'"]').length?$('a[name="'+i+'"]'):$('a[id="'+i+'"]');
i=window.location.hash.replace("#",f);
if(i.slice(0,2)===d){L=$('dd[id="'+i+'"]')
}M.toggleClass("icon-arrow-down icon-arrow-up");
I.toggleClass("tc-close tc-open");
if(K.css("display")=="none"){$(this).addClass("active");
M.removeClass("icon-arrow-down");
M.addClass("icon-arrow-up");
K.slideDown(300,function(){if(y[0]&&($.inArray(i.replace(d,f),g)!==-1)){var P=$(L).offset().top-b;
$("html, body").animate({scrollTop:P},400,function(){if(j.indexOf("-rf")>=0){var R=j.slice(8,j.lastIndexOf("/")),S="#"+j.slice(j.lastIndexOf("/")+1,j.length),Q=S.slice(0,S.indexOf("-")),T=R+S;
$(Q).find('a[href*="fn"]').attr("href",T);
if(Q=="#termsandconditions"||Q=="#modalites"){$(Q).attr("href",T)
}window.history.replaceState(null,null,l.slice(0,l.indexOf("?")))
}p();
L.attr("tabindex","-1");
L[0].focus()
})
}});
J.attr("aria-selected","true");
J.attr("aria-expanded","true")
}else{J.attr("aria-selected","false");
J.attr("aria-expanded","false");
K.slideUp(300);
$(this).removeClass("active")
}});
$(window).load(function(){var N=$(".terms-header-wrapper.tc-open").length?true:false,L=[],K=$('a[href*="#"]').length,M=$('<script src="/etc/designs/cibcpublic/clientlibs/assets/footnotes/wet-boew.min.js"/>'),J=$('<script src="/etc/designs/cibcpublic/clientlibs/assets/footnotes/footnotes.js"/>');
$('a[href*="#"]').each(function(Q){var T=$(this).attr("href"),V=T.slice(T.lastIndexOf("#")+1),P=T.slice(0,T.lastIndexOf("#")),U=window.location.search,O,S;
if((V.slice(0,2)===d||V.indexOf("termsandconditions")>=0||V.indexOf("modalites")>=0)&&V.indexOf("-")===-1){$(this).addClass("fn-lnk");
if(!(P===f||P===n)){$(this).addClass("df-ref")
}else{$(this).attr("href",T.slice(T.lastIndexOf("#")))
}L.push(V);
if($(this).children("sup")[0]){O=$(this).children("sup");
O.contents().unwrap();
$(this).wrap(O)
}S=$(this).parents("sup");
S.attr("id",V+"-"+k(L,V)+"-rf");
if(V.indexOf("termsandconditions")>=0||V.indexOf("modalites")>=0){$(this).parent().attr("id",V+"-"+k(L,V)+"-rf")
}}if($(this).hasClass("df-ref")){var R=S[0]?S.prop("id"):$(this).parent().prop("id");
if(U.indexOf("cards")===-1){U=f
}$(this).attr("href",P+"?fn-lnk="+n+U+"/"+R+"#"+V)
}});
$("a.fn-lnk").click(function(){var P=$(this).attr("href"),Q="#"+$(this).parents("sup").attr("id"),R=P.slice(P.lastIndexOf("#")+1),O="#"+R.replace(d,f);
$(O).attr("href",Q);
if($(".terms-content-inner-wrapper > .content").not(":visible")[0]){window.location.hash=R;
z.trigger("click")
}});
if($(".terms-navigation")[0]){E().each(function(){if(!$("body").find(M)[0]){$("body").append(M)
}if(!$("body").find(J)[0]){$("body").append(J)
}if($(this).prop("href")===f){if($(this).attr("name")&&!$(this).prop("id")){var O=$(this).attr("name");
$(this).removeAttr("name");
$(this).prop("id",O)
}var R=$(this).attr("name")?$(this).attr("name"):$(this).attr("id"),P=$("<dd/>",{id:d+R,tabindex:"-1"}),Q=$(this).closest("p"),U=$(".terms-wrapper").data("link-back-text")?$(".terms-wrapper").data("link-back-text"):f,T=$("<dt/>",{text:$(".termsTitle").text()+" "+R});
var S="#fn"+R+"-1-rf";
if(!($(this).prop("id")==="termsandconditions"||$(this).prop("id")==="modalites")){Q.wrap(P);
$(this).closest("dd").before(T);
$(this).detach();
Q.after($(this));
$(this).attr("href",S);
if(R.startsWith(c)){R=a[parseInt(R.charAt(2))-1].code
}$(this).html(R);
$(this).prepend('<span class="wb-inv">'+U+" </span>");
$(this).wrap('<p class="fn-rtn" />').wrap("<sup></sup>")
}else{if((window.location.hash.indexOf("termsandconditions")>=0||window.location.hash.indexOf("modalites")>=0)||$('[href="#termsandconditions"]')[0]||$('[href="#modalites"]')[0]){$(this).append('<span class="icon icon-arrow-left"></span><span class="wb-inv">'+U+R+" </span>");
$(this).attr("href",S);
$(this).wrap('<p class="fn-rtn" />').wrap("<sup></sup>")
}}}});
$("span.icon > i.removal-marker").remove();
if(z[0]&&y[0]&&($.inArray(i.replace(d,f),g)!==-1)){if(!N){z.trigger("click")
}}$(".wb-fnote").trigger("wb-init.wb-fnote")
}if(window.location.hash.indexOf("-rf")>=0){l=window.location.href.slice(0,window.location.href.lastIndexOf("#"));
var I=window.location.hash;
if(r[0]){b+=r.outerHeight()
}$("html, body").animate({scrollTop:$(I).offset().top-b},400,function(){p();
$(I).attr("tabindex","-1");
$(I)[0].focus()
})
}});
$(window).on("hashchange",function(){if(window.location.hash.indexOf(d)>-1||window.location.hash.indexOf("-rf")>-1){p()
}});
v.each(function(M,L){var N=$(this),I=N.parent(".termsandconditions-footnote"),J="/jcr:content/data/master.json",Q=I.data("fragmentRef")+J,K=I.data("footnoteType"),P,O;
if(B[Q]){P=B[Q]
}else{if(K=="numeric"){x+=1;
P=d+x;
B[Q]=P
}else{if(K=="symbolic"){H+=1;
P=e+H;
B[Q]=P
}else{F+=1;
P=m+F;
B[Q]=P
}}}N.attr("href","#"+P);
if(K=="numeric"){N.text(P.replace(d,f));
N.show()
}else{if(K=="symbolic"){N.html(a[parseInt(P.replace(e,""))-1].code);
N.attr(o,a[H-1][o+t]);
N.show()
}else{if(N.parents("aside.wb-fnote").length){N.closest("p").remove()
}}}});
if(!$.isEmptyObject(B)){$.when.apply($,Object.keys(B).map(function(I){return $.ajax(I)
})).done(function(){var M,J,I=t.charAt(0).toUpperCase()+t.substr(1),L;
if(this.constructor===Array){for(var K=0;
K<this.length;
K++){M=arguments[K][0]["text"+I];
J=this[K].url;
u(J,M)
}}else{J=this.url;
M=arguments[0]["text"+I];
u(J,M)
}q.children().prepend(C);
q.children().prepend(A);
q.children().prepend(w);
$.getScript("/etc/designs/cibcpublic/clientlibs/rds/js/rds-integration.js")
})
}function u(J,L){if(L){var K=B[J],I=K.replace(d,f);
if(!I.startsWith(h)){L=L.replace("<p>","<p><a id='"+I+"'></a>");
if(I.startsWith(c)){A.push(L)
}else{C.push(L)
}}else{w.push(L)
}}}});
var a=[{code:"&#8224;",entity:"&dagger;","aria-labelen":"dagger symbol (footnote)","aria-labelfr":"symbole obèle, note explicative"},{code:"&#8225;",entity:"&Dagger;","aria-labelen":"double dagger symbol (footnote)","aria-labelfr":"symbole double obèle, note explicative"},{code:"&#9826;",entity:"&loz;","aria-labelen":"diamond symbol (footnote)","aria-labelfr":"symbole carreau, note explicative"},{code:"&#8224;&#8224;",entity:"&dagger;&dagger;","aria-labelen":"two dagger symbols (footnote)","aria-labelfr":"deux symboles obèle, note explicative"},{code:"&#9826;&#9826;",entity:"&loz;&loz;","aria-labelen":"two diamond symbols (footnote)","aria-labelfr":"deux symboles carreau, note explicative"}]
})();
function toolbar(a){this.max=9;
this.duration=30;
this.bannerAcq="2013681";
this.existingDataArray=JSON.parse(localStorage.boxes||"[]");
this.numberOfSlides=0;
this.category="";
this.isDesktop="";
this.title="";
this.run=function(){this.isDesktop=this.getIsDesktop();
this.initializeEnableButton();
this.initializeDisableToolbarButton();
this.removeExpired();
this.showToolbar();
if(this.isEnabled()){this.enable();
if(this.thisPageShouldBeAdded()){try{this.addThisPage()
}catch(b){}}try{this.initializeRemoveButtons();
this.initializeClearHistoryButton();
this.initializeClickingBox();
this.initializeSlider()
}catch(b){}}else{this.disable()
}};
this.initializeEnableButton=function(){var b=this;
if(this.jquerySupportsLive()){a.$("#toolbarWrapper #enableToolbar").live("click",function(){return b.initializeEnableButtonDoIt()
})
}else{a.$("#toolbarWrapper").on("click","#enableToolbar",function(){return b.initializeEnableButtonDoIt()
})
}};
this.initializeEnableButtonDoIt=function(){localStorage.salesToolbarEnabled="true";
this.enable();
if(this.thisPageShouldBeAdded()){this.addThisPage()
}return false
};
this.isEnabled=function(){if(localStorage.salesToolbarEnabled==="true"){return true
}return false
};
this.enable=function(){localStorage.salesToolbarEnabled="true";
a.$("#disableToolbar").show();
a.$("#toolbarWrapper").removeClass("inactive");
a.$("#toolbarWrapper #enableToolbar").hide();
a.$("#toolbarWrapperHeading").html(this.getToolbarTitle());
this.getCTAPosition(a.$(this));
if(!this.isDesktop){a.$("#salesToolbarSlider").show()
}this.initializeClickingBox()
};
this.disable=function(){localStorage.salesToolbarEnabled="false";
a.$("#disableToolbar").hide();
a.$("#toolbarWrapper").addClass("inactive");
a.$("#toolbarWrapper #enableToolbar").show();
a.$("#toolbarWrapperHeading").html(this.getToolbarTitle());
if(!this.isDesktop){a.$("#salesToolbarSlider").hide()
}};
this.removeExpired=function(){var b;
for(b=0;
b<=this.existingDataArray.length-1;
b++){if(this.existingDataArray[b].expires<=new Date().getTime()){this.existingDataArray.splice(b,1)
}}localStorage.boxes=JSON.stringify(this.existingDataArray)
};
this.showToolbar=function(){a.$("#loadingWrapper").remove();
if(this.existingDataArray.length>0){a.$("#clearHistory").show();
a.$("#toolbarWrapper").removeClass("default");
this.$salesToolbarSlider=a.$("#salesToolbarSlider");
var b=a.$('<div id="stage" class="row" data-equalizer="salesfooter"></div>'),c;
this.$salesToolbarSlider.append(b);
for(c=0;
c<=this.existingDataArray.length-1;
c++){b.append(this.getBoxHtml(c))
}this.getCTAPosition(a.$(this))
}else{this.emptyContent()
}};
this.getToolbarTitle=function(){if(localStorage.salesToolbarEnabled==="true"){switch(this.existingDataArray.length){case 0:return a.$("#noItemsTitle").html();
default:return a.$("#recentlyViewedTitle").html()
}}else{return a.$("#inactiveTitle").html()
}};
this.getCTAPosition=function(b){if(this.existingDataArray.length==0){a.$("#toolbarInnerWrapper .small-text-center").addClass("no-item");
a.$("#toolbarInnerWrapper").removeClass("more-items")
}else{if(this.existingDataArray.length==1){a.$("#clearHistory").addClass("one-item");
a.$("#disableToolbar").addClass("one-item");
a.$("#toolbarInnerWrapper").removeClass("more-items")
}else{a.$("#clearHistory").removeClass("one-item");
a.$("#disableToolbar").removeClass("one-item");
a.$("#toolbarInnerWrapper.small-text-center").removeClass("no-item");
a.$("#toolbarInnerWrapper").addClass("more-items")
}}};
this.getBoxHtml=function(c){var e=this.existingDataArray[c],d="",f="",b;
if(this.getLanguage()==="fr"){f="de"
}else{f="for"
}switch(e.category){case"bankAccount":d="bankAccount";
break;
case"creditCard":d="creditCard";
break;
case"insurance":d="insurance";
break;
case"invest":d="invest";
break;
case"mortgage":d="mortgage";
break;
case"tool":d="tool";
break;
case"lending":d="lending";
break
}b='<div class="box '+d+' large-4 medium-4 small-12 columns clearfix" data-box-counter="'+c+'" data-url="'+e.learnMoreUrl+'" data-equalizer-watch="salesfooter">';
b+=' <a href="'+e.learnMoreUrl+'" class="title">'+e.title+"</a>";
b+=' <a href="javascript:void(0);" class="remove" aria-label="Remove">&times;</a>';
if(e.category==="tool"){b+=" <p>"+e.toolDesc+"</p>"
}else{b+=' <a href="'+e.ctaUrl+'" class="button secondary omniTag" id="'+this.getUrlParameter(e.ctaUrl,"WT.mc_id")+'" rel="nofollow" title="'+e.ctaTitle+" "+f+" "+e.title+'">'+e.ctaTitle+"</a>"
}b+="<span></span>";
b+="</div>";
return b
};
this.initializeRemoveButtons=function(){var b=this;
if(this.jquerySupportsLive()){a.$("#toolbarWrapper .remove").live("click",function(){a.$("#stage").slick("slickRemove",a.$(".slick-slide").index(this)-1);
b.initializeRemoveButtonsDoIt(a.$(this))
})
}else{a.$("#toolbarWrapper").on("click",".remove",function(){b.initializeRemoveButtonsDoIt(a.$(this))
})
}};
this.initializeRemoveButtonsDoIt=function(c){var b=-1;
a.$("#stage .box").each(function(e){if(a.$(this).attr("data-slick-index")===c.parent().attr("data-slick-index")){b=e;
return false
}});
this.existingDataArray.splice(b,1);
a.$("#stage").slick("slickRemove",b);
var d=this;
if(a.$("#stage .box").length===0){d.emptyContent()
}localStorage.boxes=JSON.stringify(this.existingDataArray);
a.$("#toolbarWrapperHeading").html(this.getToolbarTitle());
d.getCTAPosition(d)
};
this.thisPageShouldBeAdded=function(){var c=a.$("html").attr("itemscope"),b=a.$("html").attr("itemtype");
if(b==="http://schema.org/Article"){return false
}return(typeof c!==typeof undefined&&c!==false&&typeof b!==typeof undefined&&b!==false)
};
this.addThisPage=function(){var d;
for(d=0;
d<=this.existingDataArray.length-1;
d++){if(this.existingDataArray[d].learnMoreUrl.split("?")[0]===location.href.split("?")[0]){this.existingDataArray.splice(d,1)
}}this.title=this.getTitle();
this.category=this.getCategory();
var c=this.getCtaDataArray();
var b={category:this.category,title:this.title,learnMoreUrl:this.getLearnMoreUrl(),ctaTitle:c.title,ctaUrl:c.url,toolDesc:this.getToolDesc(),expires:this.getExpiryDate()};
for(d=this.existingDataArray.length-1;
d>=0;
d--){this.existingDataArray[d+1]=this.existingDataArray[d]
}this.existingDataArray[0]=b;
if(this.existingDataArray.length>this.max){this.existingDataArray.splice(this.max,1)
}localStorage.boxes=JSON.stringify(this.existingDataArray)
};
this.getCategory=function(){if(a.$("html").attr("itemtype")==="http://www.schema.org/Thing"){return"tool"
}else{if(location.href.indexOf("/chequing-savings/")>-1){return"bankAccount"
}else{if(location.href.indexOf("/visa/")>-1){return"creditCard"
}else{if(location.href.indexOf("/credit-cards/")>-1){return"creditCard"
}else{if(location.href.indexOf("/mortgages/")>-1){return"mortgage"
}else{if(location.href.indexOf("/loans/")>-1){return"lending"
}else{if(location.href.indexOf("/gic/")>-1){return"invest"
}else{if(location.href.indexOf("/structured-notes/")>-1){return"invest"
}else{if(location.href.indexOf("/mutual-funds/")>-1){return"invest"
}else{if(location.href.indexOf("/portfolio-solutions/")>-1){return"invest"
}else{if(location.href.indexOf("/ppn/")>-1){return"invest"
}else{if(location.href.indexOf("/retirement/")>-1){return"invest"
}else{if(location.href.indexOf("/education/")>-1){return"invest"
}else{if(location.href.indexOf("/investing/")>-1){return"invest"
}else{if(location.href.indexOf("/insurance/")>-1){return"insurance"
}}}}}}}}}}}}}}}return""
};
this.getTitle=function(){var e=a.$('#blq-content *[itemprop="name"]').first();
if(e.length<=0){e=a.$('#content1 *[itemprop="name"]').first()
}if(e.length>0){var d=e.is("meta")?e.attr("content"):e.html();
var c=/<span class=["']supText["']>([^<]*)<\/span>/gi;
var b=c.exec(d);
if(b&&b.length>0){d=d.replace(c,"<sup>"+b[1]+"</sup>")
}return this.removeForbiddenTagsFromString(d)
}return document.getElementsByTagName("title")[0].innerHTML
};
this.getLearnMoreUrl=function(){var b=this.removeURLParameter(location.href,"int_id");
b=this.removeURLParameter(b,"applyid");
b=this.removeURLParameter(b,"bannerAcq");
var c,d;
d=b;
return d
};
this.removeURLParameter=function(b,g){var e=b.split("?");
if(e.length>=2){var f=encodeURIComponent(g)+"=";
var d=e[1].split(/[&;]/g);
var c;
for(c=d.length;
c-->0;
){if(d[c].lastIndexOf(f,0)!==-1){d.splice(c,1)
}}b=e[0]+"?"+d.join("&");
return b
}return b
};
this.getUrlParameter=function(c,f){f=f.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");
var b="[\\?&]"+f+"=([^&#]*)";
var e=new RegExp(b);
var d=e.exec(c);
if(d===null){return null
}return d[1]
};
this.getCtaDataArray=function(){var c=[];
c.title="";
c.url="";
if(this.category==="tool"){return c
}c.title=a.$("#defaultCtaTitle").html();
c.url=location.href;
var b=a.$(".toolbarCta");
if(b.length>0){c.title=this.getCtaTitleFromElement(b);
c.url=this.getCtaUrlFromElement(b)
}else{b=a.$("#blq-content .button.primary");
if(b.length>0){c.title=this.getCtaTitleFromElement(b);
c.url=this.getCtaUrlFromElement(b)
}else{if(this.isDesktop){if(this.getLanguage()==="fr"){switch(this.category){case"bankAccount":b=a.$('#blq-content a[href*="/ca/chequing-savings/apply-fr.html"]');
break;
case"creditCard":b=a.$('#blq-content a[href*="/credit-card-apply-fr.html"]');
if(b.length===0){b=a.$('#blq-content a[href*="/cards-app/apply-form-fr.html"]')
}if(b.length===0){b=a.$('#content1 a[href*="/m/apply/credit-cards/cc-apply-fr.html"]')
}if(b.length===0){b=a.$('#content1 a[href*="/cards-app/apply-form-fr.html"]')
}break;
case"insurance":b=a.$('#blq-content a[href*="/tmi-single-trip-index-fr.html"]');
break;
case"invest":b=a.$('#blq-content a[href*="/gic-apply-fr.html"]');
if(b.length===0){b=a.$('#blq-content a[href*="/rrsp-disa-apply-fr.html"]')
}if(b.length===0){b=a.$('#blq-content a[href*="/tfsa-tasa-apply-fr.html"]')
}break;
case"mortgage":b=a.$('#blq-content a[href*="/apply/mortgages/mortgage-index-fr.html?requestType=preapproval"]');
if(b.length===0){b=a.$('#content1 a[href*="/m/apply/mortgages/mortgages-apply-fr.html?requestType=mortgage"]')
}break;
case"lending":b=a.$('#blq-content a[href*="/llc-apply-fr.html"]');
break;
case"tool":break
}}else{switch(this.category){case"bankAccount":b=a.$('#blq-content a[href*="/ca/chequing-savings/apply.html"]');
break;
case"creditCard":b=a.$('#blq-content a[href*="/credit-card-apply.html"]');
if(b.length===0){b=a.$('#blq-content a[href*="/cards-app/apply-form.html"]')
}if(b.length===0){b=a.$('#content1 a[href*="/m/apply/credit-cards/cc-apply.html"]')
}if(b.length===0){b=a.$('#content1 a[href*="/cards-app/apply-form.html"]')
}break;
case"insurance":b=a.$('#blq-content a[href*="/tmi-single-trip-index.html"]');
break;
case"invest":b=a.$('#blq-content a[href*="/gic-apply.html"]');
if(b.length===0){b=a.$('#blq-content a[href*="/rrsp-disa-apply.html"]')
}if(b.length===0){b=a.$('#blq-content a[href*="/tfsa-tasa-apply.html"]')
}break;
case"mortgage":b=a.$('#blq-content a[href*="/apply/mortgages/mortgage-index.html?requestType=preapproval"]');
if(b.length===0){b=a.$('#content1 a[href*="/m/apply/mortgages/mortgages-apply.html?requestType=mortgage"]')
}break;
case"lending":b=a.$('#blq-content a[href*="/llc-apply.html"]');
break;
case"tool":break
}}}else{b=a.$("#content1 .applyButton")
}if(b&&b.length>0){c.title=this.getCtaTitleFromElement(b);
c.url=this.getCtaUrlFromElement(b)
}}}c.url=this.removeURLParameter(c.url,"bannerAcq");
c.url=this.removeURLParameter(c.url,"WT.mc_id");
return c
};
this.getCategoryAbbreviation=function(){switch(this.category){case"bankAccount":return"BA";
case"creditCard":return"CC";
case"insurance":return"INS";
case"invest":return"INV";
case"mortgage":return"MTG";
case"tool":return"TOOL";
case"lending":return"LEND"
}};
this.getProductNameAbbreviation=function(){return this.title.replace(/\s/g,"-").toLowerCase().replace(/[^bcdfghjklmnpqrstvwxyz-]/g,"")
};
this.getLanguageAbbreviation=function(){return(this.getLanguage()==="fr")?"F":"E"
};
this.getMobileAbbreviation=function(){return(this.isDesktop)?"":"-mweb"
};
this.getIsDesktop=function(){return location.pathname.indexOf("/ca/")>-1
};
this.generateUrlWithToolbarTracking=function(b,d){var c=b+((b.indexOf("?")>-1)?"&":"?");
c+=d+"=Int-"+this.getCategoryAbbreviation()+"-"+this.getProductNameAbbreviation()+"-"+this.getLanguageAbbreviation()+"-X-stoolbar"+this.getMobileAbbreviation();
return c
};
this.getCtaTitleFromElement=function(b){var d=b.html().replace(/<br[\s]*[\/]*>/gi,"");
var c=/<span class=["']show-for-sr["']>([^<]*)<\/span>/gi;
match=c.exec(d);
if(match&&match.length>0){d=d.replace(c,"")
}if(b.children(".primary-label")){d=b.children(".primary-label").html()
}else{d=b.clone().children().remove().end().text()
}return d
};
this.removeForbiddenTagsFromString=function(f){var c=["SUP"];
var g=document.createElement("div");
g.innerHTML=f;
var b=g.getElementsByTagName("*");
var d=[];
for(var e=0;
e<b.length;
e++){d.push(b[e])
}for(var e=0;
e<d.length;
e++){if(jQuery.inArray(d[e].nodeName,c)==-1){g.removeChild(d[e])
}}return g.innerHTML
};
this.getCtaUrlFromElement=function(b){return this.myTrim(b.attr("href"))
};
this.getToolDesc=function(){var b=150;
var c;
var d=document.getElementsByTagName("meta");
for(c=0;
c<d.length;
c++){if(d[c].getAttribute("name")==="toolbarDesc"){if(d[c].getAttribute("content").length>b){return d[c].getAttribute("content").substr(0,b-3)+"..."
}return d[c].getAttribute("content")
}}return""
};
this.getExpiryDate=function(){var b=new Date();
b.setDate(b.getDate()+this.duration);
return b.getTime()
};
this.initializeClearHistoryButton=function(){var b=this;
if(this.jquerySupportsLive()){a.$("#toolbarWrapper #clearHistory").live("click",function(){b.initializeClearHistoryButtonDoIt()
})
}else{a.$("#toolbarWrapper").on("click","#clearHistory",function(){b.initializeClearHistoryButtonDoIt()
})
}};
this.initializeClearHistoryButtonDoIt=function(){this.clearHistory();
return false
};
this.clearHistory=function(){localStorage.boxes=[];
this.existingDataArray=[];
this.emptyContent();
a.$("#toolbarWrapperHeading").html(this.getToolbarTitle());
this.getCTAPosition(a.$(this))
};
this.initializeDisableToolbarButton=function(){var b=this;
if(this.jquerySupportsLive()){a.$("#disableToolbar").live("click",function(){b.initializeDisableToolbarButtonDoIt()
})
}else{a.$("#toolbarWrapper").on("click","#disableToolbar",function(){b.initializeDisableToolbarButtonDoIt()
})
}};
this.initializeDisableToolbarButtonDoIt=function(){this.clearHistory();
this.disable()
};
this.initializeClickingBox=function(){var b=this;
if(this.jquerySupportsLive()){a.$("#toolbarWrapper #stage .box span").live("click",function(){b.initializeClickingBoxDoIt(a.$(this).parent().attr("data-url"))
})
}else{a.$("#toolbarWrapper").on("click","#stage .box span",function(){b.initializeClickingBoxDoIt(a.$(this).parent().attr("data-url"))
})
}};
this.initializeClickingBoxDoIt=function(d){window.location=d;
var c=window.location.pathname.replace(/\.html/gi,"").split("/");
var b=c[c.length-1]+">"+((this.getIsDesktop())?"D":"M")+">"+this.getUrlParameter(d,"WT.mc_id");
s.linkTrackVars="prop25";
s.linkTrackEvents="None";
s.prop25=b;
s.tl(this,"o",b,null,function(){window.location=d
})
};
this.initializeSlider=function(){var c=this;
var b=$(".rtl-salesfooter").length>0;
a.$("#stage").slick({autoplay:false,dots:false,arrows:true,slidesToShow:3,slidesToScroll:1,infinite:false,responsive:[{breakpoint:960,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}],rtl:b})
};
this.emptyContent=function(){a.$("#clearHistory").hide();
a.$("#toolbarWrapperHeading").html(this.getToolbarTitle());
a.$("#salesToolbarSlider").remove();
a.$("#toolbarWrapper").addClass("default");
a.$("#toolbarHandlers").addClass("hide")
};
this.jquerySupportsLive=function(){try{a.$("#somethingMadeUp").live("click",function(){});
return true
}catch(b){return false
}};
this.getLanguage=function(){if(a.$("html").attr("lang")){return a.$("html").attr("lang")
}return"en"
};
this.myTrim=function(b){return b.replace(/^\s+|\s+$/gm,"")
}
}(function(a){a.$(function(){function b(d){switch(d){case"enable":case"disable":var c=new toolbar();
break
}return false
}a.$("#enableToolbar").click(function(){b("enable")
});
a.$("#disableToolbar").click(function(){b("disable")
})
})
})(window);
(function(b){b.$(function(){if(a()){if(!c(location.pathname)){if(b.$.slick){d()
}else{b.$.ajax({url:"/etc/designs/cibcpublic/clientlibs/site/js/slick.js",cache:true,dataType:"script",success:d()})
}}else{b.$("#toolbarWrapper").remove()
}}});
function d(){var e=new toolbar(window);
e.run()
}function c(e){var g=["/ca/asset-management/","/ca/cibc-and-you/","/ca/commercial/","/ca/imperial-service/","/ca/inside-cibc/","/ca/investor-relations/","/ca/legal-trademarks/","/ca/media-centre/","/ca/private-wealth-management/","/ca/mobile/","/m/apply/","/m/cibc-and-you/legal/trademarks.html","/m/cibc-and-you/legal/trademarks-fr.html","/m/contact-cibc.html","/m/contact-cibc-fr.html"];
for(var f=0;
f<g.length;
f++){if(e.indexOf(g[f])>-1){return true
}}return false
}function a(){var g="test",f=localStorage;
try{f.setItem(g,"1");
f.removeItem(g);
return true
}catch(e){return false
}}})(window);
$(function(){$("a.flyover-link").on("click",function(b){var a=this.getAttribute("data-target");
$("#"+a).fadeIn("fast");
return false
});
$(document).on("click",function(a){if($(a.target).closest(".flyover").length==0){$(".flyover").fadeOut("fast")
}})
});
jQuery(document).ready(function(){$(".breadcrumbs li:last-of-type a").click(function(a){a.preventDefault()
})
});
(function(c){$(function(){$(window).on("ready load resize",function(){var j;
var k=".products-compare-list";
var l=["div.product-desc","div.product-callout","div.product-name","div.product-details","div.product-details-content","div.product-details-cta-wrapper"];
if(k){if($(window).width()>767){i(k)
}else{if($(window).width()<=767&&$(".mobile-compare-v-slider").length){i(".products-compare-list.mobile-compare-v-slider")
}}}function i(o){$(document).on("after-height-change.fndtn.equalizer",function(){n([{container:o,eqTarget:l}])
})
}function h(p){var t=document.querySelectorAll(p);
var r,o;
for(var q=0;
q<t.length;
q++){r=$(t[q]).children();
o="large-"+Math.ceil(12/r.length);
r.addClass(o)
}}function n(r){var p;
for(var o=0;
o<r.length;
o++){p=[];
for(var q=0;
q<r[o].eqTarget.length;
q++){p.push(r[o].container+" "+r[o].eqTarget[q]);
m(r[o].container,r[o].eqTarget[q])
}$(p.join(",")).addClass("eq-height")
}}function m(o,r){var t=document.querySelectorAll(o);
var u,q=false;
for(var p=0;
p<t.length;
p++){u=$(t[p]);
if(u.closest("li.accordion-navigation").length!=0&&!u.closest(".content").is(":visible")){q=true;
u.closest(".content").show()
}g(t[p],r);
if(q){u.closest(".content").hide();
q=false
}}}function g(o,r){var p=o.querySelectorAll(r);
var u=[];
var t;
for(var q=0;
q<p.length;
q++){p[q].style.height="auto";
u[q]=p[q].offsetHeight
}t=Math.max.apply(Math,u);
for(var q=0;
q<p.length;
q++){p[q].style.height=t+1+"px"
}}});
$(document).ready(function(){$(".mobile-compare-v-slider").slick({dots:false,arrows:false,autoplay:false,mobileFirst:true,infinite:false,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:767,settings:"unslick"}]});
$(window).on("resize orientationchange",function(){$(".mobile-compare-v-slider").slick("resize")
})
})
}());
$(".products-compare .compare-button a.button.compare").on("click",function(m){m.preventDefault();
_compareContainer=$(this).parents(".products-compare");
var h=_compareContainer.find(".products-compare-list .p-c-v.checked").map(function(){return this.id
});
var j=h.get().join(",");
var i=_compareContainer.children(".resultPage").val()+"?"+j;
if($(this).hasClass("new-window")){window.open(i,"newWindow")
}else{if($(this).hasClass("comparepop-up")){var k=this.getAttribute("width");
var g=this.getAttribute("height");
var l=newCustStatusWindow(i,k,g);
$(l).trigger("load",$(l));
$(l).unload(function(){$(l).trigger("unloaded",$(l))
});
return false
}else{if(!$(this).hasClass("modal-product-vertical")){window.location=i
}}}});
var d=[];
function b(g){return $(".p-c-v.first-mobile",g).parent().index()
}function a(){$(".products-compare-list").each(function(g){var i=-1;
var h=$(".columns",this);
i=b(h);
if(i!==-1){d.push({pcv:this,featuredIndex:i})
}})
}function f(g){if(g){d.forEach(function(h){var i=-1;
i=b($(".columns",h.pcv));
if(h.featuredIndex>0&&i===h.featuredIndex){var j=$(".columns",h.pcv);
var k=j[h.featuredIndex];
$(k).insertBefore(j.first())
}})
}else{d.forEach(function(h){var i=-1;
i=b($(".columns",h.pcv));
if(i!==h.featuredIndex){var j=$(".columns",h.pcv);
var k=j[i];
$(k).insertAfter($(j[h.featuredIndex]))
}})
}}a();
if(d.length>0){f(window.innerWidth<960);
var e=-1;
$(window).on("resize orientationchange",function(g){clearTimeout(e);
e=setTimeout(function(){f(window.innerWidth<960)
},100)
})
}})(window);
(function(){$(function(){$(".expandableButton").click(function(b){b.preventDefault();
$(this).parent().siblings(".expandableButtonList").slideToggle();
$(this).attr("aria-expanded",function(d,c){return c=="true"?"false":"true"
});
$(this).parent().siblings(".expandableButtonList").attr("aria-hidden",function(d,c){return c=="false"?"true":"false"
});
$(this).children("span.icon").toggleClass("icon-arrow-down icon-arrow-up")
});
$("body").mousedown(function(c){c.stopPropagation();
var b=$(c.target);
if($(".expandableButtonList").is(":visible")&&b.closest(".expandableButtonContainer").length==0){c.preventDefault();
$(".expandableButtonList").slideUp().attr("aria-hidden",false);
$(".expandableButton span.icon").removeClass("icon-arrow-up").addClass("icon-arrow-down");
$(".expandableButton").attr("aria-expanded",false)
}});
$(document).on("keydown",function(c){var b=$(".expandableButtonList:visible a");
if(c.which==13&&$(".expandableButtonList:visible a:focus")[0]){window.location=$(".expandableButtonList:visible a:focus").attr("href")
}if(c.which==27&&$(".expandableButtonList:visible")[0]){c.preventDefault();
$(".expandableButtonList:visible").prev().find(".expandableButton").trigger("click").trigger("focus")
}if(c.which==32&&$(".expandableButton:focus")[0]){c.preventDefault();
$(".expandableButton:focus").trigger("click")
}if(c.which==40||(c.which==9&&!c.shiftKey)){if($(".expandableButtonList").is(":visible")){c.preventDefault();
if($(".expandableButton:focus")[0]){b.first().focus()
}else{if(b.last().is(":focus")){b.first().focus()
}else{$(".expandableButtonList:visible a:focus").parent().next().find("a").focus()
}}}}if(c.which==38||(c.shiftKey&&c.which==9)){if($(".expandableButtonList").is(":visible")){c.preventDefault();
if($(".expandableButton:focus")[0]){b.last().focus()
}else{if(b.first().is(":focus")){b.last().focus()
}else{$(".expandableButtonList:visible a:focus").parent().prev().find("a").focus()
}}}}});
$(".selectDropdownNavigationButton").click(function(f){f.stopImmediatePropagation();
var c=$(this).parent().parent().find(".selectDropdownNavigation");
var d=c.children(":selected").attr("value");
var b=c.children(":selected").attr("data-linktarget");
if(b=="_blank"){window.open(d,"_blank")
}else{window.open(d,"_self")
}});
$("select.selectDropdownNavigation").change(function(g){g.stopImmediatePropagation();
var f=this.value;
var c=$(this).parent().parent().find(".selectDropdownNavigation");
var b=c.children(":selected").attr("data-linktarget");
if(f&&!a(f)&&$(this).attr("data-buttonstatus")!="true"){if(b=="_blank"){window.open(f,"_blank")
}else{window.open(f,"_self")
}}if($(this).parents(".channel-selector").length&&$(this).parents(".sign-on-full-width").length){var d=$('<span style="display: none; font-size: '+$(this).css("font-size")+"; font-family: "+$(this).css("font-family")+';">'+$(":checked",this).text()+"</span>");
d.appendTo("body");
$(this).width(d.width()+5);
d.remove()
}});
function a(d){var c=["","-","#","-1"];
var b=0;
while(b<c.length){if(c[b++]==d){return true
}}return false
}})
})();
(function(a){$(function(){a.$(".submit-intelli-response").click(function(){var k=a.innerWidth;
var n=a.innerHeight;
var i="width="+k+",height="+n+",directories=no,hotkeys=no,location=no,menubar=no,personalbar=no,resizable=yes,scrollbars=yes,status=yes,titlebar=no,toolbar=no";
var h=a.$(this).parents(".intelli-box");
var o=h.children(".question");
var c=a.$("html").attr("lang");
var g;
if(document.getElementById("queryurl")){var d=document.getElementById("queryurl").value+"?"
}else{var d="http://cibc.intelliresponse.com/public/"+c+"/index.jsp?"
}var f="interfaceID=8";
var e="id=-1";
var l="requestType=NormalRequest";
var b="source=1";
var j="question="+o.val();
var m=d+l+"&"+f+"&"+e+"&"+b+"&"+j;
if(a.$(this).hasClass("new-window")){g=a.open(m,"intelliResponse",i)
}else{a.location=d
}});
a.$(".question").keyup(function(b){if(b.keyCode==13){a.$(this).siblings(".submit-intelli-response").click()
}})
})
})(window);
(function(){$(function(){var d,g,f,i='<script src="//video.limelight.com/player/embed.js"><\/script>',b='<div id="video-callout-frame" class="reveal-modal" data-reveal aria-hidden="true" role="dialog" data-opacity="0.8"><a  href="javascript:void(0)" class="close-reveal-modal" aria-label="Close" role="button">&#215;</a><div class="reveal-modal-paragraph"><div class="inner-wrapper"><div class="videoWrapper"></div></div></div></div>';
function e(j,m,k,l){if(Modernizr.touch&&(window.outerWidth<=1024)){window.location.href=j
}else{h(m,k,l)
}}function h(l,j,k){k.html('<span class="LimelightEmbeddedPlayer"><object type="application/x-shockwave-flash" id="'+l+'" name="'+l+'" class="LimelightEmbeddedPlayerFlash" width="640" height="411" data="https://assets.delvenetworks.com/player/loader.swf"><param name="movie" value="https://assets.delvenetworks.com/player/loader.swf"/><param name="wmode" value="opaque"/><param name="allowScriptAccess" value="always"/><param name="allowFullScreen" value="true"/><param name="flashVars" value="mediaId='+j+'&autoplay=true&defaultQuality=1200&startQuality=1200"/></object></span>');
LimelightPlayerUtil.initEmbed(l)
}function a(j){j.each(function(){$(this).children("div").first().empty().hide();
$(this).children("img, a").show()
})
}function c(){$(".youtube-embed").find("iframe").each(function(){$(this).attr("src",$(this).attr("src"))
})
}$(".video-callout-cont").each(function(){var j=$(this).children().first();
if(j.is(".video-image, .video-image-inline, .video-link")&&!$("script").filter('[src="//video.limelight.com/player/embed.js"]').length){$("body").append(i)
}if(j.is(".video-image, .youtube-modal, .video-link")&&!$(".reveal-modal").find(".videoWrapper").length){$("body").append(b);
g=$(".reveal-modal").find(".videoWrapper");
f=g.parent().parent().prev(".close-reveal-modal")
}$(this).on("click",".video-image, .video-link",function(){f.attr("aria-label",$(this).data("closeText"));
e($(this).data("mobile-url"),$(this).data("limelightplayer"),$(this).data("linelightmedia"),g)
});
$(this).on("click",".video-image-inline",function(){a($(".video-image-inline").not($(this)));
c();
$(this).children("img, a").hide();
d=$(this).find(".videoWrapper");
d.show();
e($(this).data("mobile-url"),$(this).data("limelightplayer"),$(this).data("linelightmedia"),d);
d.click(function(k){k.stopPropagation()
})
});
$(this).on("click",".youtube-modal",function(){f.attr("aria-label",$(this).data("closeText"));
g.html($(this).data("youtube-embed"));
a($(".video-image-inline"))
})
});
$(document).on("open.fndtn.reveal","#video-callout-frame",function(){var j=$(".video-image-inline");
a(j);
$(".youtube-embed").css("visibility","hidden");
c()
});
$(document).on("close.fndtn.reveal","#video-callout-frame",function(){g.empty();
$(".youtube-embed").css("visibility","visible");
c()
})
})
})();
(function(a){$(function(){var b=$(".nextactioncta").length;
var c=$(".nextactionctaItem").length;
if(b===1){if($(".nextactioncta").closest(".content-columns").length){$("<style>@media (min-width:960px){.nextactioncta .large-2{width: "+100/c+"%}}</style>").appendTo("body");
$(document).foundation("equalizer","reflow")
}}})
})(window);
(function(a){$(".adrotator").each(function(){var c=$(this).find(".adrotator-item");
var b=c[Math.floor(Math.random()*c.length)];
$(b).removeClass("hide")
})
})(window);
(function(){$(function(){$(".layoutcontainer > .page-width > [data-equalizer], .layoutcontainer > .full-bleed[data-equalizer]").each(function(){var a=$(this).find(".nestedequalizer").first().attr("data-equalizer");
var c=$(this);
var b=c.map(function(){if(c.hasClass("full-bleed")){return $(this).children().children().children().children("[data-column]")
}else{return $(this).children().children().children("[data-column]")
}});
$(b[0]).each(function(){var d=$(this).parent();
if($(this).children().length===1){$(this).find(".margins-padding:first").attr("data-equalizer-watch",a);
if($(this).children().hasClass("callout")){$(this).find(".callout-inner",d).attr("data-equalizer-watch",a)
}}});
c.foundation("equalizer","reflow")
});
$(".layoutcontainer > .full-bleed").each(function(){var b=$(this);
var c=b.find(".column > .row > .column");
if(c.length===2){var k=c.first();
var l=k.find(".featurebannercontainer").first();
var j=c.last();
var m=j.find(".sign-on").first();
var h=false;
if(window.location.href.indexOf("commercial-corporate.html")>0){h=true
}if(l.length>0&&(m.length>0||h)){var e=$(".margins-padding",l).first();
var n=e.attr("data-interchange");
var o=e.css("background-color");
var a=b.attr("data-interchange");
var i=e.css("background-size");
var g=e.css("background-position");
var f=e.css("background-repeat");
var d=((n&&n.indexOf("/etc/designs/cibcpublic/clientlibs/assets/images/spacer.png")===-1)||e.css("background-image").indexOf(".svg")!==-1);
if(e.css("background-image")&&e.css("background-image").indexOf(".svg")!==-1){b.css("background-image",e.css("background-image"));
e.css("background-image","")
}if(o&&o!=="none"&&o!=="transparent"&&o!=="rgba(0, 0, 0, 0)"){b.css("background-color",o);
e.css("background-color","transparent")
}if(n&&n!=="none"&&!a){b.attr("data-interchange",n);
e.attr("data-interchange","");
$(b).foundation("interchange","reflow")
}if(d){if(i){b.css("background-size",e[0].style.backgroundSize);
if(!e[0].style.backgroundSize&&i){b.css("background-size",i)
}}if(f){b.css("background-repeat",f)
}if(g){b.css("background-position",g)
}}}}})
})
}());
$(function(){var a={CALLOUT_SELECTOR:".calloutequalizer",LAYOUTCONTAINER_SELECTOR:".nestedequalizer",EQUALIZER_ATTRIBUTE:"data-equalizer",EQUALIZER_WATCH_ATTRIBUTE:"data-equalizer-watch",EQUALIZER_NAME:"equalizer",EQUALIZER_VALUE:"reflow",VIDEO_ICON_SELECTOR:"a.play.icon-play",VIDEO_PARENT_SELECTOR:"data-reveal-id",VIDEO_PARENT_VALUE:"video-callout-frame",VIDEO_ICON_IMG_SIBLING:"img[src]",VIDEO_ICON_BOTTOM_ATTRIBUTE:"bottom",VIDEO_NO_THUMB_BOTTOM_VALUE:"-40px",VIDEO_THUMB_BOTTOM_VALUE:"10px"};
$(a.VIDEO_ICON_SELECTOR).each(function(){var b=$(this).parent().attr(a.VIDEO_PARENT_SELECTOR);
if(b==a.VIDEO_PARENT_VALUE){if($(this).siblings(a.VIDEO_ICON_IMG_SIBLING).length>0){$(this).css(a.VIDEO_ICON_BOTTOM_ATTRIBUTE,a.VIDEO_THUMB_BOTTOM_VALUE)
}else{$(this).css(a.VIDEO_ICON_BOTTOM_ATTRIBUTE,a.VIDEO_NO_THUMB_BOTTOM_VALUE)
}}})
});
(function(){$(function(){function a(){$(".callout-inner").each(function(){var c=$(this).find(".multi-cta:not('.stack')").children();
if(c.length===2){var e=c.first().outerWidth();
var b=c.last().outerWidth();
var d=35;
if(c.last().find(".button").length>0){d=20
}if((e+b+d)>c.parent().width()){c.addClass("button-wrap")
}else{c.removeClass("button-wrap")
}}})
}a();
$(window).on("resize",function(){a()
})
})
})();
(function(){$(function(){function a(b){if(b.parents().is("[data-equalizer-watch]")||b.find("*").is("[data-equalizer-watch]")){$(document).foundation("equalizer","reflow")
}}$(document).ready(function(){$("ul[data-show-more-link]").each(function(){var f=$(this).data("showMoreLink"),e=$(this).data("showLessLink"),g=$(this).data("showhideitems"),c=$(this).children("li"),b=$(this).find("li").eq(0-g);
if(g&&g<c.length){b.addClass("showhide");
b.nextAll("li").addClass("showhide");
var d=$(this).find("li.showhide");
d.hide();
d.attr("aria-expanded","false");
d.attr("aria-hidden","true");
$(this).after(f);
$(this).next().after(e);
var h=$(this).nextAll(".show-less-link");
if(h.hasClass("left-link")||h.hasClass("right-link")){h.find(".icon-arrow-up").first().hide()
}else{h.find(".icon-arrow-up").last().hide()
}}});
$(".show-more-link, .show-less-link").click(function(){var b;
if($(this).hasClass("show-more-link")){var d=$(this).next(".show-less-link");
if($(this).parents("div").hasClass("list-collection")){b=$(this).prev("ul").find("li.showhide")
}else{b=$(this).prev(".show-more-container");
d=$(this).next(".show-less-link")
}b.slideDown({complete:function(){a(b)
}});
d.show()
}else{var c=$(this).prev(".show-more-link");
if($(this).prev("a").parents("div").hasClass("list-collection")){b=c.prev("ul").find("li.showhide")
}else{b=$(this).prevAll(".show-more-container")
}b.slideUp({complete:function(){a(b)
}});
c.show()
}if(b.attr("aria-expanded")=="false"&&b.attr("aria-hidden")=="true"){b.attr("aria-expanded","true");
b.attr("aria-hidden","false")
}else{b.attr("aria-expanded","false");
b.attr("aria-hidden","true")
}$(this).hide()
})
})
})
})();
(function(){$(function(){function b(){var h=$(".image-positioning .container-img"),B=h.length;
if(B){var e,w,d,i,t,j,k,l,r,v,y,c,p,z,C,n,q,x,o,g,u,m,f,A;
h.each(function(J){e=$(this);
w=e.parents().not(".img-link, .cmp, .image-positioning, .image").first();
d=e.find("img");
i=e.parent(".image-positioning");
t=e.parents(".cmp-image, .image");
j=d.prop("src");
k=d.width();
r=w.width();
y=a(w.css("padding-top"));
c=a(w.css("padding-right"));
p=a(w.css("padding-bottom"));
z=a(w.css("padding-left"));
C=a(i.css("padding-top"));
n=a(i.css("padding-right"));
q=a(i.css("padding-bottom"));
x=a(i.css("padding-left"));
o=a(i.css("margin-top"));
g=a(i.css("margin-right"));
u=a(i.css("margin-bottom"));
m=a(i.css("margin-left"));
window.innerWidth>767?f=false:f=true;
w.hasClass("banner-image")?A=true:A=false;
function H(){l=d.height();
v=w.height()
}H();
function F(){if(e.hasClass("abs-top")){e.css("top",0-y-C-o)
}}function P(){if(e.hasClass("abs-bottom")){if(C>0){e.css("bottom",!(A&&f)?l-v-p+C+o:0)
}else{e.css("bottom",!(A&&f)?l-v-p-q+C+o:0)
}}}function L(){if(e.hasClass("abs-right")){e.css("right",0-c-n);
i.css("text-align","right")
}}function I(){if(e.hasClass("abs-left")){e.css("left",0-z-x);
i.css("text-align","left")
}}function N(){if(e.hasClass("abs-middle")){e.css("top",((v-l)/2)-o-C)
}}function O(){if(e.hasClass("rel-bottom")){var Q=i.parent().height()-p-y-o-u;
i.css({position:!f&&A?"absolute":"",top:!(f&&A)?"":0,height:!(f&&A)?Q:""});
w.css({position:"relative",height:!f&&A?(v+p+y):""});
e.css({"margin-top":i.height()-y-o-e.height()})
}}function E(){if(e.hasClass("rel-right")){i.css("text-align","right")
}}function D(){if(e.hasClass("rel-left")){i.css("text-align","left")
}}function M(){if(e.hasClass("middle")){i.css({"text-align":"center",width:(r-x-n)})
}}if(e.is(":visible")&&!e.hasClass("img-positioned")){if(e.hasClass("img-cover")||e.hasClass("img-contain")||e.hasClass("img-snapheight")||e.hasClass("img-snapwidth")){e.css("background-image",'url("'+j+'")');
d.css("visibility","hidden").attr("aria-hidden",false);
var G=v+p+y,K=r+c+z;
if(e.hasClass("rel-bottom")&&e.hasClass("img-contain")&&k>=l){G=v-p-q
}if(e.hasClass("rel-top")&&e.hasClass("img-contain")&&k>=l){e.css("margin-top",C+y)
}e.css({"margin-bottom":0,height:G,width:K,left:0-z-x-m,top:0-y-C-o});
i.css({height:G,width:K});
t.css({height:G,width:K})
}else{e.css({"background-image":""});
d.css("visibility","");
H();
P();
O();
F();
L();
I();
N();
E();
D();
M()
}}if(e.is(":visible")){e.addClass("img-positioned")
}})
}}function a(c){return parseInt(c.replace(/[^\d\.]/g,""))
}$(window).on("load",function(){b();
$(".image-positioning > .container-img:hidden").each(function(c){if($(this).is(".img-cover, .img-contain, .img-snapheight, .img-snapwidth, .abs-top, .abs-bottom, .abs-right, .abs-left, .abs-middle, .rel-bottom, .rel-right, .rel-left, .middle")){var d=$(this).parents(':visible, [style*="display: none"], .show-more-container').first()[0];
d.setAttribute("data-show",true)
}});
$("[data-show]").each(function(){var d=$(this);
var c=new MutationObserver(function(g,h){g.forEach(function(i){if(i.attributeName==="style"){if(i.oldValue.indexOf("display")>-1){b()
}}else{b()
}if(d.find("container-img").is(":visible")){i.target.removeAttribute("data-show");
h.disconnect()
}})
});
var f={attributes:true,attributeOldValue:true,attributeFilter:["style","class"],childList:false,characterData:false,subtree:false};
var e=$(this)[0];
c.observe(e,f)
})
});
$(window).on("resize",function(){$(".img-positioned").each(function(){$(this).removeClass("img-positioned")
});
b()
})
})
})();
(function(){$(function(){var a=767,b=window.innerWidth||document.documentElement.clientWidth;
$(".accordion-navigation > a").click(function(h){h.preventDefault();
var g=$(this),d=g.parent();
g.find(".accordionArrow").toggleClass("icon-arrow-down icon-arrow-up");
if(d.attr("aria-selected")=="true"){d.attr({"aria-selected":"false","aria-expanded":"false"})
}else{d.attr({"aria-selected":"true","aria-expanded":"true"})
}if(d.find(".content").css("display")=="none"){d.parent().find(".content").slideUp(300).end().find(".accordionTitle").removeClass("active").end().find(".accordionArrow").removeClass("icon-arrow-up").addClass("icon-arrow-down").end().find("li").attr({"aria-selected":"false","aria-expanded":"false"});
g.addClass("active").find(".accordionArrow").removeClass("icon-arrow-down").addClass("icon-arrow-up");
d.attr({"aria-selected":"true","aria-expanded":"true"}).find(".content").slideDown(350,function(){var e=g.offset().top-50;
$("body,html").animate({scrollTop:e})
})
}else{d.find(".content").slideUp(350,function(){var e=g.offset().top-50;
$("body,html").animate({scrollTop:e})
}).end().find(".accordionTitle").removeClass("active")
}var c=g.closest("ul");
if(c.data("options")=="deep_linking:true"){var f=g.attr("href");
if(b>a&&f!="#"){$("body").animate({scrollTop:$(f).offset().top-c.outerHeight()-75},400);
window.location.hash=f
}}});
$(".accordionContainer.tabaccordion").each(function(){var e=$(this);
if(e.find("ul.accordion").data("options")=="deep_linking:true"){if(b<a){e.find("a.accordionTitle").on("click touchstart",function(g){var f=e.attr("href");
if(f!="#"){window.location.hash=f
}})
}var d=window.location.hash,c;
if(window.location.hash&&$('a.accordionTitle[href="'+d+'"]').length){c=$('a.accordionTitle[href="'+d+'"]');
c.trigger("click")
}}})
})
})();
(function(){$(function(){var a=767,b=window.innerWidth||document.documentElement.clientWidth;
var c=-1;
function e(g){var i=$(g),f=i.find("a.tabs-anchor, button.tabs-anchor").data("target"),h=i.closest(".tabsContainer").find("div.content");
h.hide().eq(f).show(0,function(){if(h.eq(f).find("[data-equalizer]")){h.foundation("equalizer","reflow")
}});
if(b>a||i.parent().hasClass("js-tile-tabs")){i.parent().children().removeClass("current").find("a.tabs-anchor, button.tabs-anchor").attr({"aria-expanded":"false","aria-selected":"false"});
i.addClass("current").find("a.tabs-anchor, button.tabs-anchor").attr({"aria-expanded":"true","aria-selected":"true"})
}else{var j=i.closest(".tabsContainer").find("ul.accordion li.accordion-navigation");
j.attr({"aria-expanded":"false","aria-selected":"false"}).find("a.accordionTitle.active").removeClass("active").find("span.accordionArrow").removeClass("icon-arrow-up").addClass("icon-arrow-down");
j.eq(f).attr({"aria-expanded":"true","aria-selected":"true"}).find("a.accordionTitle").addClass("active").find("span.accordionArrow").removeClass("icon-arrow-down").addClass("icon-arrow-up")
}if(i.parent().hasClass("js-tile-tabs")){i.closest(".tabsContainer").find(".return-to-top").removeClass("hide")
}}$(".tabsNavigator li").on("click",function(h){e(this);
var f=$(this).parent("ul.tabsNavigator");
if(f.data("options")=="deep_linking:true"){var g=$(this).find("a.tabs-anchor, button.tabs-anchor").attr("href");
if(b>a&&g!="#"){$("body").animate({scrollTop:$("[href="+g+"]").offset().top-f.outerHeight()-75},400);
window.location.hash=g
}}return false
});
$(".tabsContainer").each(function(){var g=this.querySelector("ul.tabsNavigator li");
if($(this).find("ul.tabsNavigator").data("options")=="deep_linking:true"){$(document).foundation({tab:{deep_linking:true}});
if(b<a){$(this).find("a.accordionTitle").on("click touchstart",function(j){var i=$(this).attr("href");
if(i!="#"){window.location.hash=i
}})
}var h=window.location.hash,f;
if(window.location.hash&&$('a.tabs-anchor[href="'+h+'"]').length){if(b>a){f=$('a.tabs-anchor[href="'+h+'"]')
}else{f=$('a.accordionTitle[href="'+h+'"]')
}if(!$(this).is(".tabs-closed")){f.trigger("click")
}}else{if(!$(this).is(".tabs-closed")){e(g)
}}}else{if(!$(this).is(".tabs-closed")){e(g)
}}if($(this).find(".tile-tabs").length>0){d(this)
}});
function d(h){var i=window.innerWidth||document.documentElement.clientWidth;
var j=$(h).find(".tile-tabs .spacer").first().css("padding-bottom");
var f=$(h).find(".tile-alignment-wrapper").outerHeight()+parseInt(j);
var g=$(h).find(".tile-tabs-content");
if(i>a){g.css("top","-"+Math.floor(f/2)+"px");
g.children(".content").css("padding-top",Math.floor(f/2)+"px")
}else{if(parseInt(g.css("top"))<0){g.css("top",0)
}g.children(".content").css("padding-top",0)
}}if($(".tabsContainer.tile-tabs-container").length>0){$(window).on("resize orientationchange",function(f){clearTimeout(c);
c=setTimeout(function(){$(".tabsContainer.tile-tabs-container").each(function(){d(this)
})
},100)
})
}})
})();
(function(a){$(a).on("load resize",function(){var c=$(a).width(),e=(c>=960),b=(c<960&&c>767),d=(c<=767);
$(".longformtext table").each(function(){var h=0,g=$(this);
$(g).find("td, th").each(function(i){if($(this).text().trim()!==""){h===0?$(this).attr("tabindex","0"):$(this).attr("tabindex","-1");
h+=1
}});
if(!g.find("colgroup")[0]){var f=$("<colgroup />");
g.find("tr:first").children().each(function(j){var k=$(this).attr("colspan");
if(k){var i=$("<col>",{span:k});
f.append(i)
}else{f.append("<col />")
}});
g.prepend(f)
}});
$('.longformtext:not(.cq-Editable-dom) table:not([class*="sticky-col"]), .p-c-v:not(.cq-Editable-dom) table:not([class*="sticky-col"])').each(function(){if(!$(this).parents(".table-wrap")[0]){$(this).wrap('<div class="table-wrap"></div>')
}});
$('.longformtext:not(.cq-Editable-dom) table[class*="sticky-col-"], .longformtext:not(.cq-Editable-dom) table[class*="sticky-row-"]').each(function(){var i=this.classList.contains("sticky-col-desktop"),k=this.classList.contains("sticky-col-tablet"),f=this.classList.contains("sticky-col-mobile"),h=this.classList.contains("sticky-row-desktop"),j=this.classList.contains("sticky-row-tablet"),g=this.classList.contains("sticky-row-mobile");
if((e&&i)||(b&&k)||(d&&f)||(e&&h)||(b&&j)||(d&&g)){$(this).addClass("responsive");
$(this).find("td, th").each(function(){$(this).css("height",$(this).outerHeight(true)-1)
})
}})
})
})(window);
$(document).ready(function(){var b=false;
var g=$(window).width(),k=(g>=960),l=(g<960&&g>767),f=(g<=767),c=0;
if(l){c=60
}if(f){c=50
}if(k&&$(".subnav-desktop.sticky-nav")[0]){c=108
}var e=function(){if(!b){b=true;
$(".longformtext:not(.cq-Editable-dom) table.responsive").each(function(r,q){var p=this.classList.contains("sticky-col-desktop"),u=this.classList.contains("sticky-col-tablet"),m=this.classList.contains("sticky-col-mobile"),o=this.classList.contains("sticky-row-desktop"),t=this.classList.contains("sticky-row-tablet"),n=this.classList.contains("sticky-row-mobile");
if((k&&p)||(l&&u)||(f&&m)){h($(q));
if((k&&o)||(l&&t)||(f&&n)){i($(q))
}}else{if((k&&o)||(l&&t)||(f&&n)){a($(q))
}}});
$('.longformtext table[class*="hide-col-"] tr > *:first-child[rowspan], .longformtext table[class*="sticky-col-"] tr > *:first-child[rowspan]').each(function(){var m=parseInt($(this).attr("rowspan"));
if($(this).parent().parent().parent().parent("div").is(":not(.stuck)")){$(this).parent("tr").nextAll().andSelf().slice(1,m).find("*:first-child").css("display","table-cell")
}else{$(this).parent("tr").nextAll().andSelf().slice(1,m).find("*:first-child").css("display","none")
}});
return true
}else{if(b){b=false;
$('.longformtext:not(.cq-Editable-dom) .table-wrapper table[class*="sticky-col-"]').each(function(n,m){d($(m))
})
}}};
$(window).load(e);
$(window).on("redraw",function(){b=false;
e()
});
$(window).on("resize",e);
function h(o){var m,r;
var q=o.clone();
if(!o.parents(".table-wrapper")[0]){o.wrap("<div class='table-wrapper'/>")
}r=o.closest(".table-wrapper");
q.find("td:not(:first-child), th:not(:first-child)").css("display","none");
q.removeClass("responsive");
q.attr("aria-hidden","true");
if(!o.closest(".table-wrapper").find(".scrollable")[0]){r.append(q);
q.wrap("<div class='stuck' aria-hidden='true' />");
o.wrap("<div class='scrollable' />")
}o.attr("aria-hidden","false").attr("role","grid");
$(".longformtext .stuck table td, .longformtext  .stuck table th").each(function(){$(this).removeAttr("tabindex").removeAttr("id")
});
var n=q.parent().outerWidth(true)-2;
o.find("th:first-child, td:first-child").css("width",n).blur(function(){q.find("th, td").css("outline","")
}).focus(function(){var u=$(this).parent("tr")[0].rowIndex,t=this.cellIndex;
q.find("tr").eq(u).find("td,th").eq(t).css({outline:"-webkit-focus-ring-color auto 5px"})
});
j(o,q);
m=o.find("caption").outerHeight(true);
o.css("margin-top",m);
var p=o.outerWidth(true)-r.outerWidth(true)-n;
if(f){p=(o.outerWidth(true)-r.outerWidth(true)+n)/2
}if(m>0){o.find("caption").css({"margin-top":0-m,width:o.outerWidth(true),"padding-right":p,position:"absolute"})
}}function a(m){if(!m.parents(".table-wrapper")[0]){m.wrap("<div class='table-wrapper'/>")
}var n=m.clone(),p=m.closest(".table-wrapper"),o;
n.find("tr:not(:first)").css("display","none");
n.removeClass("responsive").attr("aria-hidden","true").css({left:"",height:""});
if(!m.closest(".table-wrapper").find(".scrollable")[0]){p.append(n);
m.wrap("<div class='scrollable' />")
}if(!p.find(".stuck-row")[0]){p.append(n);
n.wrap("<div class='stuck-row' aria-hidden='true' />")
}o=n.closest(".stuck-row");
n.css("width",m.width());
o.css("max-width",p.outerWidth(true));
n.find("td:visible, th:visible").each(function(){$(this).removeAttr("tabindex").removeAttr("id");
var q=this.cellIndex;
$(this).css("width",m.find("td,th").eq(q).outerWidth(true))
});
n.css("left",m.position().left);
j(m,n);
p.find(".scrollable").scroll(function(){var q=m.position().left;
n.css("left",q)
});
p.find(".stuck").scroll(function(){var q=p.find(".stuck table").position().left;
sticky_intersect.css("left",q)
});
$(window).scroll(function(){var t=$(window).scrollTop()+c,r=p.offset().top,q=r+p.outerHeight();
if(t>=r&&t<=q){o.css("position","fixed");
if(k&&$(".subnav-desktop.sticky-nav")[0]){o.css("top",c)
}}else{o.css("position","").css("top","")
}})
}function i(o){var p=o.clone(),n=o.clone(),r=o.closest(".table-wrapper"),m,q;
p.find("tr:not(:first)").css("display","none");
p.removeClass("responsive").attr("aria-hidden","true").css({left:"",height:""});
n.find("tr:not(:first), th:not(:first-child), td:not(:first-child)").css("display","none");
n.removeClass("responsive").attr("aria-hidden","true").css({left:"",height:""});
if(!r.find(".stuck-row")[0]){r.append(p);
r.append(n);
p.wrap("<div class='stuck-row' aria-hidden='true' />")
}q=p.closest(".stuck-row");
if(!r.find(".stuck-intersect")[0]){n.wrap("<div class='stuck-intersect' aria-hidden='true' />")
}m=n.closest(".stuck-intersect");
p.css("width",o.width());
q.css("max-width",r.outerWidth(true));
p.find("td:visible, th:visible").each(function(){$(this).removeAttr("tabindex").removeAttr("id");
var t=this.cellIndex;
$(this).css("width",o.find("td,th").eq(t).outerWidth(true))
});
p.find("td, th").first().empty();
n.find("td, th").first().removeAttr("tabindex").removeAttr("id").css("width",o.find("td, th").outerWidth(true));
m.css("max-width",r.find(".stuck").outerWidth(true));
n.find("caption").remove();
p.css("left",o.position().left);
j(o,p);
j(o,n);
r.find(".scrollable").scroll(function(){var t=o.position().left;
p.css("left",t)
});
r.find(".stuck").scroll(function(){var t=r.find(".stuck table").position().left;
n.css("left",t)
});
$(window).scroll(function(){var v=$(window).scrollTop()+c,u=r.offset().top,t=u+r.outerHeight();
if(v>=u&&v<=t){q.css("position","fixed");
m.css("position","fixed");
if(k&&$(".subnav-desktop.sticky-nav")[0]){q.css("top",c);
m.css("top",c)
}}else{q.css("position","").css("top","");
m.css("position","").css("top","")
}})
}function d(m){m.parent().nextAll(".stuck").remove();
m.parent().nextAll(".stuck-row").remove();
m.parent().nextAll(".stuck-intersect").remove();
if(m.closest(".longformtext:not(.cq-Editable-dom) .table-wrapper")[0]){m.unwrap();
m.removeAttr("style");
m.find("td,th,caption").removeAttr("style")
}}function j(n,q){var p=n.find("tr"),m=q.find("tr"),o=[];
p.each(function(u){var t=$(this),r=t.find("th, td");
r.each(function(w){var v=$(this).css("height");
o[w]=o[w]||0;
v=v-1;
if(v>=o[w]){o[w]=v
}})
});
m.each(function(r){$(this).css("height",o[r])
})
}$(".longformtext th, .longformtext td").on("focus",function(){$(this).attr("tabindex",0)
}).on("blur",function(){$(this).attr("tabindex",-1)
}).on("keydown",function(u){var n=$(".longformtext th:focus, .longformtext td:focus"),p=n[0].cellIndex,m="[tabindex]:eq("+p+")",r=n.parent(),t=r[0].rowIndex,q=n.parents("table:first");
switch(u.which||u.keyCode){case 39:u.preventDefault();
n.next().focus();
break;
case 37:u.preventDefault();
n.prev().focus();
break;
case 38:u.preventDefault();
r.prevAll("tr:has("+m+"):first").find(m).focus();
if(q.find("thead")&&t===1){q.find("thead").find("tr:has("+m+"):first").find(m).focus()
}break;
case 40:u.preventDefault();
r.nextAll("tr:has("+m+"):first").find(m).focus();
if(r.parent("thead")[0]){q.find("tbody").find("tr:has("+m+"):first").find(m).focus()
}break;
case 36:if(u.ctrlKey){u.preventDefault();
q.find("[tabindex]:first").focus()
}else{u.preventDefault();
r.find("[tabindex]:first").focus()
}break;
case 35:if(u.ctrlKey){u.preventDefault();
q.find("[tabindex]:last").focus()
}else{u.preventDefault();
r.find("[tabindex]:last").focus()
}break;
case 33:u.preventDefault();
var o=t-4;
if(t-4<0){o=0
}q.find("tr:has([tabindex])").slice(o,t).first().find("[tabindex]:first").focus();
break;
case 34:u.preventDefault();
q.find("tr:has([tabindex])").slice(t,t+5).last().find("[tabindex]:first").focus();
break
}})
});
(function(){var c=$(".cookie-notification:not('.edit')");
if(c.length>0){var a=$(".notice-content-cta button",c);
var d=$(".mobile-nav-toggle");
var h="cookies_notification";
var g=c.data("notice-config").split("|");
var f=g[0];
var i=g[1];
var b=Cookies.get(h);
$(document).ready(function(){if(e()){c.removeClass("hidden");
c.attr("aria-hidden",false);
c.insertBefore($(".main-content-wrapper"));
c.focus();
a.on("click",function(){c.fadeOut("hidden");
c.attr("aria-hidden",true);
j();
if(d.is(":visible")){d.focus()
}else{$("body").attr("tabindex",-1).focus();
$("body").attr("tabindex",null)
}})
}});
function e(){if(b===undefined||b!==f){return true
}else{return false
}}function j(){Cookies.set(h,f,{expires:parseInt(i)})
}}})();
(function(){$(function(){function a(){var c=$(".image-positioning .container-img"),e=c.length;
if(e){var d,f;
c.each(function(h){d=$(this);
function j(){return f=d.closest(".parbase")
}function i(k){var l=j();
if(l!=""&&l.hasClass("callout")){l.find(".callout-inner").css("overflow","unset");
l.find(".callout-inner").find(".columns").css("overflow","unset")
}if(l!=""&&l.hasClass("productctavertical")){d.closest(".products-compare-list").css("overflow","unset");
d.closest(".p-c-v").css("overflow","unset");
d.closest(".p-c-v").css("margin-bottom",(k));
d.closest(".product-desc").css("padding-top",0)
}}function g(){var k=j();
if(d.hasClass("top-alignment-position25")){negativeMargin=-(Number(d.closest(".top-alignment-position25").height())*0.25);
d.closest(".top-alignment-position25").css("top",negativeMargin);
d.closest(".top-alignment-position25").css("margin-bottom",negativeMargin);
if(k!=""){k.css("padding-top",-negativeMargin);
i(-negativeMargin)
}}else{if(d.hasClass("top-alignment-position50")){negativeMargin=-(Number(d.closest(".top-alignment-position50").height())*0.5);
d.closest(".top-alignment-position50").css("top",negativeMargin);
d.closest(".top-alignment-position50").css("margin-bottom",negativeMargin);
if(k!=""){k.css("padding-top",-negativeMargin);
i(-negativeMargin)
}}else{if(d.hasClass("top-alignment-position75")){negativeMargin=-(Number(d.closest(".top-alignment-position75").height())*0.75);
d.closest(".top-alignment-position75").css("top",negativeMargin);
d.closest(".top-alignment-position75").css("margin-bottom",negativeMargin);
if(k!=""){k.css("padding-top",-negativeMargin);
i(-negativeMargin)
}}else{if(d.hasClass("bottom-alignment-position25")){negativeMargin=(Number(d.closest(".bottom-alignment-position25").height())*0.25);
d.closest(".bottom-alignment-position25").css("top",negativeMargin);
if(k!=""){k.css("margin-bottom",negativeMargin);
i(negativeMargin)
}}else{if(d.hasClass("bottom-alignment-position50")){negativeMargin=(Number(d.closest(".bottom-alignment-position50").height())*0.5);
d.closest(".bottom-alignment-position50").css("top",negativeMargin);
if(k!=""){k.css("margin-bottom",negativeMargin);
i(negativeMargin)
}}else{if(d.hasClass("bottom-alignment-position75")){negativeMargin=(Number(d.closest(".bottom-alignment-position75").height())*0.75);
d.closest(".bottom-alignment-position75").css("top",negativeMargin);
if(k!=""){k.css("margin-bottom",negativeMargin);
i(negativeMargin)
}}}}}}}}g()
})
}}function b(){var c=$(".layoutcontainer"),e=c.length;
if(e){var d,f;
c.each(function(h){d=$(this);
function i(){return f=d.parent().closest(".parbase")
}function g(){var j=i();
if(d.children().hasClass("top-alignment-position25")){negativeMargin=-(Number(d.children(".top-alignment-position25").height())*0.25);
d.children(".top-alignment-position25").css("top",negativeMargin);
d.children(".top-alignment-position25").css("margin-bottom",negativeMargin);
if(j!=""){j.css("padding-top",-negativeMargin)
}}else{if(d.children().hasClass("top-alignment-position50")){negativeMargin=-(Number(d.children(".top-alignment-position50").height())*0.5);
d.children(".top-alignment-position50").css("top",negativeMargin);
d.children(".top-alignment-position50").css("margin-bottom",negativeMargin);
if(j!=""){j.css("padding-top",-negativeMargin)
}}else{if(d.children().hasClass("top-alignment-position75")){negativeMargin=-(Number(d.children(".top-alignment-position75").height())*0.75);
d.children(".top-alignment-position75").css("top",negativeMargin);
d.children(".top-alignment-position75").css("margin-bottom",negativeMargin);
if(j!=""){j.css("padding-top",-negativeMargin)
}}else{if(d.children().hasClass("bottom-alignment-position25")){negativeMargin=(Number(d.children(".bottom-alignment-position25").height())*0.25);
d.children(".bottom-alignment-position25").css("top",negativeMargin);
if(j!=""){j.css("margin-bottom",negativeMargin)
}}else{if(d.children().hasClass("bottom-alignment-position50")){negativeMargin=(Number(d.children(".bottom-alignment-position50").height())*0.5);
d.children(".bottom-alignment-position50").css("top",negativeMargin);
if(j!=""){j.css("margin-bottom",negativeMargin)
}}else{if(d.children().hasClass("bottom-alignment-position75")){negativeMargin=(Number(d.children(".bottom-alignment-position75").height())*0.75);
d.children(".bottom-alignment-position75").css("top",negativeMargin);
if(j!=""){j.css("margin-bottom",negativeMargin)
}}}}}}}}g()
})
}}$(window).on("load",function(){a();
b()
})
})
})();
(function(){$(function(){$(".tabsContainer ul.tabsNavigator li").click(function(b){a($(this).find("a.tabs-anchor").contents().get(0).nodeValue)
});
$(".accordionContainer ul.accordion li.accordion-navigation").click(function(b){a($(this).find("a.accordionTitle").contents().get(0).nodeValue)
});
function a(b){window.digitalData.interaction=window.digitalData.interaction||{};
window.digitalData.events.pageView=false;
window.digitalData.events.siteInteraction=true;
window.digitalData.interaction.name="tabs:"+b;
if(typeof _satellite!=="undefined"){_satellite.track("track")
}}})
})(window);
(function(c){var d=$(".raba-form");
var e=c.patternValidate;
var b=d.find("form");
var f=b.attr("action");
function m(o,q){if(q==null){q=""
}o=o.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");
var p=new RegExp("[\\?&]"+o+"=([^&#]*)");
var n=p.exec(c.location.href);
if(n==null){return q
}else{return n[1]
}}function i(){var n=m("raccc");
if(n.length>0){$("#contact-form #FormDescription",d).val(n)
}}function k(n){$("#contact-form #"+n,d).show();
d.data("isValid",false)
}function h(){$("#contact-form .error",d).hide();
d.data("isValid",true)
}function l(n){$("#contact-form #"+n,d).hide()
}function j(){$("#contact-form #postalCodeSet",d).css({display:"block"})
}function g(){$("#contact-form #postalCodeSet",d).css({display:"none"})
}function a(){var p=(window.location.href.indexOf("/fr/")>-1)?"-fr":"";
var n=$(b).serializeObject();
var o=n.form.collectedData.confirmPage;
$.ajax({url:f,async:true,cache:false,type:"POST",dataType:"json",data:JSON.stringify(n,null," "),headers:{accept:"application/vnd.api+json",brand:"cibc","content-type":"application/vnd.api+json"},success:function(){window.location="https://www.cibc.com/ca/"+o
},error:function(){window.location="https://www.cibc.com/ca/apply/afp-error"+p+".html"
}})
}$(function(){d.each(function(n,o){$("#contact-form",o).submit(function(p){h();
if($(".cibc-raba",o).length){if($("#contact-form #Field1",o).val()==""){k("Field1-err1")
}else{if(!e($("#contact-form #Field1",o).val(),"alphabetic2")){k("Field1-err2")
}}if($("#contact-form #Field2",o).val()==""){k("Field2-err1")
}else{if(!e($("#contact-form #Field2",o).val(),"alphabetic2")){k("Field2-err2")
}}if($("#contact-form #emailField",o).length){if($("#contact-form #Field11",o).val()==""){k("Field11-err1")
}if($("#contact-form #Field11",o).val()!=""&&!e($("#contact-form #Field11",o).val(),"email")){k("Field11-err2")
}}if(!$("#contact-form #postalCodeSet",o).length||$("#contact-form #postalCodeSet",d).is(":visible")){if($("#contact-form #Field8",o).val()==""){k("Field8-err1")
}else{if(!e($("#contact-form #Field8",o).val(),"postalCode")){k("Field8-err2")
}}}else{$("#contact-form #Field8",o).val("")
}if($("#contact-form #Field3",o).val()==""){k("Field3-err2")
}else{if(!e($("#contact-form #Field3",o).val(),"phoneNumberFull")){k("Field3-err1")
}}if($("#contact-form #Field4",o).val()=="Ext"){$("#contact-form #Field4",o).val()==""
}else{if(!e($("#contact-form #Field4",o).val(),"wholeNumber")){k("Field4-err1");
$("#contact-form #Field4",o).val()==""
}}if($("#contact-form #Field5",o).val()=="Alternate Phone"){$("#contact-form #Field5",o).val()==""
}else{if(!e($("#contact-form #Field5",o).val(),"phoneNumberFull")){k("Field5-err1")
}}if($("#contact-form #Field6",o).val()=="Ext"){$("#contact-form #Field6",o).val()==""
}else{if(!e($("#contact-form #Field6",o).val(),"wholeNumber")){k("Field6-err1");
$("#contact-form #Field6",o).val()==""
}}if($("#contact-form #Field7 option:selected",o).val()=="0"){k("Field7-err1")
}i();
if($(o).data("isValid")){var q={PageDataMgr:{data:{cmlPrimaryAreaCode:$("#contact-form #Field8",o).val(),cmlBestTimetoCall:$("#contact-form #Field7",o).val()}}};
if(f.indexOf("ebm-forms")>=0){p.preventDefault();
a()
}}else{p.preventDefault();
p.stopPropagation()
}}else{if($("#contact-form #Field1",o).val()==""){k("Field1-err1")
}else{if(!e($("#contact-form #Field1",o).val(),"alphabetic2")){k("Field1-err2")
}else{if(!e($("#contact-form #Field1",o).val(),"alphanumeric")){k("Field1-err2")
}}}if($("#contact-form #Field2",o).val()==""){k("Field2-err1")
}else{if(!e($("#contact-form #Field2",o).val(),"alphabetic2")){k("Field2-err2")
}else{if(!e($("#contact-form #Field2",o).val(),"alphanumeric")){k("Field2-err2")
}}}if($("#contact-form #Field3 option:selected",o).val()=="0"){k("Field3-err1")
}if($("#contact-form #Field4Value",o).prop("checked")){$("#contact-form #Field4",o).val($("#contact-form #Field4Checked",o).text())
}else{$("#contact-form #Field4",o).val($("#contact-form #Field4Unchecked",o).text())
}if($("#contact-form #Field5 option:selected",o).val()=="0"){k("Field5-err1")
}if(!$("#contact-form #postalCodeSet",o).length||$("#contact-form #postalCodeSet",d).is(":visible")){if($("#contact-form #Field6",o).val()==""){k("Field6-err1")
}else{if(!e($("#contact-form #Field6",o).val(),"postalCode")){k("Field6-err2")
}}}else{($("#contact-form #Field6",o).val()="")
}var r="";
$("#contact-form #WealthCheckbox",o).each(function(t,u){if($(u).prop("checked")){r+=$(u).val()+", "
}});
r=r.substring(0,r.length-2);
$("#contact-form #Field7",o).val(r);
if($("#contact-form #Field7",o).val()==""){k("Field7-err1")
}if(!$("#contact-form .Field8:checked",o).length){k("Field8-err1")
}else{if($("#contact-form #Field8Opt1:checked",o).length){if($("#contact-form #Field9",o).val()==""){k("Field9-err1")
}else{if(!e($("#contact-form #Field9",o).val(),"phoneNumberFull")){k("Field9-err2")
}}if($("#contact-form #Field10 option:selected",o).val()=="0"){k("Field10-err1")
}}if($("#contact-form #Field8Opt2:checked",o).length){if($("#contact-form #Field11",o).val()==""){k("Field11-err1")
}else{if(!e($("#contact-form #Field11",o).val(),"email")){k("Field11-err2")
}}if($("#contact-form #ConfirmEmail",o).val()==""){k("ConfirmEmail-err1")
}else{if($("#contact-form #Field11",o).val()!=$("#contact-form #ConfirmEmail",o).val()){k("ConfirmEmail-err2")
}}}if($("#contact-form #Field8Opt1:checked",o).length&&$("#contact-form #Field11",o).val()!=""||$("#contact-form #Field8Opt2:checked",o).length&&$("#contact-form #Field9",o).val()!=""){if(!e($("#contact-form #Field9",o).val(),"phoneNumberFull")){k("Field9-err2")
}if($("#contact-form #Field10 option:selected",o).val()=="0"){k("Field10-err1")
}if(!e($("#contact-form #Field11",o).val(),"email")){k("Field11-err2")
}if($("#contact-form #ConfirmEmail",o).val()==""){k("ConfirmEmail-err1")
}else{if($("#contact-form #Field11",o).val()!=$("#contact-form #ConfirmEmail",o).val()){k("ConfirmEmail-err2")
}}}}if(!$("#contact-form #OptInCheckbox",o).prop("checked")){k("OptInCheckbox-err1")
}i();
if(!$(o).data("isValid")){p.preventDefault();
p.stopPropagation()
}else{if(f.indexOf("ebm-forms")>=0){p.preventDefault();
a()
}}}})
})
})
})(window);
var macPrintingInstructions='To print this page, hold down the "command" and "P" keys together.';
var macPrintingInstructionsFr='Pour imprimer cette page, tenez les touches "Commande" et "P" enfoncées en même temps.';
function secureCheck(){if(location.host.indexOf("cibc.com")!=-1&&location.host!="www.cibc.com"){location.href=location.href.replace("cibc.com","www.cibc.com")
}if(location.host=="www.cibc.com"&&location.protocol!="https:"){location.href="https:"+location.href.replace(location.protocol,"")
}}var validationPatterns=new Array();
validationPatterns.dangerousChars=/>|<|\&|#|\\|\[|\]|}|{|%|www\.|http:|https:|ftp|javascript|function|return|\&lt;|\&amp;|\&gt;|\&quot;$/gi;
validationPatterns.genericText=/^[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåæçèéêëìíîïñòóôõöùúûüýÿ,:\'"\-=_!@# \+\*\?\.\[\]\^\$\(\)\{\}\|\\\&]*[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ]+[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåæçèéêëìíîïñòóôõöùúûüýÿ,:\'"\-=_!@# \+\*\?\.\[\]\^\$\(\)\{\}\|\\\&]*$/;
validationPatterns.multiLineGenricText=/[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåæçèéêëìíîïñòóôõöùúûüýÿ,:\'"\-=_!@# \+\*\?\.\[\]\^\$\(\)\{\}\|\\\&]*[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ]+[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåæçèéêëìíîïñòóôõöùúûüýÿ,:\'"\-=_!@# \+\*\?\.\[\]\^\$\(\)\{\}\|\\\&]*/;
validationPatterns.multiLineGenericText=/^[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ«»æÆ¢£¥œŒƒP,:\'"-=_!@# \+\*\?\.\[\]\^\$\(\)\{\}\|\\\&\f\n\r]*[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ«»æÆ¢£¥œŒƒP]+[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ«»æÆ¢£¥œŒƒP,:\'"-=_!@# \+\*\?\.\[\]\^\$\(\)\{\}\|\\\&\f\n\r]*$/;
validationPatterns["2DigitWholeNumber"]=/^[0-9]{2}$/;
validationPatterns["3DigitWholeNumber"]=/^[0-9]{3}$/;
validationPatterns["4DigitWholeNumber"]=/^[0-9]{4}$/;
validationPatterns["5DigitWholeNumber"]=/^[0-9]{5}$/;
validationPatterns.alphabetic=/^([A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ]+[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ\' \-,]*)$/;
validationPatterns.alphabetic2=/^([A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ#]+[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ\' #\-\/.,]*)$/;
validationPatterns.alphabetic3=/^([A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ]+[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ\'" \-,]*)$/;
validationPatterns.alphabetic4=/^([A-Za-zÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ]+[A-Za-zÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ\' \-,]*)$/;
validationPatterns.alphanumeric=/^([A-Za-zÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ]+[A-Za-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöùúûüýÿ\' \-]*)$/;
validationPatterns.alphanumericStrict=/^[A-Za-zÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝàáâãäåæçèéêëìíîïñòóôõöùúûüýÿ0-9]+$/;
validationPatterns.bankAccount=/^((([0-9]{2}[- ])?[0-9]{5})|([0-9]{3}[- ]?[0-9]{3}[- ]?[0-9]))$/;
validationPatterns.bankAccount1=/^([0-9]?[0-9]?[0-9]?[0-9]?[0-9]?[0-9]?[0-9]?[0-9]?[0-9]?[0-9]?)$/;
validationPatterns.CCNumber=/^[0-9]{4}[ ]?[0-9]{4}[ ]?[0-9]{4}[ ]?[0-9]{4}$/;
validationPatterns.currency=/^((([0-9]{1,3}([, ]?[ ]?[0-9]{3})*)|([0-9]*))([.][0-9]{1,2})?)$/;
validationPatterns.currency2=/^((([0-9]{1,3}([, ]?[ ]?[0-9]{3}){0,2})|([0-9]{0,9}))([.][0-9]{1,2})?)$/;
validationPatterns["currency-fr"]=/^((([0-9]{1,3}([ ]?[ ]?[0-9]{3})*)|([0-9]*))([,.][0-9]{1,2})?)$/;
validationPatterns["currency2-fr"]=/^((([0-9]{1,3}([ ]?[ ]?[0-9]{3}){0,2})|([0-9]{0,9}))([,.][0-9]{1,2})?)$/;
validationPatterns.dateDay=/^(([3][01])|([12][0-9])|([0]?[1-9]))$/;
validationPatterns.dateYear=/^(((19)|(20))[0-9]{2})$/;
validationPatterns.decimalNumber=/^(([0-9]+)|([0-9]*[.][0-9]+))$/;
validationPatterns.email=/^[a-zA-Z0-9!#\$%\&'\*\+\-\/=\?\^_`\{\|\}~]+([.][a-zA-Z0-9!#\$%\&'\*\+\-\/=\?\^_`\{\|\}~]+)*[@]([a-zA-Z0-9]+([\.\-][a-zA-Z0-9]+)*(\.[a-zA-Z]{2,})|(((([01]?[0-9]{0,2})|(2(([0-4][0-9])|(5[0-5]))))\.){3}(([01]?[0-9]{0,2})|(2(([0-4][0-9])|(5[0-5]))))))$/;
validationPatterns.cibcEmail=/^[a-zA-Z0-9!#\$%\&'\*\+\-\/=\?\^_`\{\|\}~]+([.][a-zA-Z0-9!#\$%\&'\*\+\-\/=\?\^_`\{\|\}~]+)*[@][Cc][Ii][Bb][Cc][\.][Cc](([aA])|([oO][mM]))$/;
validationPatterns.expDateMonth=/^[01][0-9]$/;
validationPatterns.percentage=/^[01]?[0-9]{1,2}$/;
validationPatterns.phoneNumber=/^[0-9]{3}[ \-\.]?[0-9]{4}$/;
validationPatterns.phoneNumberFull=/^((([\(][0-9]{3}[\)][ ]?)|([0-9]{3}[ \-\.]?))[0-9]{3}[ \-\.]?[0-9]{4})$/;
validationPatterns.foreignPhoneNumber=/^[0-9\-\.]+$/;
validationPatterns.postalCode=/^[A-Za-z][0-9][A-Za-z][ ]?[0-9][A-Za-z][0-9]$/;
validationPatterns.spacedWholeNumber=/^[0-9 ]+$/;
validationPatterns.SINumber=/^[0-9]{3}[ ]?[0-9]{3}[ ]?[0-9]{3}$/;
validationPatterns.wholeNumber=/^[0-9]+$/;
validationPatterns.agentID=/^[a-zA-Z]{2}[0-9]{4}/;
function patternValidate(a,b){if(a.length==0||validationPatterns[b].test(a)){return true
}else{return false
}}function patternValidate_match(b,a){try{return b.match(validationPatterns[a]).length
}catch(c){return false
}}function trim(a){while(a.charAt(0)==" "||a.charAt(0)=="\n"||a.charAt(0)=="\r"||a.charAt(0)=="	"){a=a.substring(1,a.length)
}while(a.charAt(a.length-1)==" "||a.charAt(a.length-1)=="\n"||a.charAt(a.length-1)=="\r"||a.charAt(a.length-1)=="	"){a=a.substring(0,a.length-1)
}return a
}function checkAccountNum(b){var a="";
var e="";
var d=0;
a=b.substring(b.length-1,b.length);
e=b.substring(0,b.length-1);
for(var c=1;
c<=e.length;
c++){temp=e.substring(e.length-c,e.length-c+1);
temp=temp*(c+1);
d=d+temp
}remainder=d%11;
if(remainder==0){remainder=0
}else{if(remainder==1){return false
}else{remainder=11-remainder
}}valid=(remainder==a);
return valid
}function checkCardNum(d){var g;
var f=new Array(16);
var j=0;
var e;
for(g=0;
g<d.length;
g++){f[g]=Math.floor(d.substring(g,g+1))
}for(g=(d.length%2);
g<d.length;
g+=2){var m=f[g]*2;
if(m>=10){var h=m.toString();
var l=h.substring(0,1);
var k=h.substring(1,2);
f[g]=Math.floor(l)+Math.floor(k)
}else{f[g]=m
}}for(g=0;
g<d.length;
g++){j+=Math.floor(f[g])
}e=((j%10)==0);
return e
}function checkModTen(d){var d=replaceAll(d," ","");
var b=0;
for(var a=0;
a<d.length;
a++){var c=(1+(1*(a%2)))*parseInt(d.charAt(a));
if(c>=10){c=(c-10)+1
}b=b+c
}if(b%10==0){return true
}else{return false
}}function replaceAll(b,a,c){while(b.indexOf(a)!=-1){b=b.replace(a,c)
}return b
}function checkDate(a){testDate=new Date();
today=new Date();
theYear=a.substr(0,4);
theMonth=a.substr(4,2);
theDay=a.substr(6,2);
testDate.setDate(theDay);
testDate.setMonth(theMonth-1);
testDate.setFullYear(theYear);
if(theMonth<1||theMonth>12){return false
}else{if(theDay<1||theDay>31){return false
}else{if(testDate>today){return false
}else{return true
}}}}function illegalCharReplace(a){a=a.replace(/</g,"(less than)");
a=a.replace(/>/g,"(greater than)");
a=a.replace(/\\/g,"/");
a=a.replace(/%/g,"(percent)");
a=a.replace(/\{/g,"(");
a=a.replace(/\}/g,")");
a=a.replace(/\[/g,"(");
a=a.replace(/\]/g,")");
a=a.replace(/http:/gi,"h++p:");
a=a.replace(/https:/gi,"h++ps:");
a=a.replace(/www./gi,"w+w.");
a=a.replace(/javascript/gi,"java script");
a=a.replace(/function/gi,"func+ion");
a=a.replace(/return/gi,"re+urn");
a=a.replace(/\"/g,"'");
a=a.replace(/\“/g,"'");
a=a.replace(/\”/g,"'");
a=a.replace(/&lt;/g,"(less than)");
a=a.replace(/&gt;/g,"(greater than)");
a=a.replace(/&quot;/g,"'");
a=a.replace(/&#60;/g,"(less than)");
a=a.replace(/&#62;/g,"(greater than)");
a=a.replace(/&#92;/g,"/");
a=a.replace(/&#37;/g,"(percent)");
a=a.replace(/&#123;/g,"(");
a=a.replace(/&#125;/g,")");
a=a.replace(/&#91;/g,"(");
a=a.replace(/&#93;/g,")");
a=a.replace(/&#104;&#116;&#116;&#112;&#58;/gi,"h++p:");
a=a.replace(/&#104;&#116;&#116;&#112;&#115;&#58;/gi,"h++ps:");
a=a.replace(/&#106;&#97;&#118;&#97;&#115;&#99;&#114;&#105;&#112;&#116;/gi,"java script");
a=a.replace(/&#102;&#117;&#110;&#99;&#116;&#105;&#111;&#110;/gi,"func+ion");
a=a.replace(/&#114;&#101;&#116;&#117;&#114;&#110;/gi,"re+urn");
a=a.replace(/&#39;/g,"'");
return a
}function illegalCharReplace_FR(a){a=a.replace(/</g,"(moins que)");
a=a.replace(/>/g,"(plus que)");
a=a.replace(/\\/g,"/");
a=a.replace(/%/g,"(pourcentage)");
a=a.replace(/\{/g,"(");
a=a.replace(/\}/g,")");
a=a.replace(/\[/g,"(");
a=a.replace(/\]/g,")");
a=a.replace(/http:/gi,"h++p:");
a=a.replace(/https:/gi,"h++ps:");
a=a.replace(/www./gi,"w+w.");
a=a.replace(/javascript/gi,"java script");
a=a.replace(/function/gi,"func+ion");
a=a.replace(/return/gi,"re+urn");
a=a.replace(/\"/g,"'");
a=a.replace(/\“/g,"'");
a=a.replace(/\”/g,"'");
a=a.replace(/&lt;/g,"(moins que)");
a=a.replace(/&gt;/g,"(plus que)");
a=a.replace(/&quot;/g,"'");
a=a.replace(/&#60;/g,"(moins que)");
a=a.replace(/&#62;/g,"(plus que)");
a=a.replace(/&#92;/g,"/");
a=a.replace(/&#37;/g,"(pourcentage)");
a=a.replace(/&#123;/g,"(");
a=a.replace(/&#125;/g,")");
a=a.replace(/&#91;/g,"(");
a=a.replace(/&#93;/g,")");
a=a.replace(/&#104;&#116;&#116;&#112;&#58;/gi,"h++p:");
a=a.replace(/&#104;&#116;&#116;&#112;&#115;&#58;/gi,"h++ps:");
a=a.replace(/&#106;&#97;&#118;&#97;&#115;&#99;&#114;&#105;&#112;&#116;/gi,"java script");
a=a.replace(/&#102;&#117;&#110;&#99;&#116;&#105;&#111;&#110;/gi,"func+ion");
a=a.replace(/&#114;&#101;&#116;&#117;&#114;&#110;/gi,"re+urn");
a=a.replace(/&#39;/g,"'");
return a
}function checkCurrency(a){if(patternValidate(a,"currency2")){return"English"
}else{if(patternValidate(a,"currency2-fr")&&(document.location.pathname.indexOf("-fr.html")!=-1)){return"French"
}else{return false
}}}function formatCurrency(b){if(checkCurrency(b)=="English"){b=replaceAll(replaceAll(replaceAll(b," ",""),",",""),"$","")
}else{if(checkCurrency(b)=="French"){b=replaceAll(replaceAll(replaceAll(b," ",""),",","."),"$","")
}}if(b.length>0){if(b.indexOf(".")!=-1){var a=b.split(".");
if(a[1].length>2){a[1]=a[1].substr(0,2)
}else{while(a[1].length<2){a[1]+="0"
}}b=a[0]+"."+a[1]
}else{b=b+".00"
}}return b
}function formatCurrencyWholeNumber(c){if(c.length>3){var e=c.length;
var d=c;
var a="";
var b;
while(d.length>3){b=d.length-3;
a=","+d.substr(b)+a;
d=d.substr(0,b)
}if(d.toString()!=""){a=d+a
}}else{a=c
}return a
}function formatCurrencyFr(b){if(checkCurrency(b)=="English"){b=replaceAll(replaceAll(replaceAll(b," ",""),",",""),"$","")
}else{if(checkCurrency(b)=="French"){b=replaceAll(replaceAll(replaceAll(b," ",""),",","."),"$","")
}}if(b.length>0){if(b.indexOf(".")!=-1){var a=b.split(".");
if(a[1].length>2){a[1]=a[1].substr(0,2)
}else{while(a[1].length<2){a[1]+="0"
}}b=a[0]+","+a[1]
}else{b=b+",00"
}}return b
}function formatCurrencyFrWholeNumber(c){if(c.length>3){var e=c.length;
var d=c;
var a="";
var b;
while(d.length>3){b=d.length-3;
a=" "+d.substr(b)+a;
d=d.substr(0,b)
}if(d.toString()!=""){a=d+a
}}else{a=c
}return a
}function removeCurrencyFormatting(b){if(checkCurrency(b)=="English"){b=replaceAll(replaceAll(replaceAll(b," ",""),",",""),"$","")
}else{if(checkCurrency(b)=="French"){b=replaceAll(replaceAll(replaceAll(b," ",""),",","."),"$","")
}else{return b
}}if(b.length>0){if(b.indexOf(".")!=-1){var a=b.split(".");
if(a[1].length>2){a[1]=a[1].substr(0,2)
}else{while(a[1].length<2){a[1]+="0"
}}b=a[0]+"."+a[1]
}else{b=b+".00"
}}return b
}(function(){$.fn.serializeObject=function(){function b(h,g){var i=h.filter(function(j){return j.name===g
});
return i&&i.length>0?i[0]:""
}String.prototype.toCamel=function(){return this.charAt(0).toLowerCase()+this.substr(1)
};
function a(g,h){return(g.order-h.order)
}var f={};
var e={};
var d=this.serializeArray();
$.each(d,function(){if(!this.name.match(/Field\d{1,2}Label/gi)){if(this.name.match(/Field\d{1,2}/gi)){e.fields=e.fields||[];
var g=b(d,this.name+"Label").value;
if(g){e.fields.push({label:g,value:b(d,this.name).value,name:this.name,order:this.name.substring(5)})
}}else{if(e[this.name]!==undefined){if(!e[this.name].push){e[this.name]=[e[this.name]]
}e[this.name].push(this.value||"")
}else{if(f[this.name]!=undefined){if(!((this.name).match(/AcctNum$/gi)&&(this.value)=="")){this.name=f[this.name]
}}this.name=(this.name).toCamel();
e[this.name]=this.value||""
}}}});
e={form:{prodId:e.prodCode,collectedData:e}};
var c=e.form.collectedData.fields;
c.sort(a);
return e
}
})();
$(function(){$(document).on("click",function(c){if($(c.target).closest(".flyover").length==0){$(".flyover").fadeOut("fast");
$("#signOnContainer").attr("aria-hidden","true")
}});
var a=$(".sign-on-full-width").closest(".full-bleed");
if(a.length>0){var b=$(".sign-on-full-width").css("background-color");
a.css("background-color",b)
}$(".sign-on-modal-flyover").each(function(){var c=this;
var g=$(".mobile",c).find("button, a");
var e=$(".desktop",c).find("select, button, a, input");
var f=e.first().add(g.first());
var d=e.last().add(g.last());
d.on("keydown",function(h){if((h.which===9&&!h.shiftKey)){$(".flyover").fadeOut("fast");
$(c).attr("aria-hidden","true")
}});
f.on("keydown",function(h){if((h.which===9&&h.shiftKey)){$(".flyover").fadeOut("fast");
$(c).attr("aria-hidden","true")
}})
});
$(".sign-on-full-width .channel-selector select").each(function(){var c=$('<span style="display: none; font-size: '+$(this).css("font-size")+"; font-family: "+$(this).css("font-family")+';">'+$(":checked",this).text()+"</span>");
c.appendTo("body");
$(".sign-on-full-width .channel-selector select").width(c.width()+5);
c.remove()
});
$(".delete-card-modal").each(function(){var d=$(this).find("select, input, textarea, button, a");
var c=d.first();
var e=d.last();
e.on("keydown",function(f){if((f.which===9&&!f.shiftKey)){f.preventDefault();
c.focus()
}});
c.on("keydown",function(f){if((f.which===9&&f.shiftKey)){f.preventDefault();
e.focus()
}})
})
});
var languagePath=$("html").attr("languagePath");
var signon_json_url=languagePath+"/jcr:content/rdsjsonfile.signon-data.json";
(function(a,b){if(b){a.$.ajax({url:b.url,cache:false,dataType:"json",success:function(c){if(b.delegate&&b.delegate.success){if(b.delegate.success(c)!==false){if(c.version&&c[c.version]){if(b.factory[c.version]){b.factory[c.version](c[c.version],a,b)
}}}}else{if(c.version&&c[c.version]){if(b.factory[c.version]){b.factory[c.version](c[c.version],a,b)
}}}},error:function(c){if(b.delegate&&b.delegate.error){b.delegate.error(c,a,b)
}},complete:function(){if(b.delegate&&b.delegate.complete){b.delegate.complete(a,b)
}}})
}})(window,{url:signon_json_url,factory:{"22.0":function(d,b,e){var a=null,c=null;
a={timeout:null,singleton:null,indexed:false,olburl:d.resources.olburl,parameters:{cardindex:-1,cardnum:null,password:null,remember:false,ingressurl:d.resources.ingressurl},begin:function(){var f=this;
try{this.timeout=b.setTimeout(function(){f.onError("Signon API Timeout")
},d.loadTimeout);
b.document.domain=d.domain;
$.ajax({url:d.resources.status,cache:false,dataType:"html",success:function(h){f.onLoad()
},error:function(){f.onError("AJAX Request Failed.")
}})
}catch(g){this.onError(g)
}},onError:function(f){c.onError(f)
},onInit:function(f){f&&f.status&&b.clearTimeout(this.timeout)
},onReady:function(f){c.begin(f)
},onLoad:function(g){var f=this;
$(function(){$(".sign-on").each(function(j,h){if(!f.singleton){f.singleton=$('<iframe id="loginEmbedFrame"></iframe>').attr("src",d.handlers[$(h).attr("data-handler")]+(d.handlers[$(h).attr("data-handler")].indexOf("?")>-1?"&":"?")+"locale="+$(h).attr("data-locale")).appendTo($(".iframe-container",this))
}});
$(window).on("message",function(m){if((m.origin||m.originalEvent.origin)!==a.olburl){return
}var h=m.data||m.originalEvent.data;
var l=typeof h!=="object"?JSON.parse(h):h;
var j=document.getElementById("loginEmbedFrame")&&document.getElementById("loginEmbedFrame").contentWindow;
switch(l.method){case"get":j&&j.postMessage(JSON.stringify({key:"bankCards",method:l.method}),a.olburl);
break;
case"post":var k=typeof l.data==="string"?JSON.parse(l.data)["bank-cards"]:(l.data&&typeof l.data=="object"?l.data["bank-cards"]:0);
if(k&&k.length>0){k.sort(function(o,n){return o.lastSignOn-n.lastSignOn
});
var i=k.reverse().map(function(n){return $("<option/>").attr({value:n.value}).text(n.description.length>0?n.description+" ("+n.maskedCardNumber+")":n.maskedCardNumber)
});
a.onReady({$cards:$("<select/>").append(i)})
}else{a.onReady({$cards:[]})
}break;
case"ui:ready":a.onInit(l.data);
j&&j.postMessage(JSON.stringify({key:"bankCards",method:"get"}),a.olburl);
break
}})
})
}};
c={timeout:null,binded:false,begin:function(g){var f=this;
$(".sign-on",b.document).each(function(k,h){var l=g&&g.$cards||[];
var j=$(this).parents().hasClass("sign-on-content");
if(l.length&&l.find("option").length){a.indexed=true;
$(".saved-cards select",this).empty().append(l.find("option").clone());
$(".card-number",this).hide();
$(".saved-cards",this).show();
$(".remember-card",this).hide();
$(".use-new-card a",this).on("click",function(i){i.preventDefault();
a.indexed=false;
if(j){var m=$(this).parent().parent().siblings(".card-number");
$(this).parent().parent().hide();
m.show();
$(m.children(".use-saved-card")[0]).show();
$(m.children(".remember-card")[0]).show();
$("input[type=text]",m).focus()
}else{$(this).parent().hide();
$(this).parent().siblings(".saved-cards").hide();
$(this).parent().siblings(".card-number").show();
$(this).parent().siblings(".delete-saved-card").hide();
$(this).parent().siblings(".use-saved-card").show();
$(this).parent().siblings(".remember-card").show();
$("input[type=text]",$(this).parent().siblings(".card-number")).focus()
}}).parent().show();
$(".delete-saved-card a",this).parent().show();
$(".use-saved-card a",this).on("click",function(i){i.preventDefault();
a.indexed=true;
if(j){$(this).parent().hide();
$(this).parent().parent().hide();
$(this).parent().parent().siblings(".saved-cards").show();
$(this).parent().siblings(".remember-card").hide();
$("select",$(this).parent().parent().siblings(".saved-cards")).focus()
}else{$(this).parent().hide();
$(this).parent().siblings(".card-number").find("input").val("");
$(this).parent().siblings(".remember-card").find("input").prop("checked",false);
$(this).parent().siblings(".card-number").hide();
$(this).parent().siblings(".saved-cards").show();
$(this).parent().siblings(".delete-saved-card").show();
$(this).parent().siblings(".use-new-card").show();
$(this).parent().siblings(".remember-card").hide();
$("select",$(this).parent().siblings(".saved-cards")).focus()
}}).parent().hide()
}else{a.indexed=false;
$(".saved-cards",this).hide();
$(".card-number",this).show();
$(".remember-card",this).show();
$(".use-saved-card").hide();
$(".use-new-card").hide();
$(".delete-saved-card").hide()
}if(!c.binded){$("form.sign-on-form",this).on("submit",function(i){return false
});
$("form.sign-on-form button.primary").on("click",function(i){f.onSignOn_Handler(this,i)
});
$("form.sign-on-form a.secondary, form.sign-on-form a.open-stroked-white").on("click",function(i){i.preventDefault();
f.onRegistration_Handler(this,i);
return false
});
$("form.sign-on-form .password input",this).on("keydown",function(i){if(i.which==13){i.preventDefault();
i.stopPropagation();
f.onSignOn_Handler(this,i)
}});
$("form.sign-on-form .card-number input",this).on("keydown",function(i){if(i.which==13){i.preventDefault();
i.stopPropagation()
}});
$("form.sign-on-form .saved-cards select",this).on("change",function(m){var i=a.singleton.contents().find("#signOnForm select#savedCardNumber");
if(i.length){i.prop("selectedIndex",this.selectedIndex)
}});
$(".forgot-password a",this).on("click",function(i){i.preventDefault();
f.onForgotPassword_Handler(this,i);
return false
});
$(".delete-saved-card a",this).on("click",function(i){i.preventDefault();
f.onDeleteCard_Handler(this,i);
return false
})
}});
c.binded=true
},onError:function(f){b.$(".sign-on form").hide();
b.$(".sign-on .warning").show()
},onSignOn_Handler:function(g,i){i.preventDefault();
var f=this;
var h=document.getElementById("loginEmbedFrame")&&document.getElementById("loginEmbedFrame").contentWindow;
if(f.timeout==null){$(g).closest(".sign-on-form").addClass("active");
f.timeout=b.setTimeout(function(){f.timeout=null;
$(g).closest(".sign-on-form").removeClass("active")
},d.loginTimeout);
a.parameters={};
if(a.indexed){a.parameters.cardindex=$(".saved-cards select",b.$(g).closest(".sign-on-form")).val();
a.parameters.cardnum=a.parameters.cardindex;
a.parameters.encrypted=true;
a.parameters.remember=false
}else{a.parameters.cardindex=-1;
a.parameters.cardnum=$(".card-number input",b.$(g).closest(".sign-on-form")).val();
a.parameters.cardslen=$(".saved-cards select",b.$(g).closest(".sign-on-form")).find("option").length;
a.parameters.remember=($(".remember-card input",b.$(g).closest(".sign-on-form"))[0].checked?true:false)
}a.parameters.password=$(".password input",b.$(g).closest(".sign-on-form")).val();
a.parameters.encrypt=a.parameters.remember;
h&&h.postMessage(JSON.stringify({method:"ui:login",data:a.parameters}),a.olburl)
}},onRegistration_Handler:function(f,h){var g=document.getElementById("loginEmbedFrame")&&document.getElementById("loginEmbedFrame").contentWindow;
a.parameters.cardindex=-1;
a.parameters.cardnum=$(".card-number input",b.$(f).closest(".sign-on-form")).val();
g&&g.postMessage(JSON.stringify({method:"ui:register",data:a.parameters}),a.olburl)
},onForgotPassword_Handler:function(f,h){var g=document.getElementById("loginEmbedFrame")&&document.getElementById("loginEmbedFrame").contentWindow;
if(a.indexed){a.parameters.cardindex=$(".saved-cards select",b.$(f).closest(".sign-on-form")).val()
}else{a.parameters.cardindex=-1;
a.parameters.cardnum=$(".card-number input",b.$(f).closest(".sign-on-form")).val()
}g&&g.postMessage(JSON.stringify({method:"ui:password",data:a.parameters}),a.olburl)
},onDeleteCard_Handler:function(g,j){var i=$(g).closest(".sign-on").find(".delete-card-modal").foundation("reveal","open"),f=$(".saved-cards select",b.$(g).closest(".sign-on-form")).val(),h=document.getElementById("loginEmbedFrame")&&document.getElementById("loginEmbedFrame").contentWindow;
i.on("opened.fndtn.reveal",function(){i.focus()
});
$("span.delete-card-number",i).text($(".saved-cards select option:selected",b.$(g).closest(".sign-on-form")).text());
$(".cancel-button a",i).on("click",function(k){k.preventDefault();
i.foundation("reveal","close");
i.on("closed.fndtn.reveal",function(){$(".saved-cards select",b.$(g).closest(".sign-on-form")).focus()
})
});
$(".delete-button a",i).on("click",function(k){k.preventDefault();
h&&h.postMessage(JSON.stringify({key:"bankCards",method:"remove",data:{value:f}}),a.olburl);
i.foundation("reveal","close");
i.on("closed.fndtn.reveal",function(){$(".saved-cards select",b.$(g).closest(".sign-on-form")).focus()
})
});
$(document).one("close.fndtn.reveal","[data-reveal]",function(){$(".cancel-button a",i).off();
$(".delete-button a",i).off()
})
}};
$(function(){a.begin();
$("a.flyover-link, .cibc-acc-links a.skip-to-signon").on("click",function(g){var f=this.getAttribute("data-target");
$("#"+f).fadeIn("fast");
$("#"+f).attr("aria-hidden","false");
return false
})
})
},"21.0":function(d,b,e){var a=null,c=null;
a={timeout:null,singleton:null,indexed:false,parameters:{cardindex:-1,cardnum:null,password:null,remember:false,inline:true,ingressurl:d.resources.ingressurl},begin:function(){var f=this;
try{b.document.domain=d.domain;
$.ajax({url:d.resources.status,cache:false,dataType:"html",success:function(h){f.onLoad()
},error:function(){f.onError("AJAX Request Failed.")
}})
}catch(g){this.onError(g)
}},bindFrames:function(){var f=this;
try{$(".sign-on").each(function(j,h){if(!f.singleton){f.singleton=$('<iframe id="loginEmbedFrame"></iframe>').attr("src",d.handlers[$(h).attr("data-handler")]+(d.handlers[$(h).attr("data-handler")].indexOf("?")>-1?"&":"?")+"random="+Math.random()+"&locale="+$(h).attr("data-locale")).appendTo($(".iframe-container",this)).on("load",function(i){if(!window.frames.loginEmbedFrame.document){window.frames.loginEmbedFrame.document=(f.singleton[0].contentDocument||(f.singleton[0].contentWindow?f.singleton[0].contentWindow.document:null))
}})
}})
}catch(g){f.onError(g)
}},bindScripts:function(){var g=b.document.createElement("script");
g.src=d.resources.olbtxn;
g.defer=false;
var f=document.getElementsByTagName("head")[0]||document.documentElement;
f.insertBefore(g,f.firstChild)
},onError:function(f){c.onError(f)
},onReady:function(){b.clearTimeout(this.timeout);
c.begin()
},onLoad:function(){b.signOnReadyCallback=function(){a.onReady()
};
this.bindScripts();
var f=this;
$(function(){f.bindFrames()
})
}};
c={timeout:null,begin:function(){var f=this;
$(".sign-on",b.document).each(function(j,g){var k=$(a.singleton).contents().find("select#savedCardNumber");
var h=$(this).parents().hasClass("sign-on-content");
if(k.length&&k.find("option").length){a.indexed=true;
$(".saved-cards select",this).empty().append(k.find("option").clone());
$(".card-number",this).hide();
$(".saved-cards",this).show();
$(".remember-card",this).hide();
$(".use-new-card a",this).on("click",function(i){i.preventDefault();
a.indexed=false;
if(h){var l=$(this).parent().parent().siblings(".card-number");
$(this).parent().parent().hide();
l.show();
$(l.children(".use-saved-card")[0]).show();
$(l.children(".remember-card")[0]).show();
$("input[type=text]",l).focus()
}else{$(this).parent().hide();
$(this).parent().siblings(".saved-cards").hide();
$(this).parent().siblings(".card-number").show();
$(this).parent().siblings(".delete-saved-card").hide();
$(this).parent().siblings(".use-saved-card").show();
$(this).parent().siblings(".remember-card").show();
$("input[type=text]",$(this).parent().siblings(".card-number")).focus()
}}).parent().show();
$(".delete-saved-card a",this).on("click",function(i){f.onDeleteCard_Handler(this,i)
}).parent().show();
$(".use-saved-card a",this).on("click",function(i){i.preventDefault();
a.indexed=true;
if(h){$(this).parent().hide();
$(this).parent().parent().hide();
$(this).parent().parent().siblings(".saved-cards").show();
$(this).parent().siblings(".remember-card").hide();
$("select",$(this).parent().parent().siblings(".saved-cards")).focus()
}else{$(this).parent().hide();
$(this).parent().siblings(".card-number").hide();
$(this).parent().siblings(".saved-cards").show();
$(this).parent().siblings(".delete-saved-card").show();
$(this).parent().siblings(".use-new-card").show();
$(this).parent().siblings(".remember-card").hide();
$("select",$(this).parent().siblings(".saved-cards")).focus()
}}).parent().hide()
}else{a.indexed=false;
$(".saved-cards",this).hide();
$(".card-number",this).show();
$(".remember-card",this).show();
$(".use-saved-card").hide();
$(".use-new-card").hide();
$(".delete-saved-card").hide()
}$("form.sign-on-form",this).on("submit",function(i){return false
});
$("form.sign-on-form button.primary").on("click",function(i){f.onSignOn_Handler(this,i)
});
$("form.sign-on-form a.secondary, form.sign-on-form a.open-stroked-white").on("click",function(i){i.preventDefault();
f.onRegistration_Handler(this,i);
return false
});
$("form.sign-on-form .password input",this).on("keydown",function(i){if(i.which==13){i.preventDefault();
i.stopPropagation();
f.onSignOn_Handler(this,i)
}});
$("form.sign-on-form .card-number input",this).on("keydown",function(i){if(i.which==13){i.preventDefault();
i.stopPropagation()
}});
$("form.sign-on-form .saved-cards select",this).on("change",function(l){var i=a.singleton.contents().find("#signOnForm select#savedCardNumber");
if(i.length){i.prop("selectedIndex",this.selectedIndex)
}});
$(".forgot-password a",this).on("click",function(i){i.preventDefault();
f.onForgotPassword_Handler(this,i);
return false
});
$(".delete-saved-card a",this).on("click",function(i){i.preventDefault();
f.onDeleteCard_Handler(this,i);
return false
})
})
},onError:function(f){b.$(".sign-on form").hide();
b.$(".sign-on .warning").show()
},onSignOn_Handler:function(g,h){var f=this;
if(f.timeout==null){$(g).closest(".sign-on-form").addClass("active");
f.timeout=b.setTimeout(function(){f.timeout=null;
$(g).closest(".sign-on-form").removeClass("active")
},d.loginTimeout);
if(a.indexed){a.parameters.cardindex=$(".saved-cards select",b.$(g).closest(".sign-on-form")).val()
}else{a.parameters.cardindex=-1;
a.parameters.cardnum=$(".card-number input",b.$(g).closest(".sign-on-form")).val()
}a.parameters.password=$(".password input",b.$(g).closest(".sign-on-form")).val();
a.parameters.remember=($(".remember-card input",b.$(g).closest(".sign-on-form"))[0].checked?true:false);
$olbtxn.auth.login(a.parameters)
}},onRegistration_Handler:function(f,g){a.parameters.cardindex=-1;
a.parameters.cardnum=$(".card-number input",b.$(f).closest(".sign-on-form")).val();
$olbtxn.auth.registration(a.parameters)
},onForgotPassword_Handler:function(f,g){if(a.indexed){a.parameters.cardindex=$(".saved-cards select",b.$(f).closest(".sign-on-form")).val()
}else{a.parameters.cardindex=-1;
a.parameters.cardnum=$(".card-number input",b.$(f).closest(".sign-on-form")).val()
}$olbtxn.auth.forgotPassword(a.parameters)
},onDeleteCard_Handler:function(f,h){var g=$(f).closest(".sign-on").find(".delete-card-modal").foundation("reveal","open");
g.on("opened.fndtn.reveal",function(){g.focus()
});
$("span.delete-card-number",g).text($(".saved-cards select option:selected",b.$(f).closest(".sign-on-form")).text());
$(".cancel-button a",g).on("click",function(i){i.preventDefault();
g.foundation("reveal","close");
g.on("closed.fndtn.reveal",function(){$(".saved-cards select",b.$(f).closest(".sign-on-form")).focus()
})
});
$(".delete-button a",g).on("click",function(i){i.preventDefault();
$olbtxn.auth.deleteCard($(".saved-cards select",b.$(f).closest(".sign-on-form")).val());
g.foundation("reveal","close");
g.on("closed.fndtn.reveal",function(){$(".saved-cards select",b.$(f).closest(".sign-on-form")).focus()
})
})
}};
$(function(){if(b.$(".sign-on").length&&($("body").hasClass("home")||/contact-us.html/.test(window.location.href))){a.begin()
}$("a.flyover-link, .cibc-acc-links a.skip-to-signon").on("click",function(g){a.begin();
var f=this.getAttribute("data-target");
$("#"+f).fadeIn("fast");
$("#"+f).attr("aria-hidden","false");
return false
})
})
}}});
(function(){if(!window.services){window.services={}
}var d=$(".js-promote-url-search-result-page").text();
var c=location.pathname.replace(".html","");
var e=$(".js-searchlayouttype").text();
if(e=="cibcwithfacets"){a()
}if(window.location.href.indexOf("qt=")===-1&&d.indexOf(c)>=0){$(".promote.service .exception.hidden").show()
}function a(){if($(".facets.service").css("display")=="block"){$(".promote.service").addClass("large-push-4");
$(".promote.service").removeClass("large-push-2")
}else{$(".promote.service").addClass("large-push-2");
$(".promote.service").removeClass("large-push-4")
}}var f=$(".js-promote-url-search:first").text();
var b=$(".js-promote-url-searchauto:first").text();
if(f.trim()==""){if($("html").attr("lang")=="en"){f="//sp10056b76.guided.ss-omtrdc.net/"
}else{if($("html").attr("lang")=="fr"){f="//sp1004f955.guided.ss-omtrdc.net/"
}}}if(b.trim()==""){if($("html").attr("lang")=="en"){b="//content.atomz.com/autocomplete/sp10/05/6b/76/"
}else{if($("html").attr("lang")=="fr"){b="//content.atomz.com/autocomplete/sp10/04/f9/55/"
}}}$("#mobile-header form.search-wrapper button.close-icon").on("click",function(){$("#mobile-header #searchInputPick").remove();
$(".nav-primary").removeClass("search-focus")
});
if(!window.services.search){window.services.search={ingress:f,peek:b,term:"",page:1,facet:"",maxtime:3500,maxresults:10,query:function(i,j){this.term=i;
var h=this;
var m=setTimeout(function(){for(var n in h.queue.timeout){h.queue.timeout[n]()
}},h.maxtime);
var k={q:i,i:0,page:this.page};
if(this.facet.length){k.q1=this.facet;
k.x1="language"
}$.ajax({url:this.ingress,data:k,dataType:"json",always:function(){clearTimeout(m);
for(var n in h.queue.always){h.queue.always[n]()
}},success:function(n){for(var o in h.queue.success){h.queue.success[o](n)
}if(j){j(n)
}},error:function(){for(var n in h.queue.error){h.queue.error[n]()
}if(j){j()
}}});
for(var l in h.queue.send){h.queue.send[l](i)
}},autocomplete:function(i,j){this.term=i;
var h=this;
j=(j?(typeof(j=="function")?{success:j}:j):null);
var l=setTimeout(function(){if(j&&j.timeout){j.timeout()
}},this.maxtime);
var k={beginning:1,query:i,maxresults:this.maxresults};
return $.ajax({url:this.peek,data:k,always:function(){clearTimeout(l);
if(j&&j.always){j.always()
}},success:function(m){if(typeof(m)=="string"){m=JSON.parse(m.substr(1,m.length-2))
}if(j&&j.success){j.success(m)
}},error:function(m){if(j&&j.error){j.error(m)
}}})
},queue:{ready:[],send:[],success:[],error:[],always:[],timeout:[]},ready:function(h){this.queue.ready.push(h)
},send:function(h){this.queue.send.push(h)
},success:function(h){this.queue.success.push(h)
},error:function(h){this.queue.error.push(h)
},always:function(h){this.queue.always.push(h)
},timeout:function(h){this.queue.timeout.push(h)
}}
}function g(i){i=i.replace(/[*+?^$.\[\]{}()|\\\/]/g,"\\$&");
var h=location.search.match(new RegExp("[?&]"+i+"=([^&]+)(&|$)"));
return h&&decodeURIComponent(h[1].replace(/\+/g," "))
}$(function(){for(var h in window.services.search.queue.ready){window.services.search.queue.ready[h]()
}$(".search.service").each(function(){var l=$(this);
var n=g("qt");
var j=l.find("input.term");
function k(){if(j.val().length>=3){window.services.search.page=1;
window.services.search.query(j.val(),function(o){l.trigger("promote-success",o);
window.services.intelliresponse.query(j.val(),function(p){l.trigger("intelliresponse-success",p)
})
})
}else{l.trigger("term-length-exception")
}}if(n&&n.length){l.find("input.term").val(n).focus();
k()
}l.find("input.term").typeWatch({callback:function(o){k()
},wait:750});
var i=l.closest(".layoutcontainer");
if(i.length){var m=$("<div class='search-promote-underlay'></div>");
if(l.find(".instructions").length){m.addClass("instructions")
}i.prepend(m)
}})
})
})();
(function(){if(!window.services){window.services={}
}var b;
var a=$(".js-promote-url-ir").text();
if(a.trim()==""){a="//cibc.intelliresponse.com/search/json/"
}if($("html").attr("lang")=="en"){b=35
}else{if($("html").attr("lang")=="fr"){b=36
}}if(!window.services.intelliresponse){window.services.intelliresponse={jsonURL:a,term:"",interfaceId:b,requestType:"NormalRequest",source:3,language:"en",maxtime:3500,queue:{ready:[],send:[],success:[],timeout:[]},query:function(d,e){var c=this;
var g=setTimeout(function(){for(var h in c.queue.timeout){c.queue.timeout[h]()
}},c.maxtime);
window.rspIR=function(h){clearTimeout(g);
for(var k in c.queue.success){c.queue.success[k](h)
}e(h);
$("#irTopAnswerContainer:contains('We have not found a satisfactory match to your question.')").hide();
$("#irTopAnswerContainer").not(":contains('We have not found a satisfactory match to your question.')").show();
if(h.irSuggestedForm===""&&h.irRelatedForm===""){var i="https:"+a;
var j;
if($("html").attr("lang")=="en"){j=35
}else{if($("html").attr("lang")=="fr"){j=36
}}$.ajax({url:i+"?interfaceID="+j+"&requestType=TopQuestionsRequest&source=3&callback=?",contentType:"application/json;charset=utf-8",dataType:"jsonp",crossDomain:true,timeout:3500,cache:false,jsonpCallback:"rspIR",beforeSend:function(l){if(l&&l.overrideMimeType){l.overrideMimeType("application/json;charset=UTF-8")
}}})
}};
this.term=d;
$.ajax({url:this.jsonURL,contentType:"application/json;charset=utf-8",dataType:"jsonp",crossDomain:true,data:{question:d,language:this.language,interfaceID:this.interfaceId,requestType:this.requestType,source:this.source},timeout:3500,cache:false,jsonpCallback:"rspIR",beforeSend:function(h){if(h&&h.overrideMimeType){h.overrideMimeType("application/json;charset=UTF-8")
}}});
for(var f in c.queue.send){c.queue.send[f](d)
}},ready:function(c){this.queue.ready.push(c)
},send:function(c){this.queue.send.push(c)
},success:function(c){this.queue.success.push(c)
},timeout:function(c){this.queue.timeout.push(c)
}}
}$(function(){for(var c in window.services.intelliresponse.queue.ready){window.services.intelliresponse.queue.ready[c]()
}$(".search.service").each(function(){var d=$(this);
d.on("intelliresponse-success",function(e,f){$(".intelliresponse.service").each(function(){var g=$(this);
g.show();
var h=g.find("> .placeholder");
h.find(".title .placeholder").empty();
h.find(".content .placeholder").empty();
h.find(".suggested .placeholder").empty();
h.find(".related .placeholder").empty();
h.find(".topquestions .placeholder").empty();
if(f&&f.irResponseTitle){h.find(".title .placeholder").append($(f.irResponseTitle))
}if(f&&f.irResponse){h.find(".content .placeholder").append($(f.irResponse))
}if(f&&f.irSuggestedForm){h.find(".suggested .placeholder").append($(f.irSuggestedForm))
}if(f&&f.irRelatedForm){h.find(".related .placeholder").append($(f.irRelatedForm))
}if(f&&f.irTopQuestions){h.find(".topquestions .placeholder").append($(f.irTopQuestions))
}window.intelliResponse={intelliResponseLink:function(i){var j=$(i);
window.open(j.attr("href"),j.text(),"height=535,width=745");
return false
}}
})
})
})
})
})();
(function(a){$(function(){$(".promote.service .paging").hide();
$(".search.service").each(function(){var f=$(this);
var g=$("html").attr("lang");
window.digitalData.siteSearch=window.digitalData.siteSearch||{};
function d(i,h){$(".promote.service").each(function(){window.services.search.facet="";
var P=$(this);
var U=$(".banner-top",P);
var k=$(".banner-left",P);
var l=$(".banner-bottom",P);
var X=(P.attr("data-pages")||"").length?parseInt(P.attr("data-pages"))||9:9;
var S=P.find(".content  .title");
var B=P.find(".content");
var H=B.find("> .placeholder");
var y=P.find(".exception");
var I=P.find(".content .paging");
var o=I.find(".pages");
var ae=o.find(".placeholder.all");
var Z=o.find(".placeholder.summary");
var N;
if(g=="fr"){N="<div class='cibc-acc-links'><div class='cibc-acc-links-wrapper'><div class='cibc-acc-links-inner'><a href='#skip-search-result-ad'>Ignorer l'annonce</a></div></div></div>"
}else{N="<div class='cibc-acc-links'><div class='cibc-acc-links-wrapper'><div class='cibc-acc-links-inner'><a href='#skip-search-result-ad'>Skip the following ad</a></div></div></div>"
}H.empty();
ae.empty();
if(i){if(i.general){if(i.general.redirect){if(i.general.redirect.trim()){window.location.href=i.general.redirect
}}}}if(!h&&i&&i.resultcount&&parseInt(i.resultcount.total)){B.show();
y.hide();
var T=parseInt(U.data("position")||0)||0;
var t=parseInt(k.data("position")||0)||0;
var v=parseInt(l.data("position")||0)||0;
for(var G in i.resultsets){var K=i.resultsets[G];
if(K.results.length<T){T=1+K.results.length;
K.results.push({})
}if(K.results){var O=0;
for(var p in K.results){O+=1;
if(O==T&&i.banners){for(var ad in i.banners){var af=i.banners[ad];
if(af.top){var D=$("<div class='top banner item'></div>").html(af.top);
H.append(N).append(D);
O+=1
}}}if(O==t){for(var ad in i.banners){var af=i.banners[ad];
if(af.left){var D=$("<div class='top banner item'></div>").html(af.left);
H.append(N).append(D);
O+=1
}}}if(O==v){for(var ad in i.banners){var af=i.banners[ad];
if(af.bottom){var D=$("<div class='top banner item'></div>").html(af.bottom);
H.append(N).append(D);
O+=1
}}}var w;
if(g=="fr"){w="Résultats à "+(+i.general.page_lower+ +p)+" de "+i.general.total
}else{w="Results "+(+i.general.page_lower+ +p)+" of "+i.general.total
}var A=K.results[p];
var x=$("<div class='result item'></div>");
var J=$("<div class='icon'></div>");
var V=$("<div class='description'></div>");
var ac=(+i.general.page_lower+ +p);
var m=ac.toString().split("").pop();
if(((+m)/T)==1){var j=$("<span class='show-for-sr' id='skip-search-result-ad' aria-hidden='true'></span>").text((w||""))
}else{var j=$("<span class='show-for-sr' aria-hidden='true'></span>").text((w||""))
}var E=$("<a href='"+(A.url||"")+"'></a>").text((A.title||""));
var aa=$("<p></p>").text((A.description||""));
V.append(j).append(E).append(aa);
x.append(J).append(V);
if(!jQuery.isEmptyObject(K.results[p])){H.append(x)
}}}}var L=$(".subheader",S);
var M=$(".original",L).text().replace(/\{from\}/g,i.resultcount.pagelower).replace(/\{to\}/g,i.resultcount.pageupper).replace(/\{total\}/g,i.resultcount.total).replace(/\"\{term\}\"/g,'"<span class="text-red">'+b(window.services.search.term)+'</span>"').replace(/\{term\}/g,"<strong>"+b(window.services.search.term)+"</strong>");
$(".result-summary .current .content").html(M);
if(i&&i.general&&i.general.page_total){I.show();
function C(){$("html, body").animate({scrollTop:0},800);
H.fadeOut(800,function(){H.fadeIn(500)
});
window.services.search.query(b(window.services.search.term),function(ag){d(ag);
e(ag)
})
}var R=parseInt(i.general.page_total);
if(R>0){var n=window.services.search.page-Math.floor(X/2)-1;
var Y=window.services.search.page+Math.ceil(X/2)-2;
if(n<0){Y+=-n;
n=0
}if(Y>R){n=R-X;
Y=i.general.page_total-1
}for(var ab=0;
ab<R;
ab++){if(ab>=n&&ab<=Y){var p;
var u=$(".js-promote-pagenumbertextsr").text();
if(g=="fr"){if(ab+1==window.services.search.page){u="Page "+(ab+1)+" sélectionnée"
}else{u=u.replace(/\{pagenumber\}/g,(ab+1))
}}else{if(ab+1==window.services.search.page){u="Page "+(ab+1)+" selected"
}else{u=u.replace(/\{pagenumber\}/g,(ab+1))
}}p=$("<button class='page' data-page='"+(ab+1)+"' aria-label='"+u+"'></button>").text(ab+1).data("page",ab+1).off().on("click",function(){window.services.search.page=$(this).data("page");
C()
});
if(ab+1==window.services.search.page){p.addClass("active");
p.attr("aria-selected","true")
}else{p.attr("aria-selected","false")
}ae.append(p);
Z.find(".current").text(Z.find(".original").text().replace(/\{page\}/g,window.services.search.page).replace(/\{total\}/g,R))
}}var W=I.find(".previous.controls .previous").off().click(function(){window.services.search.page-=1;
C()
});
var z=I.find(".previous.controls .first").off().click(function(){window.services.search.page=1;
C()
});
var q=I.find(".next.controls .next").off().click(function(){window.services.search.page+=1;
C()
});
var F=I.find(".next.controls .last").off().click(function(){window.services.search.page=i.general.page_total;
C()
});
if(window.services.search.page>1){W.removeAttr("disabled")
}else{W.attr("disabled","disabled")
}if(window.services.search.page>2){z.removeAttr("disabled")
}else{z.attr("disabled","disabled")
}if(window.services.search.page<i.general.page_total){q.removeAttr("disabled")
}else{q.attr("disabled","disabled")
}if(window.services.search.page+1<i.general.page_total){F.removeAttr("disabled")
}else{F.attr("disabled","disabled")
}}}else{I.hide()
}a.services.RDS.onReady({success:function(ag){this.updateSandPRDSBannerAdsRates()
}})
}else{if(!h&&i&&i.resultcount&&parseInt(i.resultcount.total)==0&&i.banners[0].top){B.show();
y.show();
var T=parseInt(U.data("position")||0)||0;
if(i.banners){for(var ad in i.banners){var af=i.banners[ad];
if(af.top){var D=$("<div class='top banner no-results-banner-only'></div>").html(af.top);
H.append(N).append(D)
}}}if(!h){$(".result-summary .current .exception").html(y.find(".title .subheader .original").text().replace(/\{term\}/g,"<strong>"+b(window.services.search.term)+"</strong>")).show();
$(".result-summary .content").hide();
$(".result-summary .exception").show();
var r="";
var Q=$(".js-promote-exception-suggestion").html();
if(i){if(i.suggestions){for(var ab=0;
ab<i.suggestions.length;
ab++){if(i.suggestions[ab].suggestion){r+=' <a href="'+location.protocol+"//"+location.host+location.pathname+"?qt="+i.suggestions[ab].suggestion+'" title="data.suggestions[i].suggestion">'+i.suggestions[ab].suggestion+"</a>, "
}}r=r.replace(/,\s*$/,"");
Q=Q.replace(/\{suggestions\}/g,r);
$(".result-summary .current .exception").append(Q)
}}}}else{B.hide();
y.show();
if(!h){$(".result-summary .current .exception").html(y.find(".title .subheader .original").text().replace(/\{term\}/g,"<strong>"+b(window.services.search.term)+"</strong>")).show();
$(".result-summary .content").hide();
$(".result-summary .exception").show();
var r="";
var Q=$(".js-promote-exception-suggestion").html();
if(i){if(i.suggestions){for(var ab=0;
ab<i.suggestions.length;
ab++){if(i.suggestions[ab].suggestion){r+=' <a href="'+location.protocol+"//"+location.host+location.pathname+"?qt="+i.suggestions[ab].suggestion+'" title="data.suggestions[i].suggestion">'+i.suggestions[ab].suggestion+"</a>, "
}}r=r.replace(/,\s*$/,"");
Q=Q.replace(/\{suggestions\}/g,r);
$(".result-summary .current .exception").append(Q)
}}}else{$(".result-summary .content").hide();
$(".result-summary .exception").hide();
$("aside.facets-container").css("display","none")
}}}})
}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};
function b(h){return String(h).replace(/[&<>"'`=\/]/g,function(i){return c[i]
})
}function e(h){window.digitalData.events.siteSearch=true;
window.digitalData.siteSearch.results=h.resultcount.total;
window.digitalData.siteSearch.term=b(window.services.search.term.toLowerCase());
window.digitalData.siteSearch.currentPage=window.services.search.page;
if(typeof _satellite!=="undefined"){_satellite.track("track")
}}f.on("promote-success facet-success",function(h,i){d(i)
}).on("promote-success",function(h,i){e(i)
}).on("term-length-exception",function(h,i){d(i,true)
})
})
})
})(window);
function submitSearch(a){return $(".header-search-container").find("#searchInputPick .search-highlight").length
}$(function(){$(".header-search-container form").each(function(){var b=document.getElementsByTagName("html")[0].getAttribute("lang")=="fr"?"fr":"en";
var c=true;
if(b==="fr"){c=false
}var k=$(this);
var d="#searchInputPick";
var h=k.find("input.search-input");
var j=".search-pickitem-";
var f=10;
var e=0;
var i=0;
function g(m){h.val(m.text());
k.submit()
}function a(r){$(".nav-primary").removeClass("search-focus");
k.siblings("#searchInputPick").remove();
$(".header-content-container .header-search-container form.search-wrapper .search-input").attr("aria-expanded","false");
$("form.search-wrapper input.search-input").attr("aria-activedescendant","");
$("form.search-wrapper input.search-input").attr("aria-label","");
var u;
var t="";
var o=$("<ul id='searchInputPick' aria-labelledby='search-label' role='listbox'></ul>");
if(r&&r.length){var p=0;
i=r.length;
for(var q in r){if(p++<f){var n=r[q];
var m=$("<li id='search-pickitem-"+p+"' role='option' class='search-pickitem search-pickitem-"+p+"' data-item='"+p+"'></li>").text(n||"");
m.click(function(){l($(this).data("item"));
g($(this))
}).hover(function(){l($(this).data("item"))
});
o.append(m);
if(f>i&&i!=0){u=i
}else{u=f
}if(c){t=u+" search suggestions available. Use up and down arrow keys to navigate."
}else{t=u+" suggestions de recherche. Utilisez les flèches vers le haut ou le bas pour naviguer dans la liste."
}$(".header-search-container .id-search-suggestions").text(t);
$(".header-content-container .header-search-container form.search-wrapper .search-input").attr("aria-expanded","true")
}}e=0
}else{if(c){$(".header-search-container .id-search-suggestions").text("0 search suggestions available. Use up and down arrow keys to navigate.")
}else{$(".header-search-container .id-search-suggestions").text("0 suggestions de recherche. Utilisez les flèches vers le haut ou le bas pour naviguer dans la liste.")
}}k.parent().append(o.show());
$(".nav-primary").addClass("search-focus")
}function l(m){e=parseInt(m);
var o=$(d);
var n=o.find(j+e);
if(n.length){o.find(".search-highlight").removeClass("search-highlight");
n.addClass("search-highlight")
}}k.submit(function(m){if(!h.val().length>=3){m.preventDefault()
}});
h.keyup(function(n){var p=$(this);
var o;
if(f>i&&i!=0){o=i
}else{o=f
}switch(n.which){case 13:var m=$(d).find(".search-highlight");
if(m.length){g(m)
}break;
case 27:k.siblings(d).remove();
p.val("").focus();
$(".header-content-container .header-search-container form.search-wrapper .search-input").attr("aria-expanded","false");
$("form.search-wrapper input.search-input").attr("aria-activedescendant","");
if(c){$(".header-search-container .id-search-suggestions").text("0 search suggestions available. Use up and down arrow keys to navigate.")
}else{$(".header-search-container .id-search-suggestions").text("0 suggestions de recherche. Utilisez les flèches vers le haut ou le bas pour naviguer dans la liste.")
}e=0;
break;
case 38:if(e>0){l(--e)
}$(".header-content-container .header-search-container form.search-wrapper .search-input").val($(" .search-pickitem.search-highlight").text());
if(c){$(".header-search-container .id-search-suggestions").text($("li#search-pickitem-"+e).text()+" "+e+" of "+o)
}else{$(".header-search-container .id-search-suggestions").text($("li#search-pickitem-"+e).text()+" "+e+" de "+o)
}if(e!=0){$("form.search-wrapper input.search-input").attr("aria-activedescendant","search-pickitem-"+e)
}else{$("form.search-wrapper input.search-input").attr("aria-activedescendant","")
}break;
case 40:if(e<i){l(++e)
}$(".header-content-container .header-search-container form.search-wrapper .search-input").val($(" .search-pickitem.search-highlight").text());
if(c){$(".header-search-container .id-search-suggestions").text($("li#search-pickitem-"+e).text()+" "+e+" of "+o)
}else{$(".header-search-container .id-search-suggestions").text($("li#search-pickitem-"+e).text()+" "+e+" de "+o)
}$("form.search-wrapper input.search-input").attr("aria-activedescendant","search-pickitem-"+e);
break;
default:if((p.val()||"").length>=3){window.services.search.autocomplete(p.val(),function(q){a(q)
})
}else{$(".nav-primary").removeClass("search-focus");
k.siblings(d).remove();
$(".header-content-container .header-search-container form.search-wrapper .search-input").attr("aria-expanded","false");
$("form.search-wrapper input.search-input").attr("aria-activedescendant","");
if(c){$(".header-search-container .id-search-suggestions").text("0 search suggestions available. Use up and down arrow keys to navigate.")
}else{$(".header-search-container .id-search-suggestions").text("0 suggestions de recherche. Utilisez les flèches vers le haut ou le bas pour naviguer dans la liste.")
}}break
}})
})
});
(function(){$(function(){$(".search.service").each(function(){var a=$(this);
$(".search-promote .facets-filter-mobile button.button").on("click",function(b){if($(this).hasClass("facets")){if($(".search-promote .facets-filter-mobile button.button.intelliresponse").hasClass("close")){var c=$(".search-promote .facets-filter-mobile button.button.intelliresponse");
$(".search-promote .intelliresponse-container-mobile").toggleClass("hidden");
c.toggleClass("close");
$(c).find(".label").toggleClass("close");
$(c).find(".label.open").toggleClass("hidden");
$(c).find(".label.closed").toggleClass("hidden")
}$(".search-promote .facets-container-mobile").toggleClass("hidden")
}else{if($(".search-promote .facets-filter-mobile button.button.facets").hasClass("close")){var c=$(".search-promote .facets-filter-mobile button.button.facets");
$(".search-promote .facets-container-mobile").toggleClass("hidden");
c.toggleClass("close");
$(c).find(".label").toggleClass("close");
$(c).find(".label.open").toggleClass("hidden");
$(c).find(".label.closed").toggleClass("hidden")
}$(".search-promote .intelliresponse-container-mobile").html($(".search-promote .intelliresponse.service").html());
$(".search-promote .intelliresponse-container-mobile").toggleClass("hidden")
}$(this).toggleClass("close");
$(this).find(".label").toggleClass("close");
$(this).find(".label.open").toggleClass("hidden");
$(this).find(".label.closed").toggleClass("hidden");
b.preventDefault()
});
$(".facets.service").each(function(){var b=$(this);
var d=$(".all .facet.item",b);
var f=$(".content",b);
function c(g){a.trigger("facet-success",g);
b.trigger("facet-success",g)
}function e(o){f.empty();
if(jQuery.isEmptyObject(o.facets[0])){$("aside.facets-container").css("display","none")
}else{$("aside.facets-container").css("display","block")
}if(o&&o.facets&&o.facets.length){var n=$(".js-searchlayouttype").text();
if(n=="cibcwithfacets"){$(".promote.service").addClass("large-push-4");
$(".promote.service").removeClass("large-push-2")
}b.show();
var m=0;
for(var l in o.facets){var k=o.facets[l];
if(k.values&&k.values.length){for(var i in k.values){var r=k.values[i];
var h=(r.value||"");
var j=$("<div class='facet item'></div>");
if(window.services.search.facet==u&&u.length){j.addClass("active");
$(".facets.service").addClass("selected")
}var p=$("<button class='facet button'></button>").attr("data-facet",h);
var u=$("<span class='label'></span>").text(h);
var g=$("<span class='label-count'></span>").text(" ("+r.count+")");
var q=$("<span class='close'></span>");
u.append(g);
p.append(u);
var t="";
j.append([p,t,q]);
f.append(j);
m+=parseInt(r.count||0)||0;
p.click(function(){var v=$(this);
b.find(".active.facet.item").removeClass("active");
v.parent().addClass("active");
$(".facets.service").addClass("selected");
window.services.search.facet=v.attr("data-facet");
o.general.page_lower=1;
o.general.page_upper=10;
o.resultcount.pagelower=1;
o.resultcount.pageupper=10;
window.services.search.page=1;
window.services.search.query(window.services.search.term,function(w){c(w)
})
});
q.click(function(){window.services.search.facet="";
b.find(".active.facet.item").removeClass("active");
$(".facets.service").removeClass("selected");
d.addClass("active");
window.services.search.query(window.services.search.term,function(v){c(v)
});
$(".search-promote .facets-container-mobile").toggleClass("hidden");
$(".search-promote .facets-filter-mobile button.facets").toggleClass("close");
$(".search-promote .facets-filter-mobile button.facets .label").toggleClass("close");
$(".search-promote .facets-filter-mobile button.facets .label.open").toggleClass("hidden");
$(".search-promote .facets-filter-mobile button.facets .label.closed").toggleClass("hidden")
})
}}}$(".button .label .label-count",d).text(" ("+m+")");
if(!window.services.search.facet.length){d.addClass("active");
$(".facets.service").removeClass("selected")
}else{d.removeClass("active")
}}else{b.hide()
}}a.on("promote-success",function(g,h){e(h)
});
d.click(function(){window.services.search.facet="";
b.find(".active.facet.item").removeClass("active");
$(".facets.service").removeClass("selected");
d.addClass("active");
window.services.search.query(window.services.search.term,function(g){c(g)
})
})
})
})
})
})();
var languagePath=$("html").attr("languagePath");
var rds_url=languagePath+"/jcr:content/rdsjsonfile.rdsdata.json";
if(!window.services){window.services={}
}window.services.RDS=new (function(b,c){var a=this;
this.initialized=false;
this.instance=null;
this.ready=false;
this.response=null;
this.handler=null;
this.readyQueue=[];
this.dispatchQueue=[];
this.notifyReady=function(){for(var d in a.readyQueue){if(a.ready){if(a.readyQueue[d].success){a.readyQueue[d].success.call(a.instance,a.response)
}}else{if(a.readyQueue[d].error){a.readyQueue[d].error.call(a.instance,a.handler)
}}if(a.readyQueue[d].complete){a.readyQueue[d].complete.call(a.instance)
}}a.readyQueue=[]
};
this.dispatchService=function(){for(var d in a.dispatchQueue){if(a.ready){if(a.instance.getRates){a.instance.getRates(a.dispatchQueue[d].lob,a.dispatchQueue[d].products,a.dispatchQueue[d].delegate)
}}else{if(a.dispatchQueue[d].delegate&&a.dispatchQueue[d].delegate.error){a.dispatchQueue[d].delegate.error.call(a.instance)
}if(a.dispatchQueue[d].delegate&&a.dispatchQueue[d].delegate.complete){a.dispatchQueue[d].delegate.complete.call(a.instance)
}}}a.dispatchQueue=[]
};
if(c){b.$.ajax({url:c.url,cache:true,dataType:"json",success:function(d){a.ready=true;
a.response=d;
if(c.delegate&&c.delegate.success){if(c.delegate.success(d)!==false){if(d.version&&d[d.version]){if(c.factory[d.version]){a.instance=c.factory[d.version](d[d.version],b,c)
}}}}else{if(d.version&&d[d.version]){if(c.factory[d.version]){a.instance=c.factory[d.version](d[d.version],b,c)
}}}},error:function(d){a.ready=false;
a.handler=d;
if(c.delegate&&c.delegate.error){c.delegate.error(d,b,c)
}},complete:function(){a.initialized=true;
if(c.delegate&&c.delegate.complete){c.delegate.complete(b,c)
}a.notifyReady();
if(a.ready){a.dispatchService()
}}})
}return{onReady:function(d){if(d){a.readyQueue.push(d)
}if(a.initialized){a.notifyReady()
}return this
},getRates:function(f,e,d){a.dispatchQueue.push({lob:f,products:e,delegate:d});
if(a.initialized){a.dispatchService()
}return this
}}
})(window,{url:rds_url,factory:{"2.0":function(b,a,c){return c.factory["1.0"].call(this,b,a,c)
},"1.0":function(data,context,configuration){this.requestRates=function(dataset,delegate){var scripts=[];
for(var lob in dataset){var products="";
for(var product in dataset[lob]){products+=product+"%2c"
}var url=data.url+"?"+data.parameters.replace("{{lobId}}",lob).replace("{{sourceProductCode}}",products);
url=url.replace("&amp;","&");
scripts[lob]=context.document.createElement("script");
var reference=context.document.createAttribute("lob");
reference.value=lob;
scripts[lob].setAttributeNode(reference);
scripts[lob].src=url;
scripts[lob].lob=lob;
scripts[lob].defer=false;
scripts[lob].onload=function(event){this.onreadystatechange=this.onload=null;
var lob=this.getAttribute("lob");
for(var product in dataset[lob]){try{var data_member=((/^[0-9]/).test(product[0])?"p"+product:product);
data_member=data_member.replace("/","_").replace("-","_");
dataset[lob][product]=eval("("+data_member+" ? "+data_member+" : null);")
}catch(e){}}context.document.body.removeChild(this);
return(delegate&&delegate.success?delegate.success(dataset[lob],lob):true)
};
scripts[lob].onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete"){this.onload()
}};
scripts[lob].onerror=function(event){return(delegate&&delegate.error?delegate.error(event,scripts[this.getAttribute("lob")]):false)
};
scripts[lob].abort=function(event){return(delegate&&delegate.abort?delegate.abort(event,scripts[this.getAttribute("lob")]):false)
}
}for(script in scripts){try{context.document.body.appendChild(scripts[script])
}catch(ex){}}};
this.getRates=function(lob,products,delegate){var search={};
if(typeof products!=="object"){search[products]=null
}else{for(var product in products){search[product]=null
}}var dataset=[];
dataset[lob]={};
dataset[lob]=search;
this.requestRates(dataset,delegate);
return this
};
return this
}}});
var mutualFundsRequestUrl="https://www.cibc.com/ratesservice/rds?lobId=7&sourceProductCode=489%2c584%2c475%2c596%2c503%2c585%2c476%2c576%2c512%2c523%2c511%2c586%2c490%2c477%2c522%2c486%2c901%2c587%2c300%2c588%2c520%2c595%2c479%2c507%2c500%2c590%2c484%2c589%2c478%2c524%2c510%2c591%2c513%2c592%2c519%2c593%2c518%2c594%2c494%2c502%2c485%2c488%2c491%2c496%2c525%2c526%2c504%2c505%2c495%2c493%2c498%2c506%2c497%2c896%2c820%2c598%2c884%2c597%2c895%2c581%2c482%2c480%2c580%2c483%2c583";
var p475=p596=p476=p576=p512=p523=p490=p489=p584=p503=p585=p511=p586=p477=p522=p486=p901=p587=p300=p588=p520=p595=p479=p507=p500=p590=p484=p589=p478=p524=p510=p591=p513=p592=p519=p593=p518=p594=p494=p502=p485=p488=p491=p496=p525=p526=p504=p505=p495=p493=p498=p506=p497=p896=p820=p598=p884=p597=p895=p581=p482=p480=p580=p483=p583=null;
(function(a,b){if(b){a.services.RDS.onReady({success:function(c){if(b.delegate&&b.delegate.success){if(b.delegate.success(c)!==false){if(c.version&&c[c.version]){if(b.factory[c.version]){b.factory[c.version].call(this,c[c.version],a,b)
}}}}else{if(c.version&&c[c.version]){if(b.factory[c.version]){b.factory[c.version].call(this,c[c.version],a,b)
}}}},error:function(c){if(b.delegate&&b.delegate.error){b.delegate.error(c,a,b)
}},complete:function(){if(b.delegate&&b.delegate.complete){b.delegate.complete(a,b)
}}})
}})(window,{factory:{"2.0":function(b,a,c){return c.factory["1.0"].call(this,b,a,c)
},"1.0":function(data,context,configuration){configuration._data={};
configuration._system={resolver:null,date:null,stack:[]};
function addProduct(lob,product){var ret=null;
if(lob&&product){if(!configuration._data[lob]){configuration._data[lob]={}
}var found=false;
for(var current in configuration._data[lob]){found=(current==product)
}if(!found){configuration._data[lob][product]=null
}ret=configuration._data[lob]
}return ret
}function addProducts(items){var ret=0;
for(var item in items){addProduct(items[item].lob,items[item].product);
ret++
}return ret
}function getValue(rate){var ret=null;
if(configuration._data[rate.lob]){if(configuration._data[rate.lob][rate.product]){if(configuration._data[rate.lob][rate.product].rates){for(var i=0;
i<configuration._data[rate.lob][rate.product].rates.length&&!ret;
i++){ret=(configuration._data[rate.lob][rate.product].rates[i][0]==(rate.term=="null"?null:rate.term)&&configuration._data[rate.lob][rate.product].rates[i][1]==(rate.balance=="null"?null:rate.balance)&&configuration._data[rate.lob][rate.product].rates[i][2]==(rate.rate=="null"?null:rate.rate)&&configuration._data[rate.lob][rate.product].rates[i][6]==(rate.customer=="null"?null:rate.customer)&&configuration._data[rate.lob][rate.product].rates[i][4]==(rate.type=="historical"?"Historical":"Published")?configuration._data[rate.lob][rate.product].rates[i]:null)
}}}}if(ret){try{ret=evalFloat(ret[3],getPrecision(ret[3]))
}catch(e){ret=null
}}return ret
}function getUpdateDate(rate){var ret=null;
if(configuration._data[rate.lob]){if(configuration._data[rate.lob][rate.product]){if(configuration._data[rate.lob][rate.product].rates){for(var i=0;
i<configuration._data[rate.lob][rate.product].rates.length&&!ret;
i++){ret=(configuration._data[rate.lob][rate.product].rates[i][0]==(rate.term=="null"?null:rate.term)&&configuration._data[rate.lob][rate.product].rates[i][1]==(rate.balance=="null"?null:rate.balance)&&configuration._data[rate.lob][rate.product].rates[i][2]==(rate.rate=="null"?null:rate.rate)&&configuration._data[rate.lob][rate.product].rates[i][6]==(rate.customer=="null"?null:rate.customer)&&configuration._data[rate.lob][rate.product].rates[i][4]==(rate.type=="historical"?"Historical":"Published")?configuration._data[rate.lob][rate.product].rates[i]:null)
}}}}if(ret){try{ret=new Date(ret[5])
}catch(e){ret=null
}}return ret
}function getInceptionDate(rate){var ret=null;
if(configuration._data[rate.lob]){if(configuration._data[rate.lob][rate.product]){ret=configuration._data[rate.lob][rate.product].inceptionDate
}}if(ret){try{ret=new Date(ret)
}catch(e){ret=null
}}return ret
}function getData(rate){var ret=null;
if(rate){switch(rate.output){case"rate":ret=getValue(rate);
break;
case"inception":ret=getInceptionDate(rate);
break;
case"update":ret=getUpdateDate(rate);
break
}}return ret
}function formatData(value,format){var expression=(/#([0-9]?)-?([a-zA-Z\-]+)-?([0-9]?)#/);
var months={en:["January","February","March","April","May","June","July","August","September","October","November","December"],fr:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]};
var modifiers={d:function(match,value,format){return format.replace(match[0],value.getDate())
},dd:function(match,value,format){var val=value.getDate();
return format.replace(match[0],(val.toString().length<2?"0"+val:val))
},M:function(match,value,format){return format.replace(match[0],months.en[value.getMonth()])
},MF:function(match,value,format){return format.replace(match[0],months.fr[value.getMonth()])
},m:function(match,value,format){return format.replace(match[0],value.getMonth()+1)
},mm:function(match,value,format){var val=value.getMonth()+1;
return format.replace(match[0],(val.toString().length<2?"0"+val:val))
},Y:function(match,value,format){return format.replace(match[0],value.getFullYear())
},yy:function(match,value,format){return format.replace(match[0],value.getFullYear().toString().substring(2))
},R:function(match,value,format){return format.replace(match[0],value+"%")
},RX:function(match,value,format){return format.replace(match[0],value)
},RXF:function(match,value,format){return this["RX"](match,value,format).replace(".",",")
},RF:function(match,value,format){return this["R"](match,value,format).replace(".",",").replace("%"," %")
},T:function(match,value,format){value=new Number(value);
value=value.toFixed(parseInt(match[3]||0)+1);
value=value.substring(0,value.indexOf(".")+parseInt(match[3]||0)+1);
value=(value.indexOf(".")==value.length-1?value.substring(0,value.length-1):value);
return value+"%"
},TF:function(match,value,format){return this["T"](match,value,format).replace(".",",").replace("%"," %")
},TX:function(match,value,format){value=new Number(value);
value=value.toFixed(parseInt(match[3]||0)+1);
value=value.substring(0,value.indexOf(".")+parseInt(match[3]||0)+1);
value=(value.indexOf(".")==value.length-1?value.substring(0,value.length-1):value);
return value
},TXF:function(match,value,format){return this["T"](match,value,format).replace(".",",").replace("%","")
},O:function(match,value,format){value=new Number(value);
return value.toFixed(match[3]||0)+"%"
},OF:function(match,value,format){return this["O"](match,value,format).replace(".",",").replace("%"," %")
},OX:function(match,value,format){value=new Number(value);
return value.toFixed(match[3]||0)
},OXF:function(match,value,format){return this["O"](match,value,format).replace(".",",").replace("%","")
},"date-en":function(match,value,format){return format.replace(match[0],(match[3]=="1"?months[match[1]][value.getMonth()]+" "+value.getDate()+", "+value.getFullYear():value.getDate()+"/"+value.getMonth()+1+"/"+value.getFullYear()))
},"date-fr":function(match,value,format){return format.replace(match[0],(match[3]=="1"?value.getDate()+" "+months[match[1]][value.getMonth()]+", "+value.getFullYear():value.getDate()+"/"+value.getMonth()+1+"/"+value.getFullYear()))
}};
var match=null;
while(match=expression.exec(format)){format=(modifiers[match[2]]&&value!=null?modifiers[match[2]](match,value,format):"N/A")
}if(format){value=format
}return value
}function parseQualifier(qualifier){return{output:qualifier[1],lob:qualifier[2],product:qualifier[3],type:qualifier[4],term:(qualifier[5]!=null?qualifier[5].split(",")[0]:null),balance:(qualifier[5]!=null?qualifier[5].split(",")[1]:null),rate:(qualifier[5]!=null?qualifier[5].split(",")[2]:null),customer:(qualifier[5]!=null?qualifier[5].split(",")[3]:null),format:qualifier[7]}
}function getPrecision(data){return data&&data.toString().split(".").length>1?data.toString().split(".")[1].length:0
}function evalFloat(value,decimals){return parseFloat(value).toFixed(decimals)
}function parseQualifiers(qualifiers){var ret=[];
for(var qualifier in qualifiers){ret[qualifier]=parseQualifier(qualifiers[qualifier])
}return ret
}function findQualifiers(text){var ret=[];
var pattern=(/\%([a-zA-Z0-9]+)\[([A-z0-9]+)\]\.+([a-zA-z0-9\/\-_]+)\.([a-zA-Z0-9]+)\((([a-zA-Z0-9_\<\=\-\.+ ]+,?){1,4})\)\(([a-zA-Z0-9,# $.\/]*)\)\%/g);
for(var matches=pattern.exec(text),i=0;
matches!=null;
i++,matches=pattern.exec(text)){ret.push(matches)
}return ret
}function isDate(element){var equation=context.$(element).attr("data-rds");
return equation?(equation.indexOf("SYSTEM_DATE")>-1):false
}function decodeElement(element){var qualifiers=findQualifiers(context.$(element).attr("data-rds"));
if(isDate(element)){encodeDate(element,qualifiers)
}else{addProducts(parseQualifiers(qualifiers))
}}function encodeSpan(element,rates,qualifiers){var data=null;
var precision=0;
if(rates){var equation=context.$(element).attr("data-rds");
for(var i=0;
i<rates.length;
i++){data=getData(rates[i]);
equation=equation.replace(qualifiers[i][0],data);
precision=data&&(currentPrecision=getPrecision(data))>precision?currentPrecision:precision
}try{data=eval(equation);
data=data.toString().split(".").length==1?evalFloat(data,precision):data
}catch(e){}data=formatData(data,rates[rates.length-1].format)
}if(data!=null){context.$(element).text(data)
}else{context.$(element).text("N/A")
}context.$(element).show()
}function encodeDate(element,qualifiers){function resolveDate(element,value){var data=null;
var equation=context.$(element).attr("data-rds");
var regExp=(/\(.*\)/g);
try{var matches=regExp.exec(equation);
data=formatData(value,matches[0].substr(1,matches[0].length-2))
}catch(e){}if(data!=null){context.$(element).text(data)
}else{context.$(element).text("N/A")
}context.$(element).show()
}if(configuration._system.resolver){if(configuration._system.date){resolveDate(element,configuration._system.date)
}else{configuration._system.stack.push(element)
}}else{configuration._system.stack.push(element);
configuration._system.resolver=$.ajax({type:"GET",url:data.systemdate,dataType:"json",async:false,success:function(response){var date=+new Date(response.serverTime);
configuration._system.date=(date?new Date(date):null);
for(var i=0;
i<configuration._system.stack.length;
i++){resolveDate(configuration._system.stack[i],configuration._system.date)
}}})
}}function updateElements(lob){context.$("span.data-rds, span[data-rds]").each(function(i,v){var qualifiers=findQualifiers(context.$(this).attr("data-rds"));
var rates=parseQualifiers(qualifiers);
if(rates&&rates.length&&rates[0].lob==lob){encodeSpan(this,rates,qualifiers)
}})
}context.$("span.data-rds, span[data-rds]").each(function(i,v){decodeElement(this)
});
function getModalRDSSpans(){context.$(".reveal-modal-paragraph span.data-rds, .reveal-modal-paragraph span[data-rds]").each(function(i,v){decodeElement(this)
})
}function getSandPRDSBannerAds(){context.$(" .search-promote .promote.service span.data-rds, .search-promote .promote.service span[data-rds]").each(function(i,v){decodeElement(this)
})
}if(context.$(".top-mutual-funds-div").length!=0){var params=mutualFundsRequestUrl.split("?")[1].split("&");
var lob=params[0].split("=")[1];
var productCodes=params[1].split("=")[1].split("%2c");
var formattedData=[];
productCodes.forEach(function(item){formattedData.push({lob:lob,product:item})
});
addProducts(formattedData)
}function makeRatesObj(product,params){var rateLOBFormatting={1:2,3:2,4:{"Actual Rate":3,"Effective Yield":4},5:2};
var customerType=[null,"individual","senior","youth","student","staff","nonPersonal","regular"];
if(product){rates=product.rates
}else{return null
}multiRate=false;
unitIndex=0;
currencyIndex=1;
if(params){if(params.switch_unit_currency){unitIndex=params.switch_unit_currency?1:unitIndex;
currencyIndex=params.switch_unit_currency?0:currencyIndex
}multiRate=params.multiRate?true:false
}for(var i=0;
i<rates.length;
i++){yieldFlag=null;
yieldDate=null;
customerFlag=null;
try{unit=rates[i][unitIndex].toString().replace(/-_|_<|_>|_=|null_|_null|\.\d+|_.$/g,"").replace(/\s/g,"_")
}catch(e){unit="null"
}try{currency=rates[i][currencyIndex].match(/\d+/)
}catch(e){currency="null"
}var type=rates[i][2];
var _rateLOBFormatting=rateLOBFormatting[product.lobId];
var rate=_rateLOBFormatting&&rates[i][3]!="-99.999999991"?_rateLOBFormatting instanceof Object?parseFloat(rates[i][3]).toFixed(_rateLOBFormatting[rateTypeDefinitions[type]]):parseFloat(rates[i][3]).toFixed(_rateLOBFormatting):rates[i][3];
if(!product.lastUpdatedDate){product.lastUpdatedDate=rates[i][5]
}customerFlag=customerType[rates[i][6]?rates[i][6]:0];
if(type==11){yieldFlag="effectiveYield"
}else{if(type==12){yieldFlag="currentYield";
yieldDate=rates[i][5]
}else{if(unit=="null"&&currency=="null"){currency=rates[i][4]
}}}variable="rates"+(unit=="null"?"":unit.match(/^\d/)?".x"+unit:"."+unit);
eval("exists = "+variable+" ? true : false ");
isDigit=currency.toString().match(/^\d/);
if(!exists){eval(variable+" = {}")
}if(multiRate){if(currency!="null"){eval("exists = "+variable+(isDigit?".x":".")+currency+" ? true : false ");
if(!exists){eval(variable+(isDigit?".x":".")+currency+" = {}")
}}eval(variable+(currency=="null"?"":(isDigit?".x":".")+currency)+'["'+rateTypeDefinitions[type]+'"] = "'+rate+'"')
}else{if(currency!="null"){eval(variable+(isDigit?".x":".")+currency+" = {}");
eval(variable+(isDigit?".x":".")+currency+".type = "+type);
eval(variable+(isDigit?".x":".")+currency+'.rate = "'+rate+'"')
}else{eval(variable+".type = "+type);
eval(variable+'.rate = "'+rate+'"')
}}if(yieldFlag!=null){eval(variable+(currency!="null"?(isDigit?".x":".")+currency+".":".")+yieldFlag+' = "'+rate+'"');
if(yieldDate!=null){eval(variable+(currency!="null"?(isDigit?".x":".")+currency+".":".")+yieldFlag+'LastUpdatedDate = "'+yieldDate+'"')
}}if(customerFlag!=null){eval(variable+(currency!="null"?(isDigit?".x":".")+currency+".":".")+customerFlag+' = "'+rate+'"')
}if(currency.toString().match(/^(Historical|Published)/i)){eval(variable+(isDigit?".x":".")+currency+'.lastUpdatedDate = "'+rates[i][5]+'"')
}}}function compareFunction(a,b){try{if(parseFloat(a.data.rates.x1_Month.rate)<parseFloat(b.data.rates.x1_Month.rate)){return 1
}else{if(parseFloat(a.data.rates.x1_Month.rate)>parseFloat(b.data.rates.x1_Month.rate)){return -1
}else{if(parseFloat(a.data.rates.x1_Month.rate)==parseFloat(b.data.rates.x1_Month.rate)){if(a.nameEn<b.nameEn){return -1
}else{return 1
}}}}}catch(e){}return 0
}function showTop3MutualFunds(){var allFunds=context.document.createElement("script");
allFunds.setAttribute("src","/etc/designs/cibcpublic/clientlibs/rdsmutualfunds.js");
allFunds.onload=function(data){for(var i=0;
i<fundsArray.length;
i++){makeRatesObj(fundsArray[i].data)
}fundsArray.sort(compareFunction);
var fundsDiv=$(".top-mutual-funds-div");
var language=$("html").attr("lang");
var fundsList=context.document.createElement("ul");
$(fundsDiv).empty();
$(fundsList).addClass("underlined");
for(var i=0;
i<3;
i++){if(language==="fr"){$(fundsList).append("<li><a href='"+fundsArray[i].urlFr+"'>"+fundsArray[i].nameFr+"</a></li>")
}else{$(fundsList).append("<li><a href='"+fundsArray[i].urlEn+"'>"+fundsArray[i].nameEn+"</a></li>")
}}fundsDiv.append(fundsList)
};
context.document.body.appendChild(allFunds);
var top3css=context.document.createElement("link");
top3css.setAttribute("rel","stylesheet");
top3css.setAttribute("href","/etc/designs/cibcpublic/clientlibs/rdsmutualfunds.css");
context.document.body.appendChild(top3css)
}this.requestRates(configuration._data,{success:function(data,lob){updateElements(lob);
if(context.$(".top-mutual-funds-div").length!=0){showTop3MutualFunds()
}}});
this.updatePageRates=function(){getModalRDSSpans();
this.requestRates(configuration._data,{success:function(data,lob){updateElements(lob)
}})
};
this.updateSandPRDSBannerAdsRates=function(){getSandPRDSBannerAds();
this.requestRates(configuration._data,{success:function(data,lob){updateElements(lob)
}})
}
}}});
(function(){$(function(){var j=$("body");
var m=$(".primary-links li.has-submenu");
var e=$(".primary-links li.has-submenu > a");
var c=$(".page-content-wrapper");
var a=$(".top-bar-section-c .super-category > li > a");
var u=$(".top-bar-section-c .super-category > li");
var h="ontouchstart" in window;
var d=a.parent().find(".dropdown-aem");
var b=u.eq(0).find("a");
var l={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,ENTER:13,ESC:27,TAB:9};
var g={LEFT:-1,RIGHT:1,UP:-1,DOWN:1};
if(window.navigator.msMaxTouchPoints){var p=true;
var h=false
}else{var p=false
}if(h){$(window).bind("pageshow",function(v){$.resetMenuState()
})
}$.setNavHeight=function(){var v=$(window).outerHeight()-($("header.disable-search").length?0:55);
$(".nav-primary > .column").css("height",v)
};
$.setFocus=function(v){var w=document.getElementById(v.replace(/^.*#/,""));
if(w){w.focus()
}};
$.resetMenuState=function(){a.parent("li").removeClass("hover");
a.parent("li").removeClass("selected");
a.attr("aria-expanded","false");
d.attr("aria-hidden","true")
};
a.parent("li").hoverIntent({over:function(v){$(this).addClass("hover");
$(this).children(".dropdown-aem").attr("aria-hidden","false");
$(this).children("a").attr("aria-expanded","true")
},out:function(v){$(this).removeClass("selected");
$(this).removeClass("hover");
$(this).children(".dropdown-aem").attr("aria-hidden","true");
$(this).children("a").attr("aria-expanded","false");
$(this).children("a").blur()
},timeout:50});
$(".cibc-acc-links a").each(function(){$($(this).attr("href"),document).attr("tabIndex","-1")
});
$(".cibc-acc-links a.skip-to-signon").on("click touchstart",function(z){var y=$(".sign-on").filter(":visible");
var x=$(".sign-on .warning, .saved-cards select, .card-number input, #signOnContainer .mobile a:first-of-type");
var v=$(".header-content.sign-on-link .sign-on-module a").filter(":visible").attr("data-target");
var w;
if(v){w=$("#"+v)
}if(y.length){x.each(function(){if($(this).is(":visible")){$(this).focus();
return false
}})
}else{if(w){w.show();
w.attr("aria-hidden","false");
x.each(function(){if($(this).is(":visible")){$(this).focus();
return false
}})
}}return false
});
$(document).on("keydown",function(v){if(v.which===9&&!$("body.keyboard-tabbing")[0]){$("body").addClass("keyboard-tabbing");
$(document).on("mouseover",function(){$("body").removeClass("keyboard-tabbing")
})
}});
a.bind("focus",function(v){$.resetMenuState();
$(this).parent("li").addClass("selected");
$(this).attr("aria-expanded","false")
});
a.parent().last().find("a,button").last().focusout(function(){$.resetMenuState()
});
$(".dropdown-aem a").keydown(function(z){switch(z.keyCode){case l.LEFT:z.preventDefault();
z.stopImmediatePropagation();
var w=$(this).closest("li.has-dropdown").prev();
var A=$(this).closest("li.has-dropdown").hasClass("hover");
$.resetMenuState();
if(A){w.addClass("hover");
w.find(".dropdown-aem").attr("aria-hidden","false");
w.children("a").attr("aria-expanded","true");
w.find(".dropdown-aem a").first().focus()
}else{w.find(".dropdown-aem").attr("aria-hidden","true")
}w.children("a").attr("aria-expanded","false");
break;
case l.RIGHT:z.preventDefault();
z.stopPropagation();
var v=$(this).closest("li.has-dropdown").next();
var A=$(this).closest("li.has-dropdown").hasClass("hover");
$.resetMenuState();
if(A){v.addClass("hover");
v.find(".dropdown-aem").attr("aria-hidden","false");
v.children("a").attr("aria-expanded","true");
v.find(".dropdown-aem a").first().focus()
}else{v.find(".dropdown-aem").attr("aria-hidden","true")
}v.children("a").attr("aria-expanded","false");
break;
case l.DOWN:z.preventDefault();
var x=$(this).closest(".dropdown-aem").find($("input,select,textarea,a,button")),y=z.target;
found=(x.filter(":gt("+x.index(y)+"):first").focus().length===1);
if(x.length===x.index(y)+1){x.first().focus()
}break;
case l.UP:z.preventDefault();
var x=$(this).closest(".dropdown-aem").find($("input,select,textarea,a,button")),y=z.target;
found=(x.filter(":lt("+x.index(y)+"):last").focus().length===1);
if(x.filter(":lt("+x.index(y)+"):last").focus().length===0){x.last().focus()
}break;
case l.ESC:$.resetMenuState();
$(this).closest("li.has-dropdown").children("a").trigger("mouseout");
$(this).closest("li.has-dropdown").children("a").focus();
break;
case l.SPACE:z.preventDefault();
window.location.href=$(this).attr("href");
break
}});
a.keydown(function(x){switch(x.keyCode){case l.LEFT:x.preventDefault();
var w=$(this).closest("li.has-dropdown").prev();
var y=$(this).closest("li.has-dropdown").hasClass("hover");
$.resetMenuState();
if(y){w.addClass("hover");
w.find(".dropdown-aem").attr("aria-hidden","false");
w.children("a").attr("aria-expanded","true");
w.find(".dropdown-aem a").first().focus()
}else{w.find(".dropdown-aem").attr("aria-hidden","true")
}w.children("a").attr("aria-expanded","false");
w.children("a").focus();
break;
case l.RIGHT:x.preventDefault();
var v=$(this).closest("li.has-dropdown").next();
var y=$(this).closest("li.has-dropdown").hasClass("hover");
$.resetMenuState();
if(v.hasClass("has-dropdown")){if(y){v.addClass("hover");
v.find(".dropdown-aem").attr("aria-hidden","false");
v.children("a").attr("aria-expanded","true");
v.find(".dropdown-aem a").first().focus()
}else{v.find(".dropdown-aem").attr("aria-hidden","true")
}v.children("a").attr("aria-expanded","false");
v.children("a").focus()
}break;
case l.DOWN:x.preventDefault();
$(this).focus().attr("aria-expanded","true");
$(this).parent().addClass("hover");
$(this).next().attr("aria-hidden","false");
$(this).next().find("a").first().focus();
break;
case l.UP:x.preventDefault();
$(this).parent().addClass("hover");
$(this).attr("aria-expanded","true");
$(this).next(".dropdown-aem").attr("aria-hidden","false");
$(this).next(".dropdown-aem").find("a").first().focus();
break;
case l.ESC:$.resetMenuState();
break;
case l.SPACE:x.preventDefault();
$(this).attr("aria-expanded","true");
$(this).parent().addClass("hover");
$(this).next(".dropdown-aem").attr("aria-hidden","false");
$(this).next(".dropdown-aem").find("a").first().focus();
break
}});
if(d.length>0){a.bind("touchstart",function(v){if($(this).parent("li").hasClass("hover")){window.location.href=$(this).attr("href");
return
}else{v.preventDefault();
v.stopPropagation();
$.resetMenuState();
$(this).parent("li").addClass("hover");
$(this).attr("aria-expanded","true");
$(this).parent().find(".dropdown-aem").attr("aria-hidden","false")
}});
$(".dropdown-aem").each(function(){$(this).find(".horizontalrule").attr("role","separator");
$(this).find("ul").each(function(){var v=$(this).find("li").length;
$(this).find("li a").each(function(w){$(this).attr("aria-setsize",v).attr("aria-posinset",w+1)
})
});
$(this).find(".callout a").attr("role","menuitem").attr("aria-posinset",0).attr("aria-setsize",0)
})
}else{a.on("click touchend",function(v){window.location.href=$(this).attr("href")
})
}a.each(function(){$(this).attr("aria-setsize",a.length)
});
if(!$(".mobile-section-nav .sticky-nav-items").length&&!$(".mobile-menu-cont .mobile-section-nav .subnav-check").length){$(".mobile-menu-cont .mobile-section-nav").addClass("hidedropdown")
}$(".lt-ie9 .mobile-section-nav ul li:even").addClass("odd");
$(".lt-ie9 .mobile-section-nav ul li:odd").addClass("even");
$(".lt-ie9 .tile-nav-cont ul.tile-nav li:even").addClass("odd");
$(".lt-ie9 .tile-nav-cont ul.tile-nav li:odd").addClass("even");
$(window).on("load scroll resize orientationchange",function(){var B=$(".mobile-menu-cont"),v=$("#mobile-header"),w=$(".mobile-menu-cont .mobile-breadcrumbs"),C=$(".secondarynav"),x=$(".sticky-nav"),A=$(".mm:visible").height()-B.height();
C=$(".secondarynav").filter(function(D){return !$("nav.product-secondary-nav",this).length
});
C.addClass(".mobile-hidden");
function z(){B.hide();
v.hide();
w.hide()
}function y(){B.show();
v.show();
w.show()
}if(Foundation.utils.is_large_up()){if(C[0]){A=C.offset().top-B.height()
}else{A=$(".mm:visible").height()-B.height()
}C.each(function(){if($(window).scrollTop()>A){if(x.length){y();
B.css({position:"fixed",top:"0px"})
}else{z()
}}else{B.css({position:"relative",top:"0px"});
z()
}})
}else{y();
A=100;
if($(window).scrollTop()>A){B.css({position:"fixed",top:"0px"})
}else{B.css({position:"relative",top:"0px"})
}}});
$(".mobile-nav-toggle").on("click touchstart",function(v){if(v.type=="touchstart"){v.preventDefault()
}v.stopPropagation();
$.setNavHeight();
if($(".shadow").length==0){c.prepend('<div class="shadow">');
setTimeout(function(){$(".page-content-wrapper").on("click",".shadow",o)
},500)
}j.addClass("navOn");
$("a, input, button, iframe, textarea, select, [tabindex]").not(".header-search-container *, .nav-primary *").not(":hidden").attr("aria-hidden",true).on("focus",k());
$(this).attr("aria-expanded","true");
$("#mobile-header .nav-primary").attr("aria-hidden","false").attr("tabindex","0")
});
$(".close-menu a").on("click touchstart",o);
function i(w,v){return w.attr(v)=="false"?"true":"false"
}$(e).on("click",function(x){if($(window).outerWidth()<960){x.preventDefault();
if($(this).parents(".has-submenu").length==1){if($(this).parent("li").hasClass("open")){if($(this).parent("li").find(".has-submenu").length>0){$(this).parent("li").find(".has-submenu").removeClass("open");
$(this).parent("li").find(".has-submenu").attr("aria-expanded")
}$(this).parent("li").toggleClass("open");
$(this).parent("li").attr("aria-expanded",i($(this).parent("li"),"aria-expanded"))
}else{$(m).removeClass("open");
$(m).attr("aria-expanded",false);
$(this).parent("li").toggleClass("open");
$(this).parent("li").attr("aria-expanded",i($(this).parent("li"),"aria-expanded"));
var w=$(this).parent("li").index();
var y=0;
var v=$("#mobile-header").length>0?"#mobile-header ":"";
$(v+".primary-links > li:lt("+w+") > a").each(function(){y+=$(this).outerHeight()+1
});
setTimeout(function(){$(v+".nav-primary > .column").scrollTop(y)
},100)
}}else{if($(this).parents(".has-submenu").length==2){$(this).parent("li").toggleClass("open");
$(this).parent("li").attr("aria-expanded",i($(this).parent("li"),"aria-expanded"))
}}}});
function o(){if(j.hasClass("navOn")){j.removeClass("navOn");
$(".page-content-wrapper .shadow").remove();
$(".page-content-wrapper").off("click",".shadow",o);
$(".nav-primary > .column").css("height","auto");
$(".mobile-nav-toggle").attr("aria-expanded","false");
$("#mobile-header .nav-primary").attr("aria-hidden","true");
$("a, input, button, iframe, textarea, select, [tabindex]").not(".header-search-container *, .nav-primary *").not(":hidden").removeAttr("aria-hidden").off("focus",k)
}}$(window).resize(function(){if(j.hasClass("navOn")){if($(window).outerWidth()>768){$(".nav-primary > .column").css("height","auto")
}else{$.setNavHeight()
}}n()
});
var t=$("#mobile-breadcrumbs");
var r=$(".mobile-section-nav:not(.hidedropdown)");
var f=$(".main-content, header, .toolbarWrapper, footer");
function q(){if($(window).outerWidth()<960){$(".mobile-section-nav > .wrapper").css({"max-height":0});
$(".mobile-section-nav.open > .wrapper").css({"max-height":($(window).height())-100+"px"})
}}function k(v){$("#mobile-header .nav-primary a:first").focus()
}f.on("click",function(v){if(r.hasClass("open")){r.removeClass("open");
r.attr("aria-expanded","false");
q()
}if(t.parent().hasClass("open")){t.parent().removeClass("open");
t.parent().attr("aria-expanded","false");
q()
}});
t.on("click",function(v){if(r.hasClass("open")){r.toggleClass("open");
r.attr("aria-expanded",i(r,"aria-expanded"))
}$(this).parent().toggleClass("open");
$(this).parent().attr("aria-expanded",i($(this).parent(),"aria-expanded"));
if(r.hasClass("open")){r.removeClass("open");
r.attr("aria-expanded","false")
}});
r.on("click",function(v){if($(window).outerWidth()<960){if($(this).children(".sticky-nav-items").length>0||$(".mobile-section-nav .subnav-check").length>0){if(t.parent().hasClass("open")){t.parent().toggleClass("open");
t.parent().attr("aria-expanded",i(t.parent(),"aria-expanded"))
}$(this).toggleClass("open");
$(this).attr("aria-expanded",i($(this),"aria-expanded"));
q()
}}});
var n;
(n=function(){if($(window).outerWidth()<960){var x=$(".mobile-section-nav"),z;
if($("#mobile-header").length>0){var w=$("#mobile-header .header-content-container")
}else{var w=$(".header-content-container")
}var v=$("body");
var y=0;
if(v.hasClass("home")&&x.length==0){$(window).scroll(function(){if(v.scrollTop()>w.offset().top){y=w.offset().top;
v.addClass("sticky-mh")
}else{if(v.scrollTop()<=y){v.removeClass("sticky-mh");
y=0
}}})
}else{$(window).scroll(function(){if(x.length!=0){z=x.offset().top
}if(v.scrollTop()>z){y=z;
v.addClass("sticky-sm")
}else{if(v.scrollTop()<y){v.removeClass("sticky-sm");
y=0
}}})
}}}).call()
})
})();
(function(a){this.setInitialAccessibility=function(){var c=a.Cookies.get("CIBC_AccessibilityContrast")?a.Cookies.get("CIBC_AccessibilityContrast"):0;
document.documentElement.className=document.documentElement.className.replace(/contrast\d/,"contrast"+c);
var d=a.Cookies.get("CIBC_AccessibilityTextSize")?a.Cookies.get("CIBC_AccessibilityTextSize"):1;
document.documentElement.className=document.documentElement.className.replace(/text-size\d/,"text-size"+d);
this.enableDisableFontIcons();
this.enableDisableContrast()
};
this.enableDisableFontIcons=function(){var c=a.Cookies.get("CIBC_AccessibilityTextSize")?a.Cookies.get("CIBC_AccessibilityTextSize"):1;
if(c>=4){a.$(".decreaseFont").removeClass("disabled");
a.$(".increaseFont").addClass("disabled")
}else{if(c<=1){a.$(".decreaseFont").addClass("disabled");
a.$(".increaseFont").removeClass("disabled")
}else{a.$(".decreaseFont").removeClass("disabled");
a.$(".increaseFont").removeClass("disabled")
}}a.$(document).foundation("equalizer","reflow")
};
this.enableDisableContrast=function(){var c=a.Cookies.get("CIBC_AccessibilityContrast")?a.Cookies.get("CIBC_AccessibilityContrast"):0;
if(c==0){a.$(".contrastCTA.contrast0").addClass("enabled");
a.$(".contrastCTA.contrast1").removeClass("enabled")
}else{a.$(".contrastCTA.contrast0").removeClass("enabled");
a.$(".contrastCTA.contrast1").addClass("enabled")
}a.Cookies.set("CIBC_AccessibilityContrast",c,{expires:30});
a.$(document).foundation("equalizer","reflow")
};
var b=this;
a.$(function(){b.setInitialAccessibility();
a.$(".contrastCTA").click(function(d){d.preventDefault();
if(!a.$(this).hasClass("enabled")){var c;
if(a.$(this).hasClass("contrast0")){c=0
}else{c=1
}a.Cookies.set("CIBC_AccessibilityContrast",c,{expires:30});
b.enableDisableContrast();
document.documentElement.className=document.documentElement.className.replace(/contrast\d/,"contrast"+c)
}else{return false
}});
a.$(".changeFont").on("click",function(){if(!a.$(this).hasClass("disabled")){var d=a.Cookies.get("CIBC_AccessibilityTextSize")?a.Cookies.get("CIBC_AccessibilityTextSize"):1;
if(a.$(this).hasClass("increaseFont")){finalSize=Number(d)+1
}else{finalSize=Number(d)-1
}if(finalSize>4||finalSize<0){return false
}else{a.Cookies.set("CIBC_AccessibilityTextSize",finalSize,{expires:30});
document.documentElement.className=document.documentElement.className.replace(/text-size\d/,"text-size"+finalSize)
}b.enableDisableFontIcons()
}else{return false
}var c=$(".increaseFont").offset().top-170;
$("body,html").scrollTop(c)
})
})
})(window);