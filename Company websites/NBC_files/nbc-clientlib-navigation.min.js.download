(function(b){b.fn.addBack=b.fn.addBack||b.fn.andSelf;
b.fn.extend({actual:function(v,a){if(!this[v]){throw'$.actual => The jQuery method "'+v+'" you called does not exist'
}var r={absolute:false,clone:false,includeMargin:false};
var o=b.extend(r,a);
var s=this.eq(0);
var p,n;
if(o.clone===true){p=function(){var c="position: absolute !important; top: -1000 !important; ";
s=s.clone().attr("style",c).appendTo("body")
};
n=function(){s.remove()
}
}else{var q=[];
var t="";
var u;
p=function(){u=s.parents().addBack().filter(":hidden");
t+="visibility: hidden !important; display: block !important; ";
if(o.absolute===true){t+="position: absolute !important; "
}u.each(function(){var c=b(this);
q.push(c.attr("style"));
c.attr("style",t)
})
};
n=function(){u.each(function(c){var d=b(this);
var e=q[c];
if(e===undefined){d.removeAttr("style")
}else{d.attr("style",e)
}})
}
}p();
var m=/(outer)/.test(v)?s[v](o.includeMargin):s[v]();
n();
return m
}})
})(jQuery);
function widthAdjust(){$("header").children("div.global-section").css("width","830px");
$("nav").children("div.main-navigation").css("width","830px");
$("footer").children("div.useful-links").css("width","830px")
}function widthAdjust1000px(){var a="1000px";
$("#header-global-section").children("div.global-section").css("width",a);
$("nav").children("div.main-navigation").css("width",a);
$("footer").children("div.useful-links").css("width",a)
}function displayNav(){var b=$("nav").children(".main-navigation").first().children(".primary").first();
b.children("li").each(function(){$(this).children("a").first().css("color","#666");
$(this).children("a").first().css("background","url(/etc/clientlibs/public/nbc-clientlib-site/images/separator_nav_onglets.gif) no-repeat 100% 10px")
});
var c=b.children(".active").first();
c.css("background","url(/etc/clientlibs/public/nbc-clientlib-site/images/bg_nav_gris_on.gif) repeat-x 0 0");
c.children("a").first().css("color","#e41c23");
c.children("a").first().css("background","url(/etc/clientlibs/public/nbc-clientlib-site/images/up_arrow.gif) no-repeat 50% 100%");
var a=c.children(".secondary");
a.first().children("li").each(function(){$(this).css("background","url(/etc/clientlibs/public/nbc-clientlib-site/images/separator_nav.gif) no-repeat 0 10px");
$($(this).children("a")).css("color","#fff");
$(this).children("a").css("background","url(/etc/clientlibs/public/nbc-clientlib-site/images/separator_nav.gif) no-repeat 100% 10px")
})
}function fixNav(){$(" ul.primary li.active ul.secondary").each(function(){var b=$(this).width();
var a=$(".main-navigation").width()-b;
a=Math.floor(a/($(this).children("li").length));
$(this).children("li").each(function(){$(this).width($(this).width()+a);
$(this).children("span.drop-arrow").css("background-position",($(this).width()/2)-14)
});
$(this).find(".dropdown").children("li").children("a").each(function(){var e=$(this).actual("height");
$(this).children("span").hide();
var d=$(this).actual("height");
$(this).attr("rel",e+"    "+d);
$(this).children("span").show();
if(e>d){var f=$(this).text();
f=$.trim(f);
var c=f.substring(0,f.lastIndexOf(" ")+1)+"<br>"+f.substring(f.lastIndexOf(" ")+1,f.length);
$(this).html(c+'<span class="arrow"></span>')
}})
})
}$(document).ready(function(){widthAdjust();
fixNav();
var a=0;
if($(".main-navigation").offset()){a=$(".main-navigation").offset()
}var b=a.left+$(".main-navigation").width();
$("ul.dropdown").each(function(){$(this).width(($(this).children("li").length)*190);
if(($(this).parent().width()-12)<($(this).children("li").length)*190){$(this).parent().children("span.drop-arrow").width(($(this).children("li").length)*190)
}else{$(this).parent().children("span.drop-arrow").width($(this).parent().width()-14)
}var d=$(this).parent().offset();
var c=d.left+$(this).width();
if(b<c){$(this).css("left",-(c-b+13));
$(this).parent().find("span.drop-arrow").css("left",-(c-b+13));
$(this).parent().find("span.drop-arrow").css("background-position",(c-b+13)+($(this).parent().width()/2)-14)
}});
$(".primary > li").each(function(){$(this).click(function(){$(this).addClass("active").siblings().removeClass("active");
$(this).find("ul.secondary").show();
$(this).siblings().find("ul.secondary").hide()
})
});
$("ul.secondary > li").each(function(){$(this).mouseenter(function(){$(this).addClass("current");
$(this).find("ul.dropdown").show()
});
$(this).mouseleave(function(){$(this).removeClass("current");
$(this).find("ul.dropdown").hide()
})
});
$.fn.reverseChildren=function(){return this.each(function(){var c=$(this);
c.children().each(function(){c.prepend(this)
})
})
};
$(".global-links").reverseChildren();
displayNav()
});