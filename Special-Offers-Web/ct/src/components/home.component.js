import React, {Component} from 'react';
import {Row, Col, Button, Table, Card} from 'react-bootstrap';
import { Redirect } from "react-router-dom";
import '../css/home.css'
import logo from '../assets/cibclogo.png';
import placeholder from '../assets/placeholder.jpg';
import axios from 'axios';

var ls = require('local-storage');

class Home extends Component{
     constructor(props){
         super(props);
        this.state = {
            redirect: null
        }
    //     this.onChange=this.onChange.bind(this);
    //     this.onSubmit= this.onSubmit.bind(this);
     }

     componentDidMount(){
         // check to see if token is valid
         let token = ls.get('token');
         if(token == null || token.length == 0){
            //this.setState({ redirect: "/login" }); // if not logged in, redirect to login page
         }
         else{
         axios.get('/test', { headers: { 'x-access-token': token} })
            .then(response => {
                // If request is good
                console.log(response.data);
            })
            .catch((error) => {
                console.log('error ' + error);
                //this.setState({ redirect: "/login" }); // if not logged in, redirect to login page
            });
        }
     }

    onChange(e){
        this.setState({[e.target.name]: e.target.value}); // set the state of the particular component
    }

    onSubmit(e){
        e.preventDefault();
    }

    render(){
        if(this.state.redirect){
            return <Redirect to={this.state.redirect} />
        }
        return(
            <div className="Home" id="home">
                <Row>
                    <img src={logo} className="logo" alt="Logo" />
                    <h1>Competitive Tracker</h1>
                </Row>
                 <div className="mm-container"/> 
                <div className="content">
                
                <Row>
                        <div className="info">
                        <h1>Tracker Home</h1>
                        <div className="mandate">
                        <h2> CT Mandate</h2>
                        <p>The Competitive Tracker is a project that helps automate the compilation of interest rate data from various
                        competitor websites into an Excel report, and detects and potential changes in such websites since the previous execution.
                        It is a one-of-a-kind collaboration between Career Programs and Business to enable productivity savings.
                        The Competitive Tracker project team aims to build automation tools that streamline this process, bringing value that
                             translates into dollars for the bank.</p>
                        </div>
                        <h2>Our Products</h2>
                        </div>
                </Row>
                <div className="products">
                    <Row>         
                        <Col>
                        <Card style={{ width: '500px'}}>
                            <Card.Img variant="top" src={placeholder} className="img"/>
                            <Card.Body >
                                <Card.Title>Special Offers</Card.Title>
                                <Card.Text style={{height:'20rem'}}>
                                The Special Offers report is an Excel report generated by Selenium and Beautiful soup, based in Python tool that extracts promotional offer information from competing FIs' websites. The purpose of this product is to consolidate and report information pertaining to any special offers that CIBC's competitors offer on a given set of financial products.
                                </Card.Text>
                            </Card.Body>
                            {/* <ListGroup className="list-group-flush">
                                <ListGroupItem>etcetc</ListGroupItem>
                            </ListGroup> */}
                            <Card.Body>
                                <button className="button" type="submit" >
                                    Learn More
                                </button>
                                <button className="button" type="submit">
                                    Download
                                </button>
                            </Card.Body>
                            </Card>
                        </Col>
                        <Col >
                        <Card style={{ width: '500px' }}>
                            <Card.Img variant="top" src={placeholder} className="img"/>
                            <Card.Body>
                                <Card.Title>Rate Scanner</Card.Title>
                                <Card.Text style={{height:'20rem'}}>
                                The Rate Scanner is a user-friendly tool that allows individuals to action the basic commands of the product such as Scanning the Rates as well as Exporting the Report. The tool has many capabilities including highlighting accounts that have had a change in rate, exporting select or all reports which are automatically saved to usersâ€™ H: drives, and an execution log that identifies all accounts that were successfully scanned.
                                
                                </Card.Text>
                            </Card.Body>
                            {/* <ListGroup className="list-group-flush">
                                <ListGroupItem>etcetc</ListGroupItem>
                            </ListGroup> */}
                            <Card.Body>
                                <button className="button" type="submit" >
                                    Learn More
                                </button>
                                <button className="button" type="submit">
                                    Download
                                </button>
                            </Card.Body>
                            </Card>
                        </Col>
                        
                </Row>
                </div>
                <div className="contact">
                    <h1>Contact Us</h1>
                    <p>Team:</p>
                    <p>Any additional questions? Please reach out to us at __________</p>
                    <button className="button2"  onClick = {() => window.showCollectorDialog2}>
                        Raise an Issue
                    </button>

                    <button className="button2"  onClick = {() => window.showCollectorDialog}> 
                        Give Feedback
                    </button>
                </div>
                </div>
            </div>
        )
    }
}

export default Home;